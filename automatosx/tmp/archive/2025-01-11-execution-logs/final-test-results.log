
> automatosx-v2@2.0.0 test
> vitest --run

[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m

 RUN  v1.6.1 /Users/akiralam/code/automatosx2

 âœ“ src/__tests__/plugins/DependencyResolver.test.ts  (32 tests) 9ms
 âœ“ src/__tests__/runtime/security-integration.test.ts  (14 tests) 7ms
 âœ“ src/__tests__/rescript/state/StateMachine.test.ts  (36 tests) 6ms
 âœ“ src/__tests__/rescript-core/TaskPlanner.test.ts  (50 tests) 20ms
 âœ“ src/__tests__/rescript-core/WorkflowOrchestrator.test.ts  (50 tests) 22ms
stderr | src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > RenameProvider > should validate new name is not empty
Rename validation failed: New name cannot be empty

stderr | src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > RenameProvider > should validate new name is different from old name
Rename validation failed: New name is the same as the current name

stderr | src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > RenameProvider > should validate new name is a valid identifier
Rename validation failed: New name is not a valid identifier

stderr | src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > RenameProvider > should reject reserved keywords as new names
Rename validation failed: New name is a reserved keyword

stderr | src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > RenameProvider > should return null for prepare rename at invalid position
Error finding symbol at position /test/rename.ts:0:0: TypeError: symbolDAO.findByFile is not a function
    at IntegrationService.findSymbolAtPosition (/Users/akiralam/code/automatosx2/src/lsp/server/IntegrationService.ts:155:33)
    at RenameProvider.prepareRename (/Users/akiralam/code/automatosx2/src/lsp/providers/RenameProvider.ts:133:52)
    at /Users/akiralam/code/automatosx2/src/lsp/__tests__/Day75LSPAdvanced.test.ts:407:37
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
    at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)
    at file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

stderr | src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > DiagnosticsProvider > should handle invalid file paths gracefully
Error providing diagnostics for file:///nonexistent/invalid.ts: Error: ENOENT: no such file or directory, open '/nonexistent/invalid.ts'
    at open (node:internal/fs/promises:641:25)
    at Proxy.readFile (node:internal/fs/promises:1279:14)
    at QualityService.analyzeFile (/Users/akiralam/code/automatosx2/src/analytics/quality/QualityService.ts:84:21)
    at DiagnosticsProvider.provideDiagnostics (/Users/akiralam/code/automatosx2/src/lsp/providers/DiagnosticsProvider.ts:72:29)
    at /Users/akiralam/code/automatosx2/src/lsp/__tests__/Day75LSPAdvanced.test.ts:529:27
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5) {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/nonexistent/invalid.ts'
}

 âœ“ src/analytics/__tests__/quality/QualityAnalytics.test.ts  (42 tests) 176ms
stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > LSP Utilities > should convert file path to URI
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > LSP Utilities > should convert URI to file path
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > LSP Utilities > should convert offset to position
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > LSP Utilities > should convert position to offset
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > LSP Utilities > should get word at position
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > LSP Types > should check if range contains position
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > LSP Types > should check if ranges overlap
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > LSP Types > should compare positions correctly
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > LSP Types > should map symbol kind correctly
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > LSP Types > should map completion item kind correctly
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Document Manager > should handle document open
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Document Manager > should store document content
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Document Manager > should handle document change
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Document Manager > should handle document close
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Document Manager > should handle document save
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Document Manager > should parse document and extract symbols
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Document Manager > should get all open document URIs
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Document Manager > should provide statistics
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Integration Service > should provide lazy-loaded services
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Integration Service > should cache query results
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Integration Service > should clear cache
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Integration Service > should handle errors gracefully
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Integration Service > should provide cache statistics
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Definition Provider > should provide definition for function
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Definition Provider > should provide definition for class
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 âœ“ src/__tests__/rescript-core/EventBus.test.ts  (42 tests) 11ms
 â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts  (40 tests | 14 failed) 475ms
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > DocumentSymbolsProvider > should extract function symbols from TypeScript
     â†’ Cannot read properties of null (reading 'length')
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > DocumentSymbolsProvider > should extract class symbols with methods
     â†’ Cannot read properties of null (reading 'length')
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > DocumentSymbolsProvider > should extract interface symbols
     â†’ Cannot read properties of null (reading 'some')
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > DocumentSymbolsProvider > should extract variable symbols
     â†’ Cannot read properties of null (reading 'some')
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > DocumentSymbolsProvider > should handle nested symbols
     â†’ Cannot read properties of null (reading 'find')
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > DocumentSymbolsProvider > should handle empty documents
     â†’ Cannot read properties of null (reading 'length')
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > RenameProvider > should provide rename edits for a symbol
     â†’ NOT NULL constraint failed: symbols.file_id
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > RenameProvider > should prepare rename for valid position
     â†’ NOT NULL constraint failed: symbols.file_id
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > RenameProvider > should handle cross-file renames
     â†’ NOT NULL constraint failed: symbols.file_id
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > WorkspaceSymbolsProvider > should search symbols across workspace
     â†’ NOT NULL constraint failed: symbols.file_id
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > WorkspaceSymbolsProvider > should support fuzzy matching
     â†’ NOT NULL constraint failed: symbols.file_id
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > WorkspaceSymbolsProvider > should rank exact matches higher
     â†’ NOT NULL constraint failed: symbols.file_id
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > WorkspaceSymbolsProvider > should limit results to max count
     â†’ NOT NULL constraint failed: symbols.file_id
   â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > WorkspaceSymbolsProvider > should search symbols by kind
     â†’ NOT NULL constraint failed: symbols.file_id
 âœ“ src/parser/__tests__/RubyParserService.test.ts  (26 tests) 30ms
 â¯ extensions/vscode/src/__tests__/Day76VSCodeExtension.test.ts  (0 test)
stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Definition Provider > should return null for unknown symbol
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Definition Provider > should handle document without content
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Definition Provider > should handle multiple definitions (overloaded functions)
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Definition Provider > should provide batch definitions
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Definition Provider > should handle cross-file definitions
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Definition Provider > should prefer local definitions over external
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > complete task workflow > should execute task from idle to completed
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Definition Provider > should handle positions at start of file
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Definition Provider > should handle positions at end of file
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > References Provider > should find references to function
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > complete task workflow > should track execution events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > References Provider > should find references to class
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > References Provider > should exclude declaration when requested
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > complete task workflow > should save checkpoint with provider response data
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 â¯ src/__tests__/runtime/integration.test.ts  (0 test)
stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > References Provider > should find references across multiple files
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > References Provider > should return null for unknown symbol
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > References Provider > should count references
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > References Provider > should group references by file
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > References Provider > should deduplicate references
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > References Provider > should handle document without content
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > References Provider > should handle empty results
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Hover Provider > should provide hover for function
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 â¯ src/__tests__/agent-behavior.test.ts  (40 tests | 8 failed) 12ms
   â¯ src/__tests__/agent-behavior.test.ts > Agent Delegation > should delegate database tasks to data agent
     â†’ expected 'backend' to be 'data' // Object.is equality
   â¯ src/__tests__/agent-behavior.test.ts > Agent Delegation > should delegate testing tasks to quality agent
     â†’ expected 'backend' to be 'quality' // Object.is equality
   â¯ src/__tests__/agent-behavior.test.ts > Agent Delegation > should delegate security audit to security agent
     â†’ expected 'backend' to be 'security' // Object.is equality
   â¯ src/__tests__/agent-behavior.test.ts > Agent Delegation > should delegate documentation to writer agent
     â†’ expected 'backend' to be 'writer' // Object.is equality
   â¯ src/__tests__/agent-behavior.test.ts > Memory Augmentation > should filter memories by date range
     â†’ expected 1762736606360 to be less than or equal to 1738281600000
   â¯ src/__tests__/agent-behavior.test.ts > Memory Augmentation > should cache memory queries
     â†’ expected 0 to be less than 0
   â¯ src/__tests__/agent-behavior.test.ts > Memory Augmentation > should invalidate memory cache on update
     â†’ expected 2 not to be 2 // Object.is equality
   â¯ src/__tests__/agent-behavior.test.ts > Agent Communication > should track message history
     â†’ expected 0 to be greater than or equal to 2
 âœ“ src/parser/__tests__/TypeScriptParserService.test.ts  (27 tests) 32ms
 â¯ src/__tests__/plugins/HotReload.test.ts  (43 tests | 8 failed) 561ms
   â¯ src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > Reload Operations > should measure reload duration
     â†’ expected 0 to be greater than 0
   â¯ src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > Reload Operations > should include version information
     â†’ expected undefined not to be undefined
   â¯ src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > State Preservation > should save plugin state when preserveState enabled
     â†’ expected "spy" to be called with arguments: [ ObjectContaining{â€¦} ]

Received: 



Number of calls: 0

   â¯ src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > State Preservation > should restore plugin state when preserveState enabled
     â†’ expected "spy" to be called with arguments: [ ObjectContaining{â€¦} ]

Received: 



Number of calls: 0

   â¯ src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > State Preservation > should get state snapshot
     â†’ expected undefined to match object { pluginName: 'test-plugin', â€¦(3) }
   â¯ src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > Error Handling > should rollback on error when rollbackOnError enabled
     â†’ expected "spy" to be called with arguments: [ { pluginName: 'test-plugin' } ]

Received: 



Number of calls: 0

   â¯ src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > Event Lifecycle > should emit plugin-unloaded event
     â†’ expected "spy" to be called with arguments: [ ObjectContaining{â€¦} ]

Received: 



Number of calls: 0

   â¯ src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > Event Lifecycle > should emit rollback-complete event
     â†’ expected "spy" to be called with arguments: [ { pluginName: 'test-plugin' } ]

Received: 



Number of calls: 0

 â¯ src/__tests__/plugins/LockfileManager.test.ts  (34 tests | 12 failed) 40ms
   â¯ src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Read Lockfile > should read valid lockfile
     â†’ Failed to read lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
   â¯ src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Write Lockfile > should write lockfile to disk
     â†’ Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
   â¯ src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Update Lockfile > should merge new dependencies into existing lockfile
     â†’ Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
   â¯ src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Update Lockfile > should update existing dependency versions
     â†’ Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
   â¯ src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Validate Lockfile > should return valid for correct lockfile
     â†’ Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
   â¯ src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Validate Lockfile > should detect missing version in dependency
     â†’ Failed to read lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
   â¯ src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Validate Lockfile > should detect missing integrity in dependency
     â†’ Failed to read lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
   â¯ src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Compare with Manifest > should return matching for identical dependencies
     â†’ Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
   â¯ src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Compare with Manifest > should detect dependency in lockfile but not in manifest
     â†’ Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
   â¯ src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Get Flat Dependencies > should flatten lockfile dependencies
     â†’ Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  },
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-b"
    ],
    "message": "Invalid key in record"
  }
]
   â¯ src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Get Flat Dependencies > should include all required fields in flat entries
     â†’ Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
   â¯ src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Get Flat Dependencies > should mark optional dependencies correctly
     â†’ Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "optional-dep"
    ],
    "message": "Invalid key in record"
  }
]
stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > error recovery > should handle provider errors gracefully
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Hover Provider > should provide hover for class
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Hover Provider > should provide hover for variable
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > error recovery > should transition to failed state on persistent errors
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Hover Provider > should include signature in hover
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > error recovery > should save checkpoint on failure
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Hover Provider > should include docstring in hover
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 â¯ src/__tests__/telemetry/OpenTelemetryProvider.test.ts  (54 tests | 3 failed) 17ms
   â¯ src/__tests__/telemetry/OpenTelemetryProvider.test.ts > OpenTelemetryProvider > Span Operations > should end a span
     â†’ expected 1762736606866 to be greater than 1762736606866
   â¯ src/__tests__/telemetry/OpenTelemetryProvider.test.ts > OpenTelemetryProvider > withSpan Helper > should end span on success
     â†’ expected 0 to be greater than 0
   â¯ src/__tests__/telemetry/OpenTelemetryProvider.test.ts > OpenTelemetryProvider > withSpan Helper > should end span on error
     â†’ expected 0 to be greater than 0
stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Hover Provider > should provide hover for built-in keywords
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Hover Provider > should return null for non-keyword built-ins
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Hover Provider > should handle document without content
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Hover Provider > should return basic hover for unknown symbols
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Hover Provider > should include range in hover
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > concurrent execution > should handle multiple concurrent tasks
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 âœ“ src/__tests__/plugins/PermissionEnforcer.test.ts  (42 tests) 15ms
 â¯ src/providers/__tests__/OpenAIProvider.test.ts  (27 tests | 16 failed) 15ms
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > constructor > should fall back to environment variable for API key
     â†’ expected undefined to be 'env-api-key' // Object.is equality
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should make successful request
     â†’ Cannot read properties of undefined (reading 'completions')
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should handle null content in response
     â†’ Cannot read properties of undefined (reading 'completions')
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should use custom model from request
     â†’ Cannot read properties of undefined (reading 'completions')
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should map length finish reason
     â†’ Cannot read properties of undefined (reading 'completions')
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should map tool_calls finish reason
     â†’ Cannot read properties of undefined (reading 'completions')
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should throw ProviderAuthError on 401
     â†’ expected error to be instance of ProviderAuthError
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should throw ProviderRateLimitError on 429
     â†’ expected error to be instance of ProviderRateLimitError
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should throw ProviderTimeoutError on 408
     â†’ expected error to be instance of ProviderTimeoutError
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should throw ProviderNetworkError on 500
     â†’ expected error to be instance of ProviderNetworkError
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should retry on retryable errors
     â†’ Cannot read properties of undefined (reading 'completions')
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should not retry on non-retryable errors
     â†’ expected error to be instance of ProviderAuthError
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > streamRequest > should handle streaming response
     â†’ Cannot read properties of undefined (reading 'completions')
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > streamRequest > should handle empty deltas in stream
     â†’ Cannot read properties of undefined (reading 'completions')
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > streamRequest > should handle streaming errors
     â†’ expected error to be instance of ProviderNetworkError
   â¯ src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > healthCheck > should return healthy status on success
     â†’ expected false to be true // Object.is equality
 â¯ src/lsp/__tests__/Day74LSPServer.test.ts  (60 tests | 2 failed) 1598ms
   â¯ src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Document Manager > should parse document and extract symbols
     â†’ expected 0 to be greater than 0
   â¯ src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > References Provider > should return null for unknown symbol
     â†’ expected false to be true // Object.is equality
stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Completion Provider > should provide symbol completions
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stderr | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Completion Provider > should provide symbol completions
Error searching symbols for completion: TypeError: symbolDAO.findAll is not a function
    at IntegrationService.searchSymbolsForCompletion (/Users/akiralam/code/automatosx2/src/lsp/server/IntegrationService.ts:218:36)
    at CompletionProvider.getSymbolCompletions (/Users/akiralam/code/automatosx2/src/lsp/providers/CompletionProvider.ts:136:51)
    at CompletionProvider.provideCompletions (/Users/akiralam/code/automatosx2/src/lsp/providers/CompletionProvider.ts:79:43)
    at /Users/akiralam/code/automatosx2/src/lsp/__tests__/Day74LSPServer.test.ts:845:52
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
    at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Completion Provider > should provide keyword completions
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Completion Provider > should provide member completions after dot
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Completion Provider > should sort completions by relevance
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stderr | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Completion Provider > should sort completions by relevance
Error searching symbols for completion: TypeError: symbolDAO.findAll is not a function
    at IntegrationService.searchSymbolsForCompletion (/Users/akiralam/code/automatosx2/src/lsp/server/IntegrationService.ts:218:36)
    at CompletionProvider.getSymbolCompletions (/Users/akiralam/code/automatosx2/src/lsp/providers/CompletionProvider.ts:136:51)
    at CompletionProvider.provideCompletions (/Users/akiralam/code/automatosx2/src/lsp/providers/CompletionProvider.ts:79:43)
    at /Users/akiralam/code/automatosx2/src/lsp/__tests__/Day74LSPServer.test.ts:880:52
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
    at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Completion Provider > should include snippets for functions
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stderr | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Completion Provider > should include snippets for functions
Error searching symbols for completion: TypeError: symbolDAO.findAll is not a function
    at IntegrationService.searchSymbolsForCompletion (/Users/akiralam/code/automatosx2/src/lsp/server/IntegrationService.ts:218:36)
    at CompletionProvider.getSymbolCompletions (/Users/akiralam/code/automatosx2/src/lsp/providers/CompletionProvider.ts:136:51)
    at CompletionProvider.provideCompletions (/Users/akiralam/code/automatosx2/src/lsp/providers/CompletionProvider.ts:79:43)
    at /Users/akiralam/code/automatosx2/src/lsp/__tests__/Day74LSPServer.test.ts:898:52
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
    at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Completion Provider > should handle document without content
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Completion Provider > should filter completions by prefix
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stderr | src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Completion Provider > should filter completions by prefix
Error searching symbols for completion: TypeError: symbolDAO.findAll is not a function
    at IntegrationService.searchSymbolsForCompletion (/Users/akiralam/code/automatosx2/src/lsp/server/IntegrationService.ts:218:36)
    at CompletionProvider.getSymbolCompletions (/Users/akiralam/code/automatosx2/src/lsp/providers/CompletionProvider.ts:136:51)
    at CompletionProvider.provideCompletions (/Users/akiralam/code/automatosx2/src/lsp/providers/CompletionProvider.ts:79:43)
    at /Users/akiralam/code/automatosx2/src/lsp/__tests__/Day74LSPServer.test.ts:923:52
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
    at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)

stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > concurrent execution > should track all active executions
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > concurrent execution > should handle concurrent task completion correctly
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > checkpoint and resume > should resume task from checkpoint
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > initialization > should initialize with disabled telemetry by default
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > initialization > should load configuration from database
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > initialization > should generate unique session ID
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > enable/disable > should enable telemetry
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > enable/disable > should enable telemetry with remote submission
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > enable/disable > should disable telemetry
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackCommand > should not track when disabled
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackCommand > should track command when enabled
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackCommand > should track command with error
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackCommand > should handle tracking failure silently
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackCommand (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:211:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:127:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackQuery > should track query performance
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackQuery > should truncate long queries to 100 chars
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackParser > should track parser invocation
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackParser > should track parser errors
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackError > should track errors
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackError > should truncate error messages to 200 chars
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackError > should truncate stack traces to 500 chars
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackError > should track fatal errors
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackPerformance > should track performance metrics
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackPerformance > should track different metric units
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackFeature > should track feature usage
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > getStats > should retrieve statistics
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > getStats > should filter by date range
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > clearAllData > should clear all telemetry data
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > exportData > should export all telemetry data
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > exportData > should export data for date range
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > privacy guarantees > should not track file paths
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > privacy guarantees > should truncate sensitive data
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > privacy guarantees > should use anonymous session IDs
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > privacy guarantees > should not store code content
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > performance > should complete tracking in < 1ms when enabled
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > performance > should complete immediately when disabled
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > silent failure > should not throw when DAO is unavailable
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > silent failure > should not throw on database errors
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackCommand (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:211:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:479:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackQuery (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:237:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:480:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackParser (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:260:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:481:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackError (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:285:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:482:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackPerformance (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:304:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:483:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackFeature (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:321:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:484:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)

 âœ“ src/services/__tests__/TelemetryService.test.ts  (34 tests) 348ms
stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should add events to queue
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should set retry_count to 0 for new events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should set next_retry_at to NULL for new events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should set queued_at timestamp
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should handle empty array
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should handle multiple events in batch
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should preserve FIFO order by queued_at
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should return events ready for submission
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should respect batch size limit
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should return events in FIFO order
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should not return events scheduled for future retry
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should return events with past retry time
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should return empty array when queue is empty
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should return empty array when all events scheduled for future
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should include retry count and last error in response
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markSubmitted > should remove events from queue
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markSubmitted > should remove correct events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markSubmitted > should handle empty array
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markSubmitted > should handle non-existent queue IDs gracefully
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should increment retry count
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should set last error message
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should schedule retry in future
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should remove event after max retries exceeded
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should handle multiple failures in batch
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should handle empty array
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should handle non-existent queue IDs gracefully
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getStats > should return zero stats for empty queue
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getStats > should count pending events correctly
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getStats > should count retrying events correctly
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getStats > should return oldest queued timestamp
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getStats > should treat past retry times as pending
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > cleanup > should remove old events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > cleanup > should return count of removed events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > cleanup > should not remove recent events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > cleanup > should handle empty queue
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getAll > should return all queued events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getAll > should return empty array when queue is empty
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getAll > should return events in FIFO order
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > clearAll > should remove all events from queue
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > clearAll > should return count of removed events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > clearAll > should handle empty queue
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > integration scenarios > should handle complete submission workflow
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > integration scenarios > should handle retry workflow
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > integration scenarios > should handle max retries exceeded
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > integration scenarios > should handle offline queue buildup and batch submission
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 âœ“ src/services/__tests__/TelemetryQueue.test.ts  (45 tests) 561ms
 âœ“ src/__tests__/marketplace/MarketplaceAnalytics.test.ts  (25 tests) 12ms
 âœ“ src/parser/__tests__/KotlinParserService.test.ts  (30 tests) 43ms
 âœ“ src/__tests__/runtime/guards.test.ts  (35 tests) 6ms
stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > checkpoint and resume > should preserve context across resume
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 âœ“ src/__tests__/bridge/RescriptBridge.test.ts  (64 tests) 113ms
 âœ“ src/__tests__/rescript-core/RetryFallback.test.ts  (47 tests) 2602ms
stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > checkpoint and resume > should list all checkpoints by agent
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 âœ“ src/__tests__/runtime/cancellation-limiter.test.ts  (15 tests) 9ms
 âœ“ src/parser/__tests__/RustParserService.test.ts  (22 tests) 46ms
 â¯ src/__tests__/platform-specific.test.ts  (70 tests | 2 failed) 13ms
   â¯ src/__tests__/platform-specific.test.ts > Path Handling - Cross-Platform > Windows Paths > should handle Windows path with spaces
     â†’ expected '' to contain 'Program Files'
   â¯ src/__tests__/platform-specific.test.ts > Character Encoding - Cross-Platform > should handle Japanese characters
     â†’ expected 3 to be 4 // Object.is equality
stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > performance > should complete simple task quickly
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > performance > should track execution duration accurately
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > saveEvent > should save a telemetry event
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > saveEvent > should save event without event data
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > saveEvent > should return different IDs for different events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > batchInsertEvents > should insert multiple events in a transaction
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > batchInsertEvents > should handle empty array
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEvents > should retrieve all events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEvents > should order events by timestamp DESC
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEvents > should filter by date range
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEvents > should limit results to 1000
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEventsBySession > should retrieve events for specific session
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEventsBySession > should return empty array for non-existent session
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEventsByType > should retrieve events by type
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEventsByType > should respect limit parameter
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > clearAllEvents > should delete all events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > clearEventsBefore > should delete events before specified date
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should execute valid agent task
[36m[2025-11-10T01:03:28.386Z] INFO    Starting agent execution: backend[0m
[36m[2025-11-10T01:03:28.386Z] INFO    Searching memory for relevant context...[0m
[36m[2025-11-10T01:03:28.386Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-10T01:03:28.386Z] INFO    Executing task...[0m

Loading agent configuration
stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > saveStats > should save statistics
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > saveStats > should upsert existing statistics
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getStats > should retrieve all stats
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getStats > should filter by date range
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getStatsByType > should retrieve stats by type
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > config management > should save and retrieve config
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > config management > should return null when no config exists
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > config management > should update existing config
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > aggregateStats > should aggregate command statistics
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > aggregateStats > should aggregate query statistics
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > aggregateStats > should aggregate error statistics
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > privacy guarantees > should not store full error messages
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > privacy guarantees > should handle missing event data
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 âœ“ src/database/dao/__tests__/TelemetryDAO.test.ts  (28 tests) 248ms
 âœ“ src/__tests__/plugins/PluginDebugger.test.ts  (52 tests) 10ms
stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > provider fallback > should emit routing decision events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

âœ“ Loaded agent "backend" configuration
Preparing execution environment
stdout | src/__tests__/integration/provider-runtime-integration.test.ts > Provider + Runtime Integration > provider fallback > should emit provider attempt events
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 âœ“ src/services/__tests__/TelemetrySubmissionClient.test.ts  (30 tests) 25ms
 âœ“ src/__tests__/plugins/PluginProfiler.test.ts  (42 tests) 11ms
âœ“ Environment ready
Analyzing task requirements
 âœ“ src/__tests__/integration/provider-runtime-integration.test.ts  (16 tests) 2787ms
 âœ“ src/__tests__/performance.test.ts  (30 tests) 130ms
âœ“ Analyzed task (29 characters)
Executing task
 âœ“ src/__tests__/community/TutorialRunner.test.ts  (40 tests) 14ms
 âœ“ src/parser/__tests__/CSharpParserService.test.ts  (22 tests) 52ms
 âœ“ src/__tests__/onboarding/OnboardingManager.test.ts  (33 tests) 12ms
âœ“ Task execution complete
Validating results
stdout | src/__tests__/bridge-hardening.test.ts > Logging Regression > should emit log events
[36m[2025-11-10T01:03:29.241Z] INFO    Test message[0m

stdout | src/__tests__/bridge-hardening.test.ts > Logging Regression > should track all log levels
[90m[2025-11-10T01:03:29.241Z] DEBUG   Debug message[0m
[36m[2025-11-10T01:03:29.241Z] INFO    Info message[0m
[32m[2025-11-10T01:03:29.241Z] SUCCESS Success message[0m
[33m[2025-11-10T01:03:29.241Z] WARN    Warning message[0m

stdout | src/__tests__/bridge-hardening.test.ts > Logging Regression > should include metadata
[36m[2025-11-10T01:03:29.242Z] INFO    Test[0m
  {
    "userId": 123,
    "action": "login"
  }

stdout | src/__tests__/bridge-hardening.test.ts > Logging Regression > should respect min level
[33m[2025-11-10T01:03:29.242Z] WARN    Should log[0m

stdout | src/__tests__/bridge-hardening.test.ts > Logging Regression > should buffer events
[36m[2025-11-10T01:03:29.242Z] INFO    Message 1[0m
[36m[2025-11-10T01:03:29.242Z] INFO    Message 2[0m
[36m[2025-11-10T01:03:29.242Z] INFO    Message 3[0m

stdout | src/__tests__/bridge-hardening.test.ts > Logging Regression > should clear buffer
[36m[2025-11-10T01:03:29.243Z] INFO    Message 1[0m
[36m[2025-11-10T01:03:29.243Z] INFO    Message 2[0m

stdout | src/__tests__/bridge-hardening.test.ts > Bridge Integration > should handle validation -> logging -> success flow
[36m[2025-11-10T01:03:29.243Z] INFO    Starting validation[0m
[32m[2025-11-10T01:03:29.243Z] SUCCESS Validation complete[0m

stdout | src/__tests__/bridge-hardening.test.ts > Bridge Integration > should handle validation -> error flow
[36m[2025-11-10T01:03:29.243Z] INFO    Starting validation[0m

 â¯ src/__tests__/bridge-hardening.test.ts  (33 tests | 10 failed) 34ms
   â¯ src/__tests__/bridge-hardening.test.ts > Schema Regression > RunCommandSchema > should cap timeout at maximum
     â†’ [
  {
    "origin": "number",
    "code": "too_big",
    "maximum": 1800000,
    "inclusive": true,
    "path": [
      "timeout"
    ],
    "message": "Timeout cannot exceed 30 minutes"
  }
]
   â¯ src/__tests__/bridge-hardening.test.ts > Schema Regression > MemorySearchSchema > should accept filters
     â†’ expected undefined to be '2025-01-01' // Object.is equality
   â¯ src/__tests__/bridge-hardening.test.ts > Schema Regression > MemorySearchSchema > should reject invalid date format
     â†’ expected [Function] to throw an error
   â¯ src/__tests__/bridge-hardening.test.ts > Schema Regression > ListAgentsSchema > should accept sort options
     â†’ expected undefined to be 'name' // Object.is equality
   â¯ src/__tests__/bridge-hardening.test.ts > Schema Regression > StatusSchema > should enable all health checks by default
     â†’ expected undefined to be true // Object.is equality
   â¯ src/__tests__/bridge-hardening.test.ts > Schema Regression > StatusSchema > should allow selective health checks
     â†’ expected undefined to be true // Object.is equality
   â¯ src/__tests__/bridge-hardening.test.ts > Error Handling Regression > should create error envelope with all fields
     â†’ [
  {
    "origin": "string",
    "code": "invalid_format",
    "format": "uuid",
    "pattern": "/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/",
    "path": [
      "requestId"
    ],
    "message": "Invalid UUID"
  }
]
   â¯ src/__tests__/bridge-hardening.test.ts > Logging Regression > should track all log levels
     â†’ Unhandled error. ({
  level: 'error',
  message: 'Error message',
  timestamp: 2025-11-10T01:03:29.241Z,
  metadata: undefined
})
   â¯ src/__tests__/bridge-hardening.test.ts > Logging Regression > should respect min level
     â†’ Unhandled error. ({
  level: 'error',
  message: 'Should log',
  timestamp: 2025-11-10T01:03:29.242Z,
  metadata: undefined
})
   â¯ src/__tests__/bridge-hardening.test.ts > Bridge Integration > should handle validation -> error flow
     â†’ Unhandled error. ({
  level: 'error',
  message: 'Validation failed',
  timestamp: 2025-11-10T01:03:29.244Z,
  metadata: {
    error: '[\n' +
      '  {\n' +
      '    "origin": "string",\n' +
      '    "code": "invalid_format",\n' +
      '    "format": "regex",\n' +
      '    "pattern": "/^[a-z][a-z0-9-]*$/",\n' +
      '    "path": [\n' +
      '      "agent"\n' +
      '    ],\n' +
      '    "message": "Agent name must be lowercase alphanumeric with hyphens"\n' +
      '  }\n' +
      ']'
  }
})
 â¯ src/__tests__/schema-validation.test.ts  (35 tests | 8 failed) 15ms
   â¯ src/__tests__/schema-validation.test.ts > Schema Validation > ProviderRequestSchema > should reject empty messages array
     â†’ expected true to be false // Object.is equality
   â¯ src/__tests__/schema-validation.test.ts > Schema Validation > ProviderResponseSchema > should validate valid response
     â†’ expected false to be true // Object.is equality
   â¯ src/__tests__/schema-validation.test.ts > Schema Validation > ProviderResponseSchema > should validate usage object
     â†’ expected false to be true // Object.is equality
   â¯ src/__tests__/schema-validation.test.ts > Schema Validation > ProviderResponseSchema > should validate finish reason enum
     â†’ expected false to be true // Object.is equality
   â¯ src/__tests__/schema-validation.test.ts > Schema Validation > ProviderResponseSchema > should accept empty content string
     â†’ expected false to be true // Object.is equality
   â¯ src/__tests__/schema-validation.test.ts > Schema Validation > ProviderResponseSchema > should validate provider name
     â†’ expected false to be true // Object.is equality
   â¯ src/__tests__/schema-validation.test.ts > Schema Validation > Schema Integration > should validate request-response cycle
     â†’ [
  {
    "expected": "number",
    "code": "invalid_type",
    "path": [
      "usage",
      "inputTokens"
    ],
    "message": "Invalid input: expected number, received undefined"
  },
  {
    "expected": "number",
    "code": "invalid_type",
    "path": [
      "usage",
      "outputTokens"
    ],
    "message": "Invalid input: expected number, received undefined"
  }
]
   â¯ src/__tests__/schema-validation.test.ts > Schema Validation > Error Messages > should provide descriptive error messages
     â†’ expected true to be false // Object.is equality
âœ“ Results validated successfully
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should execute valid agent task
[32m[2025-11-10T01:03:29.324Z] SUCCESS Task completed successfully![0m

stderr | src/cli/__tests__/commands.test.ts > RunCommand > should validate agent name format

[31mâœ— Error:[0m Invalid command arguments
[90mCode: VALIDATION_ERROR[0m

[90mDetails:[0m
[
  {
    "path": "agent",
    "message": "Agent name must be lowercase alphanumeric with hyphens"
  }
]

[33mSuggestions:[0m
  1. Run the command with --help to see valid arguments
  2. Check the documentation at https://github.com/defai-digital/automatosx

[90mTimestamp: 2025-11-10T01:03:29.327Z[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle streaming output
[36m[2025-11-10T01:03:29.329Z] INFO    Starting agent execution: backend[0m
[36m[2025-11-10T01:03:29.329Z] INFO    Searching memory for relevant context...[0m
[36m[2025-11-10T01:03:29.329Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-10T01:03:29.329Z] INFO    Executing task...[0m

Loading agent configuration
 âœ“ src/__tests__/cli/UXHelpers.test.ts  (54 tests) 18ms
 â¯ src/__tests__/runtime/guard-isolation.test.ts  (23 tests | 3 failed) 12ms
   â¯ src/__tests__/runtime/guard-isolation.test.ts > Guard Isolation - Context Freezing > creates frozen context that cannot be modified during guard execution
     â†’ isFrozen is not a function
   â¯ src/__tests__/runtime/guard-isolation.test.ts > Isolated Guard Executor > captures guard execution time
     â†’ expected 0 to be greater than 0
   â¯ src/__tests__/runtime/guard-isolation.test.ts > Threat T2 Mitigation - Integration Tests > enforces context immutability during guard execution
     â†’ expected 'Executing' to be 'Preparing' // Object.is equality
âœ“ Loaded agent "backend" configuration
Preparing execution environment
âœ“ Environment ready
Analyzing task requirements
âœ“ Analyzed task (12 characters)
Streaming task execution
 â¯ src/parser/__tests__/PhpParserService.test.ts  (25 tests | 1 failed) 37ms
   â¯ src/parser/__tests__/PhpParserService.test.ts > PhpParserService > parse > should extract constants
     â†’ expected 0 to be greater than or equal to 1
 â¯ src/__tests__/determinism-and-chaos.test.ts  (35 tests | 7 failed) 181ms
   â¯ src/__tests__/determinism-and-chaos.test.ts > Deterministic Random > should generate boolean with 50% probability
     â†’ rng.nextBoolean is not a function
   â¯ src/__tests__/determinism-and-chaos.test.ts > Deterministic Random > should generate same boolean sequence with same seed
     â†’ rng1.nextBoolean is not a function
   â¯ src/__tests__/determinism-and-chaos.test.ts > Deterministic Random > should pick from array deterministically
     â†’ rng.pick is not a function
   â¯ src/__tests__/determinism-and-chaos.test.ts > Deterministic Random > should reset to initial seed
     â†’ expected [ 0.02040268573909998, â€¦(4) ] to deeply equal [ NaN, NaN, NaN, NaN, NaN ]
   â¯ src/__tests__/determinism-and-chaos.test.ts > Chaos Engine > should track chaos events
     â†’ expected 5 to be 10 // Object.is equality
   â¯ src/__tests__/determinism-and-chaos.test.ts > Chaos Engine > should inject delays
     â†’ expected 0 to be greater than or equal to 90
   â¯ src/__tests__/determinism-and-chaos.test.ts > Chaos Engine > should get summary statistics
     â†’ expected 56 to be 100 // Object.is equality
 âœ“ src/parser/__tests__/GoParserService.test.ts  (24 tests) 25ms
âœ“ Task execution complete
Validating results
error: unknown option '--lang'
stdout | src/cli/commands/__tests__/def.test.ts > def command > command execution > should find definition for symbol
Running database migrations...
  All migrations already applied.

Looking up: "getUserById"

Symbol "getUserById" not found.

Try:
  â€¢ Checking your spelling
  â€¢ Using ax find to search for similar names
  â€¢ Indexing more files


stderr | src/cli/commands/__tests__/def.test.ts > def command > command execution > should find definition for symbol
Error: process.exit unexpectedly called with "0"

stderr | src/cli/commands/__tests__/def.test.ts > def command > output formatting > should format definition as text by default
Error: process.exit unexpectedly called with "0"

stdout | src/cli/commands/__tests__/def.test.ts > def command > error handling > should handle empty symbol
Running database migrations...
  All migrations already applied.

Looking up: ""

Symbol "" not found.

Try:
  â€¢ Checking your spelling
  â€¢ Using ax find to search for similar names
  â€¢ Indexing more files


stderr | src/cli/commands/__tests__/def.test.ts > def command > error handling > should handle empty symbol
Error: process.exit unexpectedly called with "0"

stderr | src/cli/commands/__tests__/def.test.ts > def command > error handling > should handle symbol not found
Error: process.exit unexpectedly called with "0"

stdout | src/cli/commands/__tests__/def.test.ts > def command > error handling > should handle search errors gracefully
Running database migrations...
  All migrations already applied.

Looking up: "test"

Symbol "test" not found.

Try:
  â€¢ Checking your spelling
  â€¢ Using ax find to search for similar names
  â€¢ Indexing more files


stdout | src/cli/commands/__tests__/def.test.ts > def command > performance > should complete lookup within reasonable time
Running database migrations...
  All migrations already applied.

Looking up: "test"

Symbol "test" not found.

Try:
  â€¢ Checking your spelling
  â€¢ Using ax find to search for similar names
  â€¢ Indexing more files


stderr | src/cli/commands/__tests__/def.test.ts > def command > performance > should complete lookup within reasonable time
Error: process.exit unexpectedly called with "0"

error: unknown option '--kind'
error: unknown option '--line'
error: unknown option '--json'
error: unknown option '--verbose'
error: unknown option '--kind'
error: unknown option '--kind'
error: unknown option '--kind'
error: unknown option '--kind'
error: unknown option '--kind'
error: unknown option '--lang'
error: unknown option '--lang'
error: unknown option '--lang'
 â¯ src/cli/commands/__tests__/def.test.ts  (28 tests | 24 failed) 22ms
   â¯ src/cli/commands/__tests__/def.test.ts > def command > command registration > should have correct aliases
     â†’ expected [] to include 'definition'
   â¯ src/cli/commands/__tests__/def.test.ts > def command > command options > should have lang option
     â†’ expected undefined not to be undefined
   â¯ src/cli/commands/__tests__/def.test.ts > def command > command options > should have kind option
     â†’ expected undefined not to be undefined
   â¯ src/cli/commands/__tests__/def.test.ts > def command > command options > should have json option
     â†’ expected undefined not to be undefined
   â¯ src/cli/commands/__tests__/def.test.ts > def command > command options > should have verbose option
     â†’ expected undefined not to be undefined
   â¯ src/cli/commands/__tests__/def.test.ts > def command > command options > should have line option for line numbers
     â†’ expected undefined not to be undefined
   â¯ src/cli/commands/__tests__/def.test.ts > def command > command execution > should find definition for symbol
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > command execution > should apply language filter
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > command execution > should apply kind filter
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > command execution > should show line numbers when requested
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > output formatting > should format definition as text by default
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > output formatting > should format definition as JSON when requested
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > output formatting > should show verbose output with source code
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > error handling > should handle symbol not found
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > error handling > should handle search errors gracefully
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > definition types > should find function definitions
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > definition types > should find class definitions
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > definition types > should find interface definitions
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > definition types > should find type definitions
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > definition types > should find variable definitions
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > language-specific definitions > should find TypeScript definitions
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > language-specific definitions > should find Python definitions
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > language-specific definitions > should find JavaScript definitions
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/def.test.ts > def command > performance > should complete lookup within reasonable time
     â†’ process.exit unexpectedly called with "1"
âœ“ Results validated successfully
Loading agent configuration
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle streaming output
[32m[2025-11-10T01:03:30.469Z] SUCCESS Task completed successfully![0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should respect verbose flag
[36m[2025-11-10T01:03:30.475Z] INFO    Starting agent execution: backend[0m
[90m[2025-11-10T01:03:30.475Z] DEBUG   Configuration[0m
  {
    "agent": "backend",
    "provider": "default",
    "streaming": false,
    "parallel": false,
    "resumable": false,
    "useMemory": true
  }
[90m[2025-11-10T01:03:30.475Z] DEBUG   Loading agent: backend[0m
[36m[2025-11-10T01:03:30.475Z] INFO    Searching memory for relevant context...[0m
[90m[2025-11-10T01:03:30.475Z] DEBUG   Memory search limit: 10[0m
[36m[2025-11-10T01:03:30.475Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-10T01:03:30.475Z] INFO    Executing task...[0m
[90m[2025-11-10T01:03:30.475Z] DEBUG   Task: Test task[0m

 â¯ src/web/__tests__/Day73DependencyGraph.test.tsx  (46 tests | 6 failed) 984ms
   â¯ src/web/__tests__/Day73DependencyGraph.test.tsx > DependencyGraphVisualization > accepts all required props
     â†’ expected [Function] to not throw an error but 'TypeError: svg.append(...).selectAll â€¦' was thrown
   â¯ src/web/__tests__/Day73DependencyGraph.test.tsx > DependencyGraphVisualization > accepts optional layout props
     â†’ expected [Function] to not throw an error but 'TypeError: svg.append(...).selectAll â€¦' was thrown
   â¯ src/web/__tests__/Day73DependencyGraph.test.tsx > DependenciesPage > renders page with all components
     â†’ svg.append(...).selectAll is not a function
   â¯ src/web/__tests__/Day73DependencyGraph.test.tsx > DependenciesPage > displays error alert
     â†’ Cannot read properties of undefined (reading 'nodeTypes')
   â¯ src/web/__tests__/Day73DependencyGraph.test.tsx > DependenciesPage > renders graph statistics
     â†’ svg.append(...).selectAll is not a function
   â¯ src/web/__tests__/Day73DependencyGraph.test.tsx > DependenciesPage > renders circular dependency detector
     â†’ svg.append(...).selectAll is not a function
stderr | src/web/__tests__/Day73DependencyGraph.test.tsx > DependencyGraphVisualization > accepts all required props
Error: Uncaught [TypeError: svg.append(...).selectAll is not a function]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27165:5) TypeError: svg.append(...).selectAll is not a function
    at /Users/akiralam/code/automatosx2/src/web/components/dependencies/DependencyGraphVisualization.tsx:118:24
    at commitHookEffectListMount (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at /Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26808:9
    at flushActQueue (/Users/akiralam/code/automatosx2/node_modules/react/cjs/react.development.js:2667:24)
The above error occurred in the <DependencyGraphVisualization> component:

    at DependencyGraphVisualization (/Users/akiralam/code/automatosx2/src/web/components/dependencies/DependencyGraphVisualization.tsx:10:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/web/__tests__/Day73DependencyGraph.test.tsx > DependencyGraphVisualization > accepts optional layout props
Error: Uncaught [TypeError: svg.append(...).selectAll is not a function]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27165:5) TypeError: svg.append(...).selectAll is not a function
    at /Users/akiralam/code/automatosx2/src/web/components/dependencies/DependencyGraphVisualization.tsx:118:24
    at commitHookEffectListMount (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at /Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26808:9
    at flushActQueue (/Users/akiralam/code/automatosx2/node_modules/react/cjs/react.development.js:2667:24)
The above error occurred in the <DependencyGraphVisualization> component:

    at DependencyGraphVisualization (/Users/akiralam/code/automatosx2/src/web/components/dependencies/DependencyGraphVisualization.tsx:10:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/web/__tests__/Day73DependencyGraph.test.tsx > GraphControls > renders all control buttons
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.

stderr | src/web/__tests__/Day73DependencyGraph.test.tsx > GraphControls > calls onZoomIn when zoom in button clicked
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.

stderr | src/web/__tests__/Day73DependencyGraph.test.tsx > GraphControls > calls onZoomOut when zoom out button clicked
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.

stderr | src/web/__tests__/Day73DependencyGraph.test.tsx > GraphControls > calls onLayoutChange when layout is changed
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.

stderr | src/web/__tests__/Day73DependencyGraph.test.tsx > GraphControls > calls onNodeSizeChange when slider is moved
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.

stderr | src/web/__tests__/Day73DependencyGraph.test.tsx > GraphControls > calls onToggleLabels when labels switch is toggled
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.

stderr | src/web/__tests__/Day73DependencyGraph.test.tsx > GraphControls > displays current layout algorithm
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.
MUI: You are providing a disabled `button` child to the Tooltip component.
A disabled element does not fire events.
Tooltip needs to listen to the child element's events to display the title.

Add a simple wrapper element, such as a `span`.

stderr | src/web/__tests__/Day73DependencyGraph.test.tsx > DependenciesPage > renders page with all components
Error: Uncaught [TypeError: svg.append(...).selectAll is not a function]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27165:5) TypeError: svg.append(...).selectAll is not a function
    at /Users/akiralam/code/automatosx2/src/web/components/dependencies/DependencyGraphVisualization.tsx:118:24
    at commitHookEffectListMount (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at performSyncWorkOnRoot (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26115:3)
    at flushSyncCallbacks (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:12042:22)
The above error occurred in the <DependencyGraphVisualization> component:

    at DependencyGraphVisualization (/Users/akiralam/code/automatosx2/src/web/components/dependencies/DependencyGraphVisualization.tsx:10:3)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Box (/Users/akiralam/code/automatosx2/node_modules/@mui/system/createBox.js:31:41)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Grid (/Users/akiralam/code/automatosx2/node_modules/@mui/material/node/Grid/Grid.js:381:64)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Grid (/Users/akiralam/code/automatosx2/node_modules/@mui/material/node/Grid/Grid.js:381:64)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Box (/Users/akiralam/code/automatosx2/node_modules/@mui/system/createBox.js:31:41)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Container (/Users/akiralam/code/automatosx2/node_modules/@mui/system/Container/createContainer.js:110:19)
    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:28:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/web/__tests__/Day73DependencyGraph.test.tsx > DependenciesPage > displays error alert
Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'nodeTypes')]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26599:12) TypeError: Cannot read properties of undefined (reading 'nodeTypes')
    at DependencyFilters (/Users/akiralam/code/automatosx2/src/web/components/dependencies/DependencyFilters.tsx:38:13)
    at renderWithHooks (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'nodeTypes')]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26599:12) TypeError: Cannot read properties of undefined (reading 'nodeTypes')
    at DependencyFilters (/Users/akiralam/code/automatosx2/src/web/components/dependencies/DependencyFilters.tsx:38:13)
    at renderWithHooks (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
The above error occurred in the <DependencyFilters> component:

    at DependencyFilters (/Users/akiralam/code/automatosx2/src/web/components/dependencies/DependencyFilters.tsx:8:3)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Box (/Users/akiralam/code/automatosx2/node_modules/@mui/system/createBox.js:31:41)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Grid (/Users/akiralam/code/automatosx2/node_modules/@mui/material/node/Grid/Grid.js:381:64)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Grid (/Users/akiralam/code/automatosx2/node_modules/@mui/material/node/Grid/Grid.js:381:64)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Box (/Users/akiralam/code/automatosx2/node_modules/@mui/system/createBox.js:31:41)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Container (/Users/akiralam/code/automatosx2/node_modules/@mui/system/Container/createContainer.js:110:19)
    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:28:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/web/__tests__/Day73DependencyGraph.test.tsx > DependenciesPage > renders graph statistics
Error: Uncaught [TypeError: svg.append(...).selectAll is not a function]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27165:5) TypeError: svg.append(...).selectAll is not a function
    at /Users/akiralam/code/automatosx2/src/web/components/dependencies/DependencyGraphVisualization.tsx:118:24
    at commitHookEffectListMount (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at performSyncWorkOnRoot (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26115:3)
    at flushSyncCallbacks (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:12042:22)
The above error occurred in the <DependencyGraphVisualization> component:

    at DependencyGraphVisualization (/Users/akiralam/code/automatosx2/src/web/components/dependencies/DependencyGraphVisualization.tsx:10:3)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Box (/Users/akiralam/code/automatosx2/node_modules/@mui/system/createBox.js:31:41)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Grid (/Users/akiralam/code/automatosx2/node_modules/@mui/material/node/Grid/Grid.js:381:64)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Grid (/Users/akiralam/code/automatosx2/node_modules/@mui/material/node/Grid/Grid.js:381:64)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Box (/Users/akiralam/code/automatosx2/node_modules/@mui/system/createBox.js:31:41)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Container (/Users/akiralam/code/automatosx2/node_modules/@mui/system/Container/createContainer.js:110:19)
    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:28:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/web/__tests__/Day73DependencyGraph.test.tsx > DependenciesPage > renders circular dependency detector
Error: Uncaught [TypeError: svg.append(...).selectAll is not a function]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27165:5) TypeError: svg.append(...).selectAll is not a function
    at /Users/akiralam/code/automatosx2/src/web/components/dependencies/DependencyGraphVisualization.tsx:118:24
    at commitHookEffectListMount (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at performSyncWorkOnRoot (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26115:3)
    at flushSyncCallbacks (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:12042:22)
The above error occurred in the <DependencyGraphVisualization> component:

    at DependencyGraphVisualization (/Users/akiralam/code/automatosx2/src/web/components/dependencies/DependencyGraphVisualization.tsx:10:3)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Box (/Users/akiralam/code/automatosx2/node_modules/@mui/system/createBox.js:31:41)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Grid (/Users/akiralam/code/automatosx2/node_modules/@mui/material/node/Grid/Grid.js:381:64)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Grid (/Users/akiralam/code/automatosx2/node_modules/@mui/material/node/Grid/Grid.js:381:64)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Box (/Users/akiralam/code/automatosx2/node_modules/@mui/system/createBox.js:31:41)
    at div
    at /Users/akiralam/code/automatosx2/node_modules/@emotion/react/dist/emotion-element-e8f4cc37.development.cjs.js:60:23
    at Container (/Users/akiralam/code/automatosx2/node_modules/@mui/system/Container/createContainer.js:110:19)
    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:28:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 âœ“ src/__tests__/performance/BenchmarkHarness.test.ts  (28 tests) 273ms
âœ“ Loaded agent "backend" configuration
Preparing execution environment
stderr | src/web/__tests__/Day72QualityDashboard.test.tsx > QualityDashboard Integration > should show loading state
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)

âœ“ Environment ready
Analyzing task requirements
 â¯ src/__tests__/services-and-cache.test.ts  (41 tests | 1 failed) 1348ms
   â¯ src/__tests__/services-and-cache.test.ts > MemoryCache > should evict LRU entry when full
     â†’ expected false to be true // Object.is equality
 âœ“ src/__tests__/seo/SEOOptimizer.test.ts  (36 tests) 8ms
âœ“ Analyzed task (9 characters)
Executing task
 â¯ src/parser/__tests__/SqlParserService.test.ts  (21 tests | 3 failed) 34ms
   â¯ src/parser/__tests__/SqlParserService.test.ts > SqlParserService > parse > should extract CREATE PROCEDURE statements
     â†’ expected 0 to be greater than or equal to 2
   â¯ src/parser/__tests__/SqlParserService.test.ts > SqlParserService > parse > should handle materialized views
     â†’ expected 0 to be greater than or equal to 1
   â¯ src/parser/__tests__/SqlParserService.test.ts > SqlParserService > fixtures > should parse sample-sql-basic.sql
     â†’ expected 3 to be greater than or equal to 5
âœ“ Task execution complete
Validating results
 â¯ src/providers/__tests__/GeminiProvider.test.ts  (22 tests | 21 failed) 8ms
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > constructor > should use custom model from config
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > constructor > should fall back to environment variable for API key
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should make successful request
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should convert system messages to user messages
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should use custom model from request
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should map MAX_TOKENS finish reason to length
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should throw ProviderAuthError on auth failure
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should throw ProviderRateLimitError on quota exceeded
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should throw ProviderTimeoutError on timeout
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should throw ProviderNetworkError on network error
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should retry on retryable errors
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > streamRequest > should handle streaming response
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > streamRequest > should handle streaming errors
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > healthCheck > should return healthy status on success
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > healthCheck > should return unhealthy status on error
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > getAvailableModels > should return list of Gemini models
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > validateConfig > should validate enabled provider with API key
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > validateConfig > should return false for disabled provider
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > validateConfig > should throw error if no API key
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > createGeminiProvider > should create provider with factory function
     â†’ this.client.getGenerativeModel is not a function
   â¯ src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > createGeminiProvider > should merge custom config
     â†’ this.client.getGenerativeModel is not a function
 âœ“ src/__tests__/community/OnboardingAnalytics.test.ts  (41 tests) 10ms
âœ“ Results validated successfully
Loading agent configuration
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should respect verbose flag
[32m[2025-11-10T01:03:31.408Z] SUCCESS Task completed successfully![0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should output JSON when requested
[36m[2025-11-10T01:03:31.408Z] INFO    Starting agent execution: backend[0m
[36m[2025-11-10T01:03:31.408Z] INFO    Searching memory for relevant context...[0m
[36m[2025-11-10T01:03:31.408Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-10T01:03:31.408Z] INFO    Executing task...[0m

 â¯ src/providers/__tests__/ClaudeProvider.test.ts  (23 tests | 14 failed) 13ms
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > constructor > should fall back to environment variable for API key
     â†’ expected undefined to be 'env-api-key' // Object.is equality
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should make successful request
     â†’ Cannot read properties of undefined (reading 'create')
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should handle multiple text blocks in response
     â†’ Cannot read properties of undefined (reading 'create')
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should use custom model from request
     â†’ Cannot read properties of undefined (reading 'create')
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should map max_tokens stop reason to length
     â†’ Cannot read properties of undefined (reading 'create')
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should throw ProviderAuthError on 401
     â†’ expected error to be instance of ProviderAuthError
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should throw ProviderRateLimitError on 429
     â†’ expected error to be instance of ProviderRateLimitError
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should throw ProviderTimeoutError on 408
     â†’ expected error to be instance of ProviderTimeoutError
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should throw ProviderNetworkError on 500
     â†’ expected error to be instance of ProviderNetworkError
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should retry on retryable errors
     â†’ Cannot read properties of undefined (reading 'create')
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should not retry on non-retryable errors
     â†’ expected error to be instance of ProviderAuthError
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > streamRequest > should handle streaming response
     â†’ Cannot read properties of undefined (reading 'create')
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > streamRequest > should handle streaming errors
     â†’ expected error to be instance of ProviderNetworkError
   â¯ src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > healthCheck > should return healthy status on success
     â†’ expected false to be true // Object.is equality
âœ“ Loaded agent "backend" configuration
Preparing execution environment
 âœ“ src/parser/__tests__/JavaParserService.test.ts  (22 tests) 16ms
âœ“ Environment ready
Analyzing task requirements
stderr | src/web/__tests__/Day72QualityDashboard.test.tsx > QualityDashboard Integration > should render overview cards when metrics available
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)

stderr | src/web/__tests__/Day72QualityDashboard.test.tsx > QualityDashboard Integration > should render all charts when data available
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)

stderr | src/web/__tests__/Day72QualityDashboard.test.tsx > QualityDashboard Integration > should render file quality table
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
Warning: An update to QualityDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at QualityDashboard (/Users/akiralam/code/automatosx2/src/web/pages/QualityDashboard.tsx:26:42)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)

 â¯ src/web/__tests__/Day72QualityDashboard.test.tsx  (52 tests | 9 failed) 2331ms
   â¯ src/web/__tests__/Day72QualityDashboard.test.tsx > QualityOverviewCards > should show trend indicators
     â†’ Unable to find an element with the text: Good. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-3 css-zow5z4-MuiGrid-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-3 css-10voxkt-MuiGrid-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-zwt9xa-MuiPaper-root-MuiCard-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiBox-root css-1coeexk"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-1gclo63"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"SpeedIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-0"[39m
              [36m>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiTypography-gutterBottom css-186q1z4-MuiTypography-root"[39m
                [36m>[39m
                  [0mAverage Complexity[0m
                [36m</p>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 css-5lbw0b-MuiTypography-root"[39m
                [36m>[39m
                  [0m12.5[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorDefault MuiChip-filledDefault css-k6mzkh-MuiChip-root"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeSmall MuiChip-icon MuiChip-iconSmall MuiChip-iconColorDefault css-ptiqhd-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"TrendingFlatIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m22 12-4-4v3H3v2h15v3z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
              [36m>[39m
                [0mNormal[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-3 css-10voxkt-MuiGrid-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-zwt9xa-MuiPaper-root-MuiCard-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiBox-root css-1coeexk"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-1e3551v"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"AssessmentIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-0"[39m
              [36m>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiTypography-gutterBottom css-186q1z4-MuiTypography-root"[39m
                [36m>[39m
                  [0mMaintainability Score[0m
                [36m</p>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 css-5lbw0b-MuiTypography-root"[39m
                [36m>[39m
                  [0m75%[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorSuccess MuiChip-filledSuccess css-z0xuhr-MuiChip-root"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeSmall MuiChip-icon MuiChip-iconSmall MuiChip-iconColorSuccess css-ptiqhd-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"TrendingUpIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
              [36m>[39m
                [0mExcellent[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-3 css-10voxkt-MuiGrid-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-zwt9xa-MuiPaper-root-MuiCard-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiBox-root css-1coeexk"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-n4x4js"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"BuildIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-0"[39m
              [36m>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiTypography-gutterBottom css-186q1z4-MuiTypography-root"[39m
                [36m>[39m
                  [0mTechnical Debt[0m
                [36m</p>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 css-5lbw0b-MuiTypography-root"[39m
                [36m>[39m
                  [0m8h[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorDefault MuiChip-filledDefault css-k6mzkh-MuiChip-root"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeSmall MuiChip-icon MuiChip-iconSmall MuiChip-iconColorDefault css-ptiqhd-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"TrendingFlatIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m22 12-4-4v3H3v2h15v3z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
              [36m>[39m
                [0mMedium[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-3 css-10voxkt-MuiGrid-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-zwt9xa-MuiPaper-root-MuiCard-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiBox-root css-1coeexk"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-ogf3yy"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"WarningIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-0"[39m
              [36m>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiTypography-gutterBottom css-186q1z4-MuiTypography-root"[39m
                [36m>[39m
                  [0mRisk Level[0m
                [36m</p>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 css-5lbw0b-MuiTypography-root"[39m
                [36m>[39m
                  [0mLow[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorError MuiChip-filledError css-xs1rnu-MuiChip-root"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeSmall MuiChip-icon MuiChip-iconSmall MuiChip-iconColorError css-ptiqhd-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"TrendingDownIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
              [36m>[39m
                [0m100 files[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   â¯ src/web/__tests__/Day72QualityDashboard.test.tsx > ComplexityChart > should sort files by complexity descending
     â†’ expected 'Complexity DistributionTop 20 most coâ€¦' to contain 'OldDAO.ts'
   â¯ src/web/__tests__/Day72QualityDashboard.test.tsx > CodeSmellsChart > should categorize high complexity smells
     â†’ Unable to find an element with the text: High Complexity. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 css-tynsvj-MuiPaper-root"[39m
    [36m>[39m
      [36m<h6[39m
        [33mclass[39m=[32m"MuiTypography-root MuiTypography-h6 MuiTypography-gutterBottom css-18k87ye-MuiTypography-root"[39m
      [36m>[39m
        [0mCode Smells Distribution[0m
      [36m</h6>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-15qltjq"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"MuiTypography-root MuiTypography-h3 css-rw3qn6-MuiTypography-root"[39m
        [36m>[39m
          [0m4[0m
        [36m</h3>[39m
        [36m<p[39m
          [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 css-1awg3y7-MuiTypography-root"[39m
        [36m>[39m
          [0mTotal Issues[0m
        [36m</p>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"responsive-container"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"pie-chart"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"pie"[39m
          [36m/>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"tooltip"[39m
          [36m/>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"legend"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   â¯ src/web/__tests__/Day72QualityDashboard.test.tsx > CodeSmellsChart > should categorize low maintainability smells
     â†’ Unable to find an element with the text: Low Maintainability. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 css-tynsvj-MuiPaper-root"[39m
    [36m>[39m
      [36m<h6[39m
        [33mclass[39m=[32m"MuiTypography-root MuiTypography-h6 MuiTypography-gutterBottom css-18k87ye-MuiTypography-root"[39m
      [36m>[39m
        [0mCode Smells Distribution[0m
      [36m</h6>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-15qltjq"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"MuiTypography-root MuiTypography-h3 css-rw3qn6-MuiTypography-root"[39m
        [36m>[39m
          [0m4[0m
        [36m</h3>[39m
        [36m<p[39m
          [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 css-1awg3y7-MuiTypography-root"[39m
        [36m>[39m
          [0mTotal Issues[0m
        [36m</p>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"responsive-container"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"pie-chart"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"pie"[39m
          [36m/>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"tooltip"[39m
          [36m/>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"legend"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   â¯ src/web/__tests__/Day72QualityDashboard.test.tsx > FileQualityTable > should call onFileSelect when row clicked
     â†’ expected "spy" to be called with arguments: [ { â€¦(9) } ]

Received: 

  1st spy call:

  Array [
    Object {
-     "complexity": 28.7,
-     "filePath": "src/database/legacy/OldDAO.ts",
-     "grade": "D",
+     "complexity": 8.5,
+     "filePath": "src/services/FileService.ts",
+     "grade": "A",
      "language": "typescript",
-     "maintainability": 42,
-     "qualityScore": 58,
-     "riskLevel": "high",
-     "techDebt": 120,
+     "maintainability": 85,
+     "qualityScore": 92,
+     "riskLevel": "low",
+     "techDebt": 15,
      "timestamp": "2025-01-01T00:00:00Z",
    },
  ]


Number of calls: 1

   â¯ src/web/__tests__/Day72QualityDashboard.test.tsx > QualityFilters > should show active filters count
     â†’ Unable to find an element with the text: 3 active. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 css-tynsvj-MuiPaper-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-1gbbedy"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-axw7ok"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
            [33mdata-testid[39m=[32m"FilterListIcon"[39m
            [33mfocusable[39m=[32m"false"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<h6[39m
            [33mclass[39m=[32m"MuiTypography-root MuiTypography-h6 css-2ulfj5-MuiTypography-root"[39m
          [36m>[39m
            [0mFilters[0m
          [36m</h6>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorPrimary MuiChip-filledPrimary css-15p98er-MuiChip-root"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
            [36m>[39m
              [0m4 active[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary css-1knaqv7-MuiButtonBase-root-MuiButton-root"[39m
          [33mtabindex[39m=[32m"0"[39m
          [33mtype[39m=[32m"button"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeSmall css-y6rp3m-MuiButton-startIcon"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
              [33mdata-testid[39m=[32m"ClearIcon"[39m
              [33mfocusable[39m=[32m"false"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</span>[39m
          [0mClear All[0m
          [36m<span[39m
            [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
          [36m/>[39m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-1i43dhb"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiFormControl-root MuiFormControl-fullWidth css-q8hpuo-MuiFormControl-root"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiInputLabel-sizeMedium MuiInputLabel-outlined MuiFormLabel-colorPrimary MuiFormLabel-filled MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiInputLabel-sizeMedium MuiInputLabel-outlined css-1jy569b-MuiFormLabel-root-MuiInputLabel-root"[39m
            [33mdata-shrink[39m=[32m"true"[39m
            [33mid[39m=[32m"grade-filter-label"[39m
          [36m>[39m
            [0mGrade[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiInputBase-root MuiOutlinedInput-root MuiInputBase-colorPrimary MuiInputBase-formControl css-1yk1gt9-MuiInputBase-root-MuiOutlinedInput-root-MuiSelect-root"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-controls[39m=[32m":r1a:"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33maria-haspopup[39m=[32m"listbox"[39m
              [33maria-labelledby[39m=[32m"grade-filter-label grade-filter"[39m
              [33mclass[39m=[32m"MuiSelect-select MuiSelect-outlined MuiSelect-multiple MuiInputBase-input MuiOutlinedInput-input css-11u53oe-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input"[39m
              [33mid[39m=[32m"grade-filter"[39m
              [33mrole[39m=[32m"combobox"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-yi3mkw"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorDefault MuiChip-filledDefault css-13htn8f-MuiChip-root"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
                  [36m>[39m
                    [0mA[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorDefault MuiChip-filledDefault css-13htn8f-MuiChip-root"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
                  [36m>[39m
                    [0mB[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<input[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33maria-invalid[39m=[32m"false"[39m
              [33mclass[39m=[32m"MuiSelect-nativeInput css-yf8vq0-MuiSelect-nativeInput"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mvalue[39m=[32m"A,B"[39m
            [36m/>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiSelect-icon MuiSelect-iconOutlined css-hfutr2-MuiSvgIcon-root-MuiSelect-icon"[39m
              [33mdata-testid[39m=[32m"ArrowDropDownIcon"[39m
              [33mfocusable[39m=[32m"false"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M7 10l5 5 5-5z"[39m
              [36m/>[39m
            [36m</svg>[...
   â¯ src/web/__tests__/Day72QualityDashboard.test.tsx > QualityFilters > should allow removing individual filters
     â†’ expected "spy" to be called at least once
   â¯ src/web/__tests__/Day72QualityDashboard.test.tsx > QualityFilters > should display quality score slider with marks
     â†’ Found multiple elements with the text: 0

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<span[39m
  [33maria-hidden[39m=[32m"true"[39m
  [33mclass[39m=[32m"MuiSlider-markLabel MuiSlider-markLabel MuiSlider-markLabelActive css-1ucwjgd-MuiSlider-markLabel"[39m
  [33mdata-index[39m=[32m"0"[39m
  [33mstyle[39m=[32m"left: 0%;"[39m
[36m>[39m
  [0m0[0m
[36m</span>[39m

Ignored nodes: comments, script, style
[36m<span[39m
  [33mclass[39m=[32m"MuiSlider-valueLabelLabel"[39m
[36m>[39m
  [0m0[0m
[36m</span>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 css-tynsvj-MuiPaper-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-1gbbedy"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-axw7ok"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
            [33mdata-testid[39m=[32m"FilterListIcon"[39m
            [33mfocusable[39m=[32m"false"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<h6[39m
            [33mclass[39m=[32m"MuiTypography-root MuiTypography-h6 css-2ulfj5-MuiTypography-root"[39m
          [36m>[39m
            [0mFilters[0m
          [36m</h6>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-1i43dhb"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiFormControl-root MuiFormControl-fullWidth css-q8hpuo-MuiFormControl-root"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-sizeMedium MuiInputLabel-outlined MuiFormLabel-colorPrimary MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-sizeMedium MuiInputLabel-outlined css-14s5rfu-MuiFormLabel-root-MuiInputLabel-root"[39m
            [33mdata-shrink[39m=[32m"false"[39m
            [33mid[39m=[32m"grade-filter-label"[39m
          [36m>[39m
            [0mGrade[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiInputBase-root MuiOutlinedInput-root MuiInputBase-colorPrimary MuiInputBase-formControl css-1yk1gt9-MuiInputBase-root-MuiOutlinedInput-root-MuiSelect-root"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-controls[39m=[32m":r1k:"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33maria-haspopup[39m=[32m"listbox"[39m
              [33maria-labelledby[39m=[32m"grade-filter-label grade-filter"[39m
              [33mclass[39m=[32m"MuiSelect-select MuiSelect-outlined MuiSelect-multiple MuiInputBase-input MuiOutlinedInput-input css-11u53oe-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input"[39m
              [33mid[39m=[32m"grade-filter"[39m
              [33mrole[39m=[32m"combobox"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"notranslate"[39m
              [36m>[39m
                [0mâ€‹[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<input[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33maria-invalid[39m=[32m"false"[39m
              [33mclass[39m=[32m"MuiSelect-nativeInput css-yf8vq0-MuiSelect-nativeInput"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiSelect-icon MuiSelect-iconOutlined css-hfutr2-MuiSvgIcon-root-MuiSelect-icon"[39m
              [33mdata-testid[39m=[32m"ArrowDropDownIcon"[39m
              [33mfocusable[39m=[32m"false"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M7 10l5 5 5-5z"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<fieldset[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiOutlinedInput-notchedOutline css-r01yff-MuiNotchedOutlined-root-MuiOutlinedInput-notchedOutline"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"css-njhac4-MuiNotchedOutlined-root"[39m
              [36m>[39m
                [36m<span>[39m
                  [0mGrade[0m
                [36m</span>[39m
              [36m</legend>[39m
            [36m</fieldset>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiFormControl-root MuiFormControl-fullWidth css-q8hpuo-MuiFormControl-root"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-sizeMedium MuiInputLabel-outlined MuiFormLabel-colorPrimary MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-sizeMedium MuiInputLabel-outlined css-14s5rfu-MuiFormLabel-root-MuiInputLabel-root"[39m
            [33mdata-shrink[39m=[32m"false"[39m
            [33mid[39m=[32m"risk-level-filter-label"[39m
          [36m>[39m
            [0mRisk Level[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiInputBase-root MuiOutlinedInput-root MuiInputBase-colorPrimary MuiInputBase-formControl css-1yk1gt9-MuiInputBase-root-MuiOutlinedInput-root-MuiSelect-root"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-controls[39m=[32m":r1l:"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33maria-haspopup[39m=[32m"listbox"[39m
              [33maria-labelledby[39m=[32m"risk-level-filter-label risk-level-filter"[39m
              [33mclass[39m=[32m"MuiSelect-select MuiSelect-outlined MuiSelect-multiple MuiInputBase-input MuiOutlinedInput-input css-11u53oe-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input"[39m
              [33mid[39m=[32m"risk-level-filter"[39m
              [33mrole[39m=[32m"combobox"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"notranslate"[39m
              [36m>[39m
                [0mâ€‹[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<input[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33maria-invalid[39m=[32m"false"[39m
              [33mclass[39m=[32m"MuiSelect-nativeInput css-yf8vq0-MuiSelect-nativeInput"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiSelect-icon MuiSelect-iconOutlined css-hfutr2-MuiSvgIcon-root-MuiSelect-icon"[39m
              [33mdata-testid[39m=[32m"ArrowDropDownIcon"[39m
              [33mfocusable[39m=[32m"false"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M7 10l5 5 5-5z"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<fieldset[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiOutlinedInput-notchedOutline css-r01yff-MuiNotchedOutlined-root-MuiOutlinedInput-notchedOutline"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"css-njhac4-MuiNotchedOutlined-root"[39m
              [36m>[39m
                [36m<span>[39m
                  [0mRisk Level[0m
                [36m</span>[39m
              [36m</legend>[39m
            [36m</fieldset>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-0"[39m
        [36m>[39m
          [36m<p[39m
            [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiTypography-gutterBottom css-ejgmvm-MuiTypography-root"[39m
          [36m>[39m
            [0mMinimum Quality Score: [0m
            [0m0[0m
          [36m</p>[39m
          [36m<span[39m
            [33mclass[39m=[32m"MuiSlider-root MuiSlider-marked MuiSlider-colorPrimary MuiSlider-sizeMedium css-ltlhnc-MuiSlider-root"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-rail css-7o8aqz-MuiSlider-rail"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-track css-ttgsjq-MuiSlider-track"[39m
              [33mstyle[39m=[32m"left: 0%; width: 0%;"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-mark MuiSlider-markActive css-z5sdnj-MuiSlider-mark"[39m
              [33mdata-index[39m=[32m"0"[39m
              [33mstyle[39m=[32m"left: 0%;"[39m
            [36m/>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSlider-markLabel MuiSlider-markLabel MuiSlider-markLabelActive css-1ucwjgd-MuiSlider-markLabel"[39m
              [33mdata-index[39m=[32m"0"[39m
              [33mstyle[39m=[32m"left: 0%;"[39m
            [36m>[39m
              [0m0[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-mark css-hzp7sc-MuiSlider-mark"[39m
              [33mdata-index[39m=[32m"1"[39m
              [33mstyle[39m=[32m"left: 25%;"[39m
            [36m/>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSlider-markLabel MuiSlider-markLabel css-1bvr8oc-MuiSlider-markLabel"[39m
              [33mdata-index[39m=[32m"1"[39m
              [33mstyle[39m=[32m"left: 25%;"[39m
            [36m>[39m
              [0m25[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-mark css-hzp7sc-MuiSlider-mark"[39m
              [33mdata-index[39m=[32m"2"[39m
              [33mstyle[39m=[32m"left: 50%;"[39m
            [36m/>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSlider-markLabel MuiSlider-markLabel css-1bvr8oc-MuiSlider-markLabel"[39m
              [33mdata-index[39m=[32m"2"[39m
              [33mstyle[39m=[32m"left: 50%;"[39m
            [36m>[39m
              [0m50[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-mark css-hzp7sc-MuiSlider-mark"[39m
              [33mdata-index[39m=[32m"3"[39m
              [33mstyle[39m=[32m"left: 75%;"[39m
            [36m/>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSlider-markLabel MuiSlider-markLabel css-1bvr8oc-MuiSlider-markLabel"[39m
              [33mdata-index[39m=[32m"3"[39m
              [33mstyle[39m=[32m"left: 75%;"[39m
            [36m>[39m
              [0m75[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-mark css-hzp7sc-MuiSlider-mark"[39m
              [33mdata-index[39m=[32m"4"[39m
              [33mstyle[39m=[32m"left: 100%;"[39m
            [36m/>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSlider-markLabel MuiSlider-markLabel css-1bvr8oc-MuiSlider-markLabel"[39m
              [33mdata-index[39m=[32m"4"[39m
              [33mstyle[39m=[32m"left: 100%;"[39m
            [36m>[39m
              [0m100[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-thumb MuiSlider-thumbSizeMedium MuiSlider-thumbColorPrimary MuiSlider-thumb MuiSlider-thumbSizeMedium MuiSlider-thumbColorPrimary css-cp2j25-MuiSlider-thumb"[39m
              [33mdata-index[39m=[32m"0"[39m
              [33mstyle[39m=[32m"left: 0%;"[39m
            [36m>[39m
              [36m<input[39m
                [33maria-label[39m=[32m"Minimum Quality Score"[39m
                [33maria-orientation[39m=[32m"horizontal"[39m
                [33maria-valuemax[39m=[32m"100"[39m
                [33maria-valuemin[39m=[32m"0"[39m
                [33maria-valuenow[39m=[32m"0"[39m
                [33mdata-index[39m=[32m"0"[39m
                [33mmax[39m=[32m"100"[39m
                [33mmin[39m=[32m"0"[39m
                [33mstep[39m=[32m"5"[39m
                [33mstyle[39m=[32m"border: 0px; height: 100%; margin: -1px; overflow: hidden; padding: 0px; position: absolute; white-space: nowrap; width: 100%; direction: ltr;"[39m
                [33mtype[39m=[32m"range"[39m
                [33mvalue[39m=[32m"0"[39m
              [36m/>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSlider-valueLabel css-14gyywz-MuiSlider-valueLabel"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"MuiSlider-valueLabelCircle"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"MuiSlider-valueLabelLabel"[39m
                  [36m>[39m
                    [0m0[0m
                  [36m</span>[39m
                [36m</span>[39m
              [36m</span>[39m
            [36m</span>[39m
          [36m</span>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   â¯ src/web/__tests__/Day72QualityDashboard.test.tsx > QualityDashboard Integration > should display error alert
     â†’ Unable to find an element with the text: Failed to fetch data. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiContainer-root MuiContainer-maxWidthXl css-19r6kue-MuiContainer-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-zitybv"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-v08z5u"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiBox-root css-0"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom css-1vw6mcs-MuiTypography-root"[39m
            [36m>[39m
              [0mQuality Dashboard[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"MuiTypography-root MuiTypography-body1 css-1pnmrwp-MuiTypography-root"[39m
            [36m>[39m
              [0mView code quality metrics, complexity analysis, and technical debt[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<button[39m
            [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1rwt2y5-MuiButtonBase-root-MuiButton-root"[39m
            [33mtabindex[39m=[32m"0"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1d6wzja-MuiButton-startIcon"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"RefreshIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</span>[39m
            [0mRefresh[0m
            [36m<span[39m
              [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
            [36m/>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAlert-root MuiAlert-colorError MuiAlert-standardError MuiAlert-standard css-h8vawe-MuiPaper-root-MuiAlert-root"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiAlert-icon css-1ytlwq5-MuiAlert-icon"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeInherit css-1vooibu-MuiSvgIcon-root"[39m
              [33mdata-testid[39m=[32m"ErrorOutlineIcon"[39m
              [33mfocusable[39m=[32m"false"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiAlert-message css-1pxa9xg-MuiAlert-message"[39m
          [36m>[39m
            [0mCannot read properties of undefined (reading 'ok')[0m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiAlert-action css-ki1hdl-MuiAlert-action"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Close"[39m
              [33mclass[39m=[32m"MuiButtonBase-root MuiIconButton-root MuiIconButton-colorInherit MuiIconButton-sizeSmall css-1e0d89p-MuiButtonBase-root-MuiIconButton-root"[39m
              [33mtabindex[39m=[32m"0"[39m
              [33mtitle[39m=[32m"Close"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeSmall css-ptiqhd-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"CloseIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
              [36m/>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-i3pbo"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-3 css-zow5z4-MuiGrid-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-3 css-10voxkt-MuiGrid-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-zwt9xa-MuiPaper-root-MuiCard-root"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"MuiBox-root css-1coeexk"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"MuiBox-root css-1gclo63"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                        [33mdata-testid[39m=[32m"SpeedIcon"[39m
                        [33mfocusable[39m=[32m"false"[39m
             ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiContainer-root MuiContainer-maxWidthXl css-19r6kue-MuiContainer-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-zitybv"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiBox-root css-v08z5u"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiBox-root css-0"[39m
            [36m>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom css-1vw6mcs-MuiTypography-root"[39m
              [36m>[39m
                [0mQuality Dashboard[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"MuiTypography-root MuiTypography-body1 css-1pnmrwp-MuiTypography-root"[39m
              [36m>[39m
                [0mView code quality metrics, complexity analysis, and technical debt[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1rwt2y5-MuiButtonBase-root-MuiButton-root"[39m
              [33mtabindex[39m=[32m"0"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1d6wzja-MuiButton-startIcon"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"RefreshIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</span>[39m
              [0mRefresh[0m
              [36m<span[39m
                [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
              [36m/>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAlert-root MuiAlert-colorError MuiAlert-standardError MuiAlert-standard css-h8vawe-MuiPaper-root-MuiAlert-root"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiAlert-icon css-1ytlwq5-MuiAlert-icon"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeInherit css-1vooibu-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"ErrorOutlineIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiAlert-message css-1pxa9xg-MuiAlert-message"[39m
            [36m>[39m
              [0mCannot read properties of undefined (reading 'ok')[0m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiAlert-action css-ki1hdl-MuiAlert-action"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Close"[39m
                [33mclass[39m=[32m"MuiButtonBase-root MuiIconButton-root MuiIconButton-colorInherit MuiIconButton-sizeSmall css-1e0d89p-MuiButtonBase-root-MuiIconButton-root"[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtitle[39m=[32m"Close"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeSmall css-ptiqhd-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"CloseIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
                [36m/>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiBox-root css-i3pbo"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-3 css-zow5z4-MuiGrid-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-3 css-10voxkt-MuiGrid-root"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-zwt9xa-MuiPaper-root-MuiCard-root"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"MuiBox-root css-1coeexk"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"MuiBox-root css-1gclo63"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33maria-hidde...
âœ“ Analyzed task (9 characters)
Executing task
 â¯ src/__tests__/cli/LazyLoader.test.ts  (34 tests | 16 failed | 2 skipped) 33ms
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Loading > should return cached module on second load
     â†’ Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611946/test.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611946/test.mjs). Does the file exist?
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Loading > should track load time
     â†’ Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611947/test.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611947/test.mjs). Does the file exist?
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Loading > should emit module-loaded event
     â†’ Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611948/test.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611948/test.mjs). Does the file exist?
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Loading > should handle concurrent loads
     â†’ Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611951/concurrent.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611951/concurrent.mjs). Does the file exist?
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Module Access > should get loaded module
     â†’ Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611952/get-test.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611952/get-test.mjs). Does the file exist?
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Module Access > should check if loaded
     â†’ Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611954/check.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611954/check.mjs). Does the file exist?
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Module Access > should check if loading
     â†’ Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611955/loading.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611955/loading.mjs). Does the file exist?
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Preloading > should preload multiple modules
     â†’ expected false to be true // Object.is equality
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Preloading > should continue preloading on individual failures
     â†’ expected false to be true // Object.is equality
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Cache Management > should clear cached module
     â†’ Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611963/clear.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611963/clear.mjs). Does the file exist?
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Cache Management > should clear all cached modules
     â†’ expected [] to have a length of 2 but got +0
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Statistics > should calculate statistics
     â†’ expected { registered: 3, loaded: +0, â€¦(4) } to match object { registered: 3, loaded: 2, â€¦(3) }
(1 matching property omitted from actual)
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Statistics > should track slowest module
     â†’ Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611969/fast.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611969/fast.mjs). Does the file exist?
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Lazy Getter > should create lazy getter function
     â†’ Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611970/getter.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611970/getter.mjs). Does the file exist?
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Lazy Getter > should cache result on subsequent calls
     â†’ Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611971/cache-getter.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611971/cache-getter.mjs). Does the file exist?
   â¯ src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Unregister > should clear module on unregister
     â†’ Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611972/unreg.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611972/unreg.mjs). Does the file exist?
 âœ“ src/parser/__tests__/AssemblyScriptParserService.test.ts  (20 tests) 28ms
âœ“ Task execution complete
Validating results
 âœ“ src/__tests__/onboarding/AccessibilityHelper.test.ts  (39 tests) 6ms
âœ“ Results validated successfully
Loading agent configuration
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should output JSON when requested
[32m[2025-11-10T01:03:32.344Z] SUCCESS Task completed successfully![0m
{
  "success": true,
  "agent": "backend",
  "task": "Test task",
  "timestamp": "2025-11-10T01:03:32.344Z"
}

stderr | src/cli/__tests__/commands.test.ts > RunCommand > should validate task description length

[31mâœ— Error:[0m Invalid command arguments
[90mCode: VALIDATION_ERROR[0m

[90mDetails:[0m
[
  {
    "path": "task",
    "message": "Task description too short (min 3 characters)"
  }
]

[33mSuggestions:[0m
  1. Run the command with --help to see valid arguments
  2. Check the documentation at https://github.com/defai-digital/automatosx

[90mTimestamp: 2025-11-10T01:03:32.344Z[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle timeout parameter
[36m[2025-11-10T01:03:32.345Z] INFO    Starting agent execution: backend[0m
[36m[2025-11-10T01:03:32.345Z] INFO    Searching memory for relevant context...[0m
[36m[2025-11-10T01:03:32.345Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-10T01:03:32.345Z] INFO    Executing task...[0m

 âœ“ src/__tests__/optimization/QueryCache.test.ts  (36 tests | 2 skipped) 548ms
âœ“ Loaded agent "backend" configuration
Preparing execution environment
 âœ“ src/__tests__/performance/RuntimeProfiler.test.ts  (37 tests) 248ms
 âœ“ src/__tests__/community/ExamplePluginManager.test.ts  (43 tests) 1827ms
âœ“ Environment ready
Analyzing task requirements
 âœ“ src/__tests__/testing/IntegrationTestValidator.test.ts  (42 tests) 2674ms
 âœ“ src/services/__tests__/RateLimiter.test.ts  (40 tests) 6ms
 âœ“ src/cli/commands/__tests__/config.test.ts  (11 tests) 5ms
âœ“ Analyzed task (9 characters)
Executing task
 âœ“ src/__tests__/cli/StartupMonitor.test.ts  (37 tests) 405ms
 â¯ src/services/__tests__/ProviderRouterV2.test.ts  (26 tests | 4 failed) 5068ms
   â¯ src/services/__tests__/ProviderRouterV2.test.ts > ProviderRouterV2 > fallback mechanism > should fallback to next provider on failure
     â†’ Unhandled error. ({
  provider: 'claude',
  attempt: 1,
  error: Error: Provider 1 failed
      at /Users/akiralam/code/automatosx2/src/services/__tests__/ProviderRouterV2.test.ts:174:32
      at file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:135:14
      at file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:60:26
      at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:17)
      at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
      at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
      at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
      at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
      at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)
      at file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
})
   â¯ src/services/__tests__/ProviderRouterV2.test.ts > ProviderRouterV2 > fallback mechanism > should try all providers before failing
     â†’ expected [Function] to throw error including 'All providers failed' but got 'Unhandled error. ({\n  provider: \'clâ€¦'
   â¯ src/services/__tests__/ProviderRouterV2.test.ts > ProviderRouterV2 > fallback mechanism > should not retry on auth errors
     â†’ expected [Function] to throw error including 'All providers failed' but got 'Unhandled error. ({\n  provider: \'clâ€¦'
   â¯ src/services/__tests__/ProviderRouterV2.test.ts > ProviderRouterV2 > event emission > should emit error event on failures
     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
error: unknown option '--lang'
stdout | src/cli/commands/__tests__/find.test.ts > find command > command execution > should search with query only
Running database migrations...
  All migrations already applied.

âœ— Error: Unexpected error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:


ğŸ’¡ Suggestions:
  1. Try running the command again
  2. Check for typos in command arguments
  3. Run with --verbose for more details (if available)
  4. Report issue with error message and command used
  5. GitHub Issues: https://github.com/automatosx/automatosx/issues


stdout | src/cli/commands/__tests__/find.test.ts > find command > command execution > should apply limit option
Running database migrations...
  All migrations already applied.

âœ— Error: Unexpected error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:


ğŸ’¡ Suggestions:
  1. Try running the command again
  2. Check for typos in command arguments
  3. Run with --verbose for more details (if available)
  4. Report issue with error message and command used
  5. GitHub Issues: https://github.com/automatosx/automatosx/issues


stdout | src/cli/commands/__tests__/find.test.ts > find command > error handling > should handle empty query

âœ— Error: Unexpected error: Query cannot be empty

ğŸ’¡ Suggestions:
  1. Try running the command again
  2. Check for typos in command arguments
  3. Run with --verbose for more details (if available)
  4. Report issue with error message and command used
  5. GitHub Issues: https://github.com/automatosx/automatosx/issues


stdout | src/cli/commands/__tests__/find.test.ts > find command > error handling > should handle search errors gracefully
Running database migrations...
  All migrations already applied.

âœ— Error: Unexpected error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:


ğŸ’¡ Suggestions:
  1. Try running the command again
  2. Check for typos in command arguments
  3. Run with --verbose for more details (if available)
  4. Report issue with error message and command used
  5. GitHub Issues: https://github.com/automatosx/automatosx/issues


stdout | src/cli/commands/__tests__/find.test.ts > find command > error handling > should validate limit is positive
Running database migrations...
  All migrations already applied.

âœ— Error: Unexpected error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:


ğŸ’¡ Suggestions:
  1. Try running the command again
  2. Check for typos in command arguments
  3. Run with --verbose for more details (if available)
  4. Report issue with error message and command used
  5. GitHub Issues: https://github.com/automatosx/automatosx/issues


stdout | src/cli/commands/__tests__/find.test.ts > find command > error handling > should validate limit is numeric
Running database migrations...
  All migrations already applied.

âœ— Error: Unexpected error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:


ğŸ’¡ Suggestions:
  1. Try running the command again
  2. Check for typos in command arguments
  3. Run with --verbose for more details (if available)
  4. Report issue with error message and command used
  5. GitHub Issues: https://github.com/automatosx/automatosx/issues


stdout | src/cli/commands/__tests__/find.test.ts > find command > integration scenarios > should limit results count
Running database migrations...
  All migrations already applied.

âœ— Error: Unexpected error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:


ğŸ’¡ Suggestions:
  1. Try running the command again
  2. Check for typos in command arguments
  3. Run with --verbose for more details (if available)
  4. Report issue with error message and command used
  5. GitHub Issues: https://github.com/automatosx/automatosx/issues


stdout | src/cli/commands/__tests__/find.test.ts > find command > performance > should complete search within reasonable time
Running database migrations...
  All migrations already applied.

âœ— Error: Unexpected error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:


ğŸ’¡ Suggestions:
  1. Try running the command again
  2. Check for typos in command arguments
  3. Run with --verbose for more details (if available)
  4. Report issue with error message and command used
  5. GitHub Issues: https://github.com/automatosx/automatosx/issues


stdout | src/cli/commands/__tests__/find.test.ts > find command > performance > should handle large result sets efficiently
Running database migrations...
  All migrations already applied.

âœ— Error: Unexpected error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:


ğŸ’¡ Suggestions:
  1. Try running the command again
  2. Check for typos in command arguments
  3. Run with --verbose for more details (if available)
  4. Report issue with error message and command used
  5. GitHub Issues: https://github.com/automatosx/automatosx/issues


error: unknown option '--kind'
error: unknown option '--file'
error: unknown option '--lang'
error: unknown option '--json'
error: unknown option '--lang'
error: unknown option '--file'
 â¯ src/cli/commands/__tests__/find.test.ts  (29 tests | 21 failed) 34ms
   â¯ src/cli/commands/__tests__/find.test.ts > find command > command registration > should have correct aliases
     â†’ expected [] to include 'search'
   â¯ src/cli/commands/__tests__/find.test.ts > find command > command options > should have lang option
     â†’ expected undefined not to be undefined
   â¯ src/cli/commands/__tests__/find.test.ts > find command > command options > should have kind option
     â†’ expected undefined not to be undefined
   â¯ src/cli/commands/__tests__/find.test.ts > find command > command options > should have file option
     â†’ expected undefined not to be undefined
   â¯ src/cli/commands/__tests__/find.test.ts > find command > command options > should have json option
     â†’ expected undefined not to be undefined
   â¯ src/cli/commands/__tests__/find.test.ts > find command > command execution > should search with query only
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > command execution > should apply limit option
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > command execution > should apply language filter
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > command execution > should apply kind filter
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > command execution > should apply file filter
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > command execution > should handle multiple filters
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > output formatting > should format results as text by default
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > output formatting > should format results as JSON when requested
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > output formatting > should show verbose output when requested
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > error handling > should handle search errors gracefully
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > error handling > should handle no results found
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > integration scenarios > should search for TypeScript classes
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > integration scenarios > should search in specific directory
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > integration scenarios > should limit results count
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > performance > should complete search within reasonable time
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/find.test.ts > find command > performance > should handle large result sets efficiently
     â†’ process.exit unexpectedly called with "1"
âœ“ Task execution complete
Validating results
stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > enqueues tracked events for remote submission
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > forceSubmission sends events and clears queue on success
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > submissions include correct payload and headers
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > forceSubmission returns null when no events are queued
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > background timer flushes queue automatically
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 âœ“ src/__tests__/cli/ErrorCatalog.test.ts  (36 tests) 7ms
 âœ“ src/__tests__/documentation/TrainingMaterialsGenerator.test.ts  (35 tests) 10ms
âœ“ Results validated successfully
Loading agent configuration
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle timeout parameter
[32m[2025-11-10T01:03:33.280Z] SUCCESS Task completed successfully![0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle memory configuration
[36m[2025-11-10T01:03:33.280Z] INFO    Starting agent execution: backend[0m
[36m[2025-11-10T01:03:33.280Z] INFO    Searching memory for relevant context...[0m
[36m[2025-11-10T01:03:33.280Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-10T01:03:33.280Z] INFO    Executing task...[0m

error: unknown option '--cache'
stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > rate limiter stops submissions when tokens are unavailable
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)
Rate limited, wait 5000ms before next submission

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > failed HTTP response schedules retry with metadata
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > events retry successfully after waiting past nextRetryAt
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > events are dropped when retry budget is exhausted
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > queue stats distinguish pending versus retrying entries
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > clearQueue removes pending events and reports total removed
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > clearQueue returns zero when nothing is queued
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > submission client exceptions keep events queued for later processing
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)
Submission failed: Error: boom
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryServiceIntegration.test.ts:283:79
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
    at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)
    at file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)
    at run (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:105:3)
    at runBaseTests (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/base.Ybri3C14.js:30:3)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > queued events persist across service reinitialization
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > submissions are limited to 10 events per batch
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > network rejection records error and retains queue entry
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > retry count increments after consecutive failures
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > rate limiter allows submission after initial denial
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)
Rate limited, wait 2000ms before next submission

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > clearQueue removes entries even when waiting for retry
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > forceSubmission after disabling remote returns null but preserves queue
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 âœ“ src/services/__tests__/TelemetryServiceIntegration.test.ts  (20 tests) 207ms
stderr | src/cli/commands/__tests__/status.test.ts > status command > command execution > should show basic index stats
Error getting status: Error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:79:19)
    at Object.get (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:153:22)
    at Command.<anonymous> (/Users/akiralam/code/automatosx2/src/cli/commands/status.ts:39:33)
    at Command.listener [as _actionHandler] (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:568:17)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1603:27)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1363:25) {
  codeFrame: 'vi.mock("../../../services/FileService.js", async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stderr | src/cli/commands/__tests__/status.test.ts > status command > command execution > should show verbose stats
Error getting status: Error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:79:19)
    at Object.get (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:153:22)
    at Command.<anonymous> (/Users/akiralam/code/automatosx2/src/cli/commands/status.ts:39:33)
    at Command.listener [as _actionHandler] (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:568:17)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1603:27)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1363:25) {
  codeFrame: 'vi.mock("../../../services/FileService.js", async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stderr | src/cli/commands/__tests__/status.test.ts > status command > output formatting > should format stats as text by default
Error getting status: Error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:79:19)
    at Object.get (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:153:22)
    at Command.<anonymous> (/Users/akiralam/code/automatosx2/src/cli/commands/status.ts:39:33)
    at Command.listener [as _actionHandler] (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:568:17)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1603:27)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1363:25) {
  codeFrame: 'vi.mock("../../../services/FileService.js", async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stderr | src/cli/commands/__tests__/status.test.ts > status command > statistics display > should show file count
Error getting status: Error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:79:19)
    at Object.get (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:153:22)
    at Command.<anonymous> (/Users/akiralam/code/automatosx2/src/cli/commands/status.ts:39:33)
    at Command.listener [as _actionHandler] (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:568:17)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1603:27)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1363:25) {
  codeFrame: 'vi.mock("../../../services/FileService.js", async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stderr | src/cli/commands/__tests__/status.test.ts > status command > statistics display > should show symbol count
Error getting status: Error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:79:19)
    at Object.get (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:153:22)
    at Command.<anonymous> (/Users/akiralam/code/automatosx2/src/cli/commands/status.ts:39:33)
    at Command.listener [as _actionHandler] (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:568:17)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1603:27)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1363:25) {
  codeFrame: 'vi.mock("../../../services/FileService.js", async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stderr | src/cli/commands/__tests__/status.test.ts > status command > statistics display > should show index size in human-readable format
Error getting status: Error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:79:19)
    at Object.get (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:153:22)
    at Command.<anonymous> (/Users/akiralam/code/automatosx2/src/cli/commands/status.ts:39:33)
    at Command.listener [as _actionHandler] (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:568:17)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1603:27)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1363:25) {
  codeFrame: 'vi.mock("../../../services/FileService.js", async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stderr | src/cli/commands/__tests__/status.test.ts > status command > statistics display > should show last indexed time
Error getting status: Error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:79:19)
    at Object.get (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:153:22)
    at Command.<anonymous> (/Users/akiralam/code/automatosx2/src/cli/commands/status.ts:39:33)
    at Command.listener [as _actionHandler] (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:568:17)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1603:27)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1363:25) {
  codeFrame: 'vi.mock("../../../services/FileService.js", async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stderr | src/cli/commands/__tests__/status.test.ts > status command > error handling > should handle empty index gracefully
Error getting status: Error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:79:19)
    at Object.get (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:153:22)
    at Command.<anonymous> (/Users/akiralam/code/automatosx2/src/cli/commands/status.ts:39:33)
    at Command.listener [as _actionHandler] (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:568:17)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1603:27)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1363:25) {
  codeFrame: 'vi.mock("../../../services/FileService.js", async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stderr | src/cli/commands/__tests__/status.test.ts > status command > performance > should complete status check quickly
Error getting status: Error: [vitest] No "FileService" export is defined on the "../../../services/FileService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:79:19)
    at Object.get (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/execute.fL3szUAI.js:153:22)
    at Command.<anonymous> (/Users/akiralam/code/automatosx2/src/cli/commands/status.ts:39:33)
    at Command.listener [as _actionHandler] (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:568:17)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1603:27)
    at /Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/Users/akiralam/code/automatosx2/node_modules/commander/lib/command.js:1363:25) {
  codeFrame: 'vi.mock("../../../services/FileService.js", async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

error: unknown option '--json'
error: unknown option '--cache'
error: unknown option '--cache'
error: unknown option '--cache'
error: unknown option '--cache'
 â¯ src/cli/commands/__tests__/status.test.ts  (22 tests | 19 failed) 20ms
   â¯ src/cli/commands/__tests__/status.test.ts > status command > command registration > should have correct aliases
     â†’ expected [] to include 'stat'
   â¯ src/cli/commands/__tests__/status.test.ts > status command > command options > should have json option
     â†’ expected undefined not to be undefined
   â¯ src/cli/commands/__tests__/status.test.ts > status command > command options > should have cache option
     â†’ expected undefined not to be undefined
   â¯ src/cli/commands/__tests__/status.test.ts > status command > command execution > should show basic index stats
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > command execution > should show cache stats when requested
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > command execution > should show verbose stats
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > output formatting > should format stats as text by default
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > output formatting > should format stats as JSON when requested
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > statistics display > should show file count
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > statistics display > should show symbol count
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > statistics display > should show index size in human-readable format
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > statistics display > should show last indexed time
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > cache statistics > should show cache hit rate
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > cache statistics > should show total queries
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > cache statistics > should show cache size
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > error handling > should handle stats retrieval errors gracefully
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > error handling > should handle cache stats errors gracefully
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > error handling > should handle empty index gracefully
     â†’ process.exit unexpectedly called with "1"
   â¯ src/cli/commands/__tests__/status.test.ts > status command > performance > should complete status check quickly
     â†’ process.exit unexpectedly called with "1"
âœ“ Loaded agent "backend" configuration
Preparing execution environment
âœ“ Environment ready
Analyzing task requirements
 âœ“ src/__tests__/automation/DependencyUpdater.test.ts  (23 tests) 6ms
 âœ“ src/runtime/__tests__/StateMachineBridge.test.ts  (35 tests) 6ms
 âœ“ src/parser/__tests__/HtmlParserService.test.ts  (20 tests) 38ms
âœ“ Analyzed task (21 characters)
Executing task
 âœ“ src/__tests__/marketplace/MarketplaceAnalyticsAPI.test.ts  (19 tests) 9ms
 âœ“ src/__tests__/plugins/PluginTemplateGenerator.test.ts  (25 tests) 31ms
âœ“ Task execution complete
Validating results
âœ“ Results validated successfully
Loading agent configuration
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle memory configuration
[32m[2025-11-10T01:03:34.214Z] SUCCESS Task completed successfully![0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle provider override
[36m[2025-11-10T01:03:34.215Z] INFO    Starting agent execution: backend[0m
[36m[2025-11-10T01:03:34.215Z] INFO    Searching memory for relevant context...[0m
[36m[2025-11-10T01:03:34.215Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-10T01:03:34.215Z] INFO    Executing task...[0m

 â¯ src/__tests__/plugins/SemverEngine.test.ts  (52 tests | 1 failed) 13ms
   â¯ src/__tests__/plugins/SemverEngine.test.ts > SemverEngine > Parsing and Validation > should invalidate incorrect version
     â†’ expected true to be false // Object.is equality
 âœ“ src/__tests__/operations/OperationsRunbook.test.ts  (29 tests) 9ms
 â¯ src/__tests__/runtime/transition-validator.test.ts  (0 test)
 âœ“ src/__tests__/migration/MigrationValidator.test.ts  (26 tests) 181ms
 âœ“ src/services/__tests__/ConfigLoader.test.ts  (22 tests) 18ms
âœ“ Loaded agent "backend" configuration
Preparing execution environment
âœ“ Environment ready
Analyzing task requirements
 âœ“ src/services/__tests__/RetryManager.test.ts  (30 tests) 5ms
 âœ“ src/parser/__tests__/SwiftParserService.test.ts  (20 tests) 28ms
âœ“ Analyzed task (9 characters)
Executing task
 âœ“ src/__tests__/governance/PluginGovernance.test.ts  (20 tests) 6ms
 âœ“ src/analytics/__tests__/export/ExportService.test.ts  (19 tests) 26ms
âœ“ Task execution complete
Validating results
âœ“ Results validated successfully
Loading agent configuration
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle provider override
[32m[2025-11-10T01:03:35.150Z] SUCCESS Task completed successfully![0m

 âœ“ src/__tests__/operations/DisasterRecovery.test.ts  (25 tests) 8ms
 â¯ src/__tests__/performance/CLIProfiler.test.ts  (24 tests | 1 failed) 72ms
   â¯ src/__tests__/performance/CLIProfiler.test.ts > CLIProfiler > Formatting > should sort phases by duration in formatted output
     â†’ expected 92 to be less than 74
 âœ“ src/__tests__/runtime/rule-engine.test.ts  (14 tests) 4ms
 âœ“ src/__tests__/runtime/dependency-validation.test.ts  (10 tests) 3ms
âœ“ Loaded agent "backend" configuration
Preparing execution environment
âœ“ Environment ready
Analyzing task requirements
 âœ“ src/services/__tests__/QueryRouter.test.ts  (38 tests) 4ms
 âœ“ src/__tests__/documentation/HandoffDocGenerator.test.ts  (27 tests) 8ms
 âœ“ src/parser/__tests__/PythonParserService.test.ts  (17 tests) 13ms
âœ“ Analyzed task (9 characters)
Executing task
 âœ“ src/__tests__/runtime/metadata-validation.test.ts  (15 tests) 5ms
âœ“ Task execution complete
Validating results
 âœ“ src/services/__tests__/QueryFilterParser.test.ts  (26 tests) 5ms
âœ“ Results validated successfully
stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should search memory with basic query
[36m[2025-11-10T01:03:36.088Z] INFO    Searching memory: "authentication implementation"[0m
[36m[2025-11-10T01:03:36.088Z] INFO    Executing search query...[0m

 âœ“ src/__tests__/runtime/event-auth.test.ts  (14 tests) 3ms
 âœ“ src/__tests__/governance/PluginModerationQueue.test.ts  (20 tests) 5ms
stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should search memory with basic query
[36m[2025-11-10T01:03:36.139Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%


stderr | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should validate query length

[31mâœ— Error:[0m Invalid command arguments
[90mCode: VALIDATION_ERROR[0m

[90mDetails:[0m
[
  {
    "path": "query",
    "message": "Search query cannot be empty"
  }
]

[33mSuggestions:[0m
  1. Run the command with --help to see valid arguments
  2. Check the documentation at https://github.com/defai-digital/automatosx

[90mTimestamp: 2025-11-10T01:03:36.139Z[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should filter by agent
[36m[2025-11-10T01:03:36.140Z] INFO    Searching memory: "test query"[0m
[36m[2025-11-10T01:03:36.140Z] INFO    Executing search query...[0m

 âœ“ src/parser/__tests__/CppParserService.test.ts  (18 tests) 34ms
stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should filter by agent
[36m[2025-11-10T01:03:36.190Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%


stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle pagination
[36m[2025-11-10T01:03:36.190Z] INFO    Searching memory: "test query"[0m
[36m[2025-11-10T01:03:36.190Z] INFO    Executing search query...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle pagination
[36m[2025-11-10T01:03:36.242Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%


stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should output JSON format
[36m[2025-11-10T01:03:36.242Z] INFO    Searching memory: "test query"[0m
[36m[2025-11-10T01:03:36.242Z] INFO    Executing search query...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should output JSON format
[36m[2025-11-10T01:03:36.294Z] INFO    Found 2 results[0m
[
  {
    "id": "1",
    "agent": "backend",
    "query": "authentication",
    "timestamp": "2025-01-08T10:00:00Z",
    "relevance": 0.95
  },
  {
    "id": "2",
    "agent": "backend",
    "query": "user login",
    "timestamp": "2025-01-07T14:30:00Z",
    "relevance": 0.87
  }
]

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should output table format
[36m[2025-11-10T01:03:36.294Z] INFO    Searching memory: "test query"[0m
[36m[2025-11-10T01:03:36.294Z] INFO    Executing search query...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should output table format
[36m[2025-11-10T01:03:36.345Z] INFO    Found 2 results[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ID   â”‚ Agent      â”‚ Timestamp           â”‚ Relevance â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1    â”‚ backend    â”‚ 2025-01-08T10:00:00 â”‚ 95%      â”‚
â”‚ 2    â”‚ backend    â”‚ 2025-01-07T14:30:00 â”‚ 87%      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle date filtering
[36m[2025-11-10T01:03:36.345Z] INFO    Searching memory: "test query"[0m
[36m[2025-11-10T01:03:36.345Z] INFO    Executing search query...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle date filtering
[36m[2025-11-10T01:03:36.395Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%


stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle exact match mode
[36m[2025-11-10T01:03:36.396Z] INFO    Searching memory: "exact phrase"[0m
[36m[2025-11-10T01:03:36.396Z] INFO    Executing search query...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle exact match mode
[36m[2025-11-10T01:03:36.447Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%


stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle sort options
[36m[2025-11-10T01:03:36.448Z] INFO    Searching memory: "test query"[0m
[36m[2025-11-10T01:03:36.448Z] INFO    Executing search query...[0m

 âœ“ src/__tests__/performance/BudgetEnforcer.test.ts  (38 tests) 6682ms
stdout | src/__tests__/cache/ASTCache.test.ts > ASTCache > Performance Characteristics > should handle 1000 cache operations efficiently
1000 cache ops in 20.48ms

 âœ“ src/__tests__/cache/ASTCache.test.ts  (19 tests) 1670ms
stdout | src/__tests__/cache/ASTCache.test.ts > ASTCache > Performance Characteristics > should maintain O(1) access time
Access times: [ '4.09ms', '9.07ms', '20.48ms' ]

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle sort options
[36m[2025-11-10T01:03:36.499Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%


stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle verbose mode
[36m[2025-11-10T01:03:36.499Z] INFO    Searching memory: "test query"[0m
[90m[2025-11-10T01:03:36.499Z] DEBUG   Search parameters[0m
  {
    "query": "test query",
    "limit": 10,
    "offset": 0,
    "sortBy": "relevance",
    "exactMatch": false
  }
[36m[2025-11-10T01:03:36.500Z] INFO    Executing search query...[0m
[90m[2025-11-10T01:03:36.500Z] DEBUG   Querying SQLite FTS5 index...[0m

 âœ“ src/__tests__/automation/DependencyScheduler.test.ts  (19 tests) 5ms
stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle verbose mode
[36m[2025-11-10T01:03:36.550Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%
   ID: 1

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%
   ID: 2


 âœ“ src/cli/utils/__tests__/ErrorHandler.test.ts  (20 tests) 4ms
stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should list all agents
[36m[2025-11-10T01:03:36.602Z] INFO    Found 4 agents[0m

1. backend [âœ“] (development)
   Backend development specialist

2. frontend [âœ“] (development)
   Frontend development specialist

3. product [âœ“] (leadership)
   Product management and planning

4. quality [âœ“] (development)
   QA and testing specialist


stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > insert > should insert a new chunk
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > search (FTS5) > should find chunks by single term
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > search (FTS5) > should find chunks with boolean OR
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > search (FTS5) > should find chunks with boolean AND
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > search (FTS5) > should return empty for no matches
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > search (FTS5) > should rank results by BM25
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > search (FTS5) > should respect limit parameter
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > findByFileId > should find all chunks for a file
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > deleteByFileId > should delete all chunks for a file
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > FTS5 synchronization > should automatically index new chunks in FTS5
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > FTS5 synchronization > should remove from FTS5 when chunk deleted
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 âœ“ src/database/dao/__tests__/ChunkDAO.test.ts  (11 tests) 92ms
stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should filter by category
[36m[2025-11-10T01:03:36.653Z] INFO    Found 3 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should output table format
[36m[2025-11-10T01:03:36.704Z] INFO    Found 4 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚ product       â”‚ leadership    â”‚ âœ“       â”‚ 8        â”‚
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should output JSON format
[36m[2025-11-10T01:03:36.755Z] INFO    Found 4 agents[0m
[
  {
    "name": "backend",
    "category": "development",
    "enabled": true,
    "priority": 10,
    "description": "Backend development specialist",
    "capabilities": [
      "Go",
      "Rust",
      "API design",
      "Database design"
    ]
  },
  {
    "name": "frontend",
    "category": "development",
    "enabled": true,
    "priority": 9,
    "description": "Frontend development specialist",
    "capabilities": [
      "React",
      "TypeScript",
      "Next.js",
      "UI/UX"
    ]
  },
  {
    "name": "product",
    "category": "leadership",
    "enabled": true,
    "priority": 8,
    "description": "Product management and planning",
    "capabilities": [
      "PRD writing",
      "Feature planning",
      "Roadmap design"
    ]
  },
  {
    "name": "quality",
    "category": "development",
    "enabled": true,
    "priority": 7,
    "description": "QA and testing specialist",
    "capabilities": [
      "Test automation",
      "Quality assurance",
      "Bug tracking"
    ]
  }
]

stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should sort by name
[36m[2025-11-10T01:03:36.806Z] INFO    Found 4 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚ product       â”‚ leadership    â”‚ âœ“       â”‚ 8        â”‚
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


 âœ“ src/cache/__tests__/SimpleQueryCache.test.ts  (19 tests) 180ms
stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should sort by priority
[36m[2025-11-10T01:03:36.858Z] INFO    Found 4 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚ product       â”‚ leadership    â”‚ âœ“       â”‚ 8        â”‚
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should show capabilities
[36m[2025-11-10T01:03:36.910Z] INFO    Found 4 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚   Capabilities: Go, Rust, API design, Database design
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚   Capabilities: React, TypeScript, Next.js, UI/UX
â”‚ product       â”‚ leadership    â”‚ âœ“       â”‚ 8        â”‚
â”‚   Capabilities: PRD writing, Feature planning, Roadmap design
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â”‚   Capabilities: Test automation, Quality assurance, Bug tracking
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should filter by enabled status
[36m[2025-11-10T01:03:36.962Z] INFO    Found 4 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚ product       â”‚ leadership    â”‚ âœ“       â”‚ 8        â”‚
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should handle verbose mode
[90m[2025-11-10T01:03:36.962Z] DEBUG   Loading agent catalog...[0m
[90m[2025-11-10T01:03:36.962Z] DEBUG   Reading .automatosx/agents/ directory...[0m

 âœ“ src/__tests__/runtime/rule-parser.test.ts  (14 tests) 3ms
 â¯ src/__tests__/runtime/effect-runtime.test.ts  (0 test)
stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should handle verbose mode
[90m[2025-11-10T01:03:37.013Z] DEBUG   Sorting by: name[0m
[36m[2025-11-10T01:03:37.013Z] INFO    Found 4 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚ product       â”‚ leadership    â”‚ âœ“       â”‚ 8        â”‚
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should show system status
[36m[2025-11-10T01:03:37.014Z] INFO    Running system health checks...[0m

 âœ“ src/__tests__/runtime/manifest-validation.test.ts  (10 tests) 4ms
 â¯ src/services/__tests__/FileService-Filters.simple.test.ts  (0 test)
stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should show system status

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-10T01:03:37.014Z

[32mâœ“[0m memory: healthy
[32mâœ“[0m providers: healthy
[32mâœ“[0m agents: healthy
[32mâœ“[0m cache: healthy
[32mâœ“[0m filesystem: healthy


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should check memory health
[36m[2025-11-10T01:03:37.271Z] INFO    Running system health checks...[0m

 â¯ src/__tests__/performance/baseline.test.ts  (0 test)
(node:83031) [DEP0187] DeprecationWarning: Passing invalid argument types to fs.existsSync is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
 â¯ src/services/__tests__/FileService-Cache.test.ts  (6 tests | 6 failed) 56ms
   â¯ src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should cache search results
     â†’ Invalid language object
   â¯ src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should provide significant speedup for cached queries
     â†’ Invalid language object
   â¯ src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should cache different queries separately
     â†’ Invalid language object
   â¯ src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should invalidate cache after indexing new file
     â†’ Invalid language object
   â¯ src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should clear cache manually
     â†’ Invalid language object
   â¯ src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should respect different query parameters
     â†’ Invalid language object
 â¯ src/__tests__/runtime/harness.test.ts  (0 test)
stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should check memory health

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-10T01:03:37.271Z

[32mâœ“[0m memory: healthy
[32mâœ“[0m providers: healthy
[32mâœ“[0m agents: healthy
[32mâœ“[0m cache: healthy
[32mâœ“[0m filesystem: healthy


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should check providers health
[36m[2025-11-10T01:03:37.527Z] INFO    Running system health checks...[0m

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > insert > should insert a new file
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > insert > should return different IDs for different files
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > findByPath > should find file by path
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > findByPath > should return undefined for non-existent path
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > update > should update file content
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > update > should update file path
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > delete > should delete file by ID
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > delete > should delete nothing if ID does not exist
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > findAll > should return empty array when no files
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > findAll > should return all files
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > clear > should delete all files
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > count > should return 0 when no files
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > count > should return correct count
Running database migrations...
  Found 7 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
  Applying migration: 007_create_code_metrics.sql
  âœ“ Applied: 007_create_code_metrics.sql
âœ“ Migrations complete (7 applied)

 â¯ src/database/dao/__tests__/FileDAO.test.ts  (13 tests | 3 failed) 112ms
   â¯ src/database/dao/__tests__/FileDAO.test.ts > FileDAO > delete > should delete file by ID
     â†’ foreign key mismatch - "code_metrics" referencing "files"
   â¯ src/database/dao/__tests__/FileDAO.test.ts > FileDAO > delete > should delete nothing if ID does not exist
     â†’ expected [Function] to not throw an error but 'SqliteError: foreign key mismatch - "â€¦' was thrown
   â¯ src/database/dao/__tests__/FileDAO.test.ts > FileDAO > clear > should delete all files
     â†’ foreign key mismatch - "code_metrics" referencing "files"
 â¯ src/services/__tests__/FileService-Python.simple.test.ts  (0 test)
stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should check providers health

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-10T01:03:37.527Z

[32mâœ“[0m memory: healthy
[32mâœ“[0m providers: healthy
[32mâœ“[0m agents: healthy
[32mâœ“[0m cache: healthy
[32mâœ“[0m filesystem: healthy


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should output JSON format
[36m[2025-11-10T01:03:37.782Z] INFO    Running system health checks...[0m

 â¯ src/web/__tests__/Day71DashboardFramework.test.tsx  (39 tests | 8 failed) 519ms
   â¯ src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > HomePage Component > should render quality metrics card
     â†’ Found multiple elements with the text: /Quality Metrics/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-596tzq-MuiTypography-root"[39m
[36m>[39m
  [0mQuality Metrics[0m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 css-t1blku-MuiTypography-root"[39m
[36m>[39m
  [0mView code quality metrics, complexity analysis, and technical debt for your project.[0m
[36m</p>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiContainer-root MuiContainer-maxWidthLg css-1oqqzyl-MuiContainer-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-zitybv"[39m
      [36m>[39m
        [36m<h1[39m
          [33mclass[39m=[32m"MuiTypography-root MuiTypography-h3 MuiTypography-gutterBottom css-18qjpnm-MuiTypography-root"[39m
        [36m>[39m
          [0mWelcome to AutomatosX v2[0m
        [36m</h1>[39m
        [36m<p[39m
          [33mclass[39m=[32m"MuiTypography-root MuiTypography-h6 MuiTypography-paragraph css-34h6ag-MuiTypography-root"[39m
        [36m>[39m
          [0mCode Intelligence Dashboard - Analyze your codebase quality, dependencies, and more[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-3 css-v4wli0-MuiGrid-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-4 css-1lj5egr-MuiGrid-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-joumwr-MuiPaper-root-MuiCard-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1vlij3n-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"AssessmentIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-596tzq-MuiTypography-root"[39m
                [36m>[39m
                  [0mQuality Metrics[0m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 css-t1blku-MuiTypography-root"[39m
                [36m>[39m
                  [0mView code quality metrics, complexity analysis, and technical debt for your project.[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiCardActions-root MuiCardActions-spacing css-dnrpxu-MuiCardActions-root"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary css-1llqo1v-MuiButtonBase-root-MuiButton-root"[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mView Dashboard[0m
                  [36m<span[39m
                    [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
                  [36m/>[39m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-4 css-1lj5egr-MuiGrid-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-joumwr-MuiPaper-root-MuiCard-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-r3g7ls-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"AccountTreeIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-596tzq-MuiTypography-root"[39m
                [36m>[39m
                  [0mDependency Graph[0m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 css-t1blku-MuiTypography-root"[39m
                [36m>[39m
                  [0mExplore your codebase dependencies, find circular dependencies, and understand module relationships.[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiCardActions-root MuiCardActions-spacing css-dnrpxu-MuiCardActions-root"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary css-1llqo1v-MuiButtonBase-root-MuiButton-root"[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mView Graph[0m
                  [36m<span[39m
                    [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
                  [36m/>[39m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-4 css-1lj5egr-MuiGrid-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-joumwr-MuiPaper-root-MuiCard-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1d9c6c8-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"CodeIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-596tzq-MuiTypography-root"[39m
                [36m>[39m
                  [0mCode Search[0m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 css-t1blku-MuiTypography-root"[39m
                [36m>[39m
                  [0mSearch your codebase with full-text search, symbol lookup, and advanced filtering.[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiCardActions-root MuiCardActions-spacing css-dnrpxu-MuiCardActions-root"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary css-1llqo1v-MuiButtonBase-root-MuiButton-root"[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mSearch Code[0m
                  [36m<span[39m
                    [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
                  [36m/>[39m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   â¯ src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > QualityDashboard Component > should render title
     â†’ Unable to find an element with the text: /Quality Dashboard/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiContainer-root MuiContainer-maxWidthLg css-1oqqzyl-MuiContainer-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-9qmfah"[39m
      [36m>[39m
        [36m<span[39m
          [33mclass[39m=[32m"MuiCircularProgress-root MuiCircularProgress-indeterminate MuiCircularProgress-colorPrimary css-18lrjg1-MuiCircularProgress-root"[39m
          [33mrole[39m=[32m"progressbar"[39m
          [33mstyle[39m=[32m"width: 40px; height: 40px;"[39m
        [36m>[39m
          [36m<svg[39m
            [33mclass[39m=[32m"MuiCircularProgress-svg css-1idz92c-MuiCircularProgress-svg"[39m
            [33mviewBox[39m=[32m"22 22 44 44"[39m
          [36m>[39m
            [36m<circle[39m
              [33mclass[39m=[32m"MuiCircularProgress-circle MuiCircularProgress-circleIndeterminate css-176wh8e-MuiCircularProgress-circle"[39m
              [33mcx[39m=[32m"44"[39m
              [33mcy[39m=[32m"44"[39m
              [33mfill[39m=[32m"none"[39m
              [33mr[39m=[32m"20.2"[39m
              [33mstroke-width[39m=[32m"3.6"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</span>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   â¯ src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > QualityDashboard Component > should render description
     â†’ Unable to find an element with the text: /View code quality metrics/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiContainer-root MuiContainer-maxWidthLg css-1oqqzyl-MuiContainer-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-9qmfah"[39m
      [36m>[39m
        [36m<span[39m
          [33mclass[39m=[32m"MuiCircularProgress-root MuiCircularProgress-indeterminate MuiCircularProgress-colorPrimary css-18lrjg1-MuiCircularProgress-root"[39m
          [33mrole[39m=[32m"progressbar"[39m
          [33mstyle[39m=[32m"width: 40px; height: 40px;"[39m
        [36m>[39m
          [36m<svg[39m
            [33mclass[39m=[32m"MuiCircularProgress-svg css-1idz92c-MuiCircularProgress-svg"[39m
            [33mviewBox[39m=[32m"22 22 44 44"[39m
          [36m>[39m
            [36m<circle[39m
              [33mclass[39m=[32m"MuiCircularProgress-circle MuiCircularProgress-circleIndeterminate css-176wh8e-MuiCircularProgress-circle"[39m
              [33mcx[39m=[32m"44"[39m
              [33mcy[39m=[32m"44"[39m
              [33mfill[39m=[32m"none"[39m
              [33mr[39m=[32m"20.2"[39m
              [33mstroke-width[39m=[32m"3.6"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</span>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   â¯ src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > QualityDashboard Component > should show placeholder message
     â†’ Unable to find an element with the text: /Quality metrics visualization will be implemented/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiContainer-root MuiContainer-maxWidthLg css-1oqqzyl-MuiContainer-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-9qmfah"[39m
      [36m>[39m
        [36m<span[39m
          [33mclass[39m=[32m"MuiCircularProgress-root MuiCircularProgress-indeterminate MuiCircularProgress-colorPrimary css-18lrjg1-MuiCircularProgress-root"[39m
          [33mrole[39m=[32m"progressbar"[39m
          [33mstyle[39m=[32m"width: 40px; height: 40px;"[39m
        [36m>[39m
          [36m<svg[39m
            [33mclass[39m=[32m"MuiCircularProgress-svg css-1idz92c-MuiCircularProgress-svg"[39m
            [33mviewBox[39m=[32m"22 22 44 44"[39m
          [36m>[39m
            [36m<circle[39m
              [33mclass[39m=[32m"MuiCircularProgress-circle MuiCircularProgress-circleIndeterminate css-176wh8e-MuiCircularProgress-circle"[39m
              [33mcx[39m=[32m"44"[39m
              [33mcy[39m=[32m"44"[39m
              [33mfill[39m=[32m"none"[39m
              [33mr[39m=[32m"20.2"[39m
              [33mstroke-width[39m=[32m"3.6"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</span>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   â¯ src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > DependenciesPage Component > should render title
     â†’ Cannot read properties of undefined (reading 'graph')
   â¯ src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > DependenciesPage Component > should render description
     â†’ Cannot read properties of undefined (reading 'graph')
   â¯ src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > DependenciesPage Component > should show placeholder message
     â†’ Cannot read properties of undefined (reading 'graph')
   â¯ src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > Component Rendering > should render all page components without errors
     â†’ expected [Function] to not throw an error but 'TypeError: Cannot read properties of â€¦' was thrown
stderr | src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > ErrorBoundary Component > should render children when there is no error
âš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stderr | src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > DependenciesPage Component > should render title
Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'graph')]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26599:12) TypeError: Cannot read properties of undefined (reading 'graph')
    at selectDependencyGraph (/Users/akiralam/code/automatosx2/src/web/redux/slices/dependencySlice.ts:146:77)
    at selectDependencyGraph (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:171:28)
    at memoizedSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:46:30)
    at /Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:70:22
    at mountSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:15980:20)
    at Object.useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:16908:14)
    at useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react/cjs/react.development.js:1676:21)
    at process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:81:19)
    at Module.useSelector2 (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:243:27)
    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:55:17)
Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'graph')]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26599:12) TypeError: Cannot read properties of undefined (reading 'graph')
    at selectDependencyGraph (/Users/akiralam/code/automatosx2/src/web/redux/slices/dependencySlice.ts:146:77)
    at selectDependencyGraph (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:171:28)
    at memoizedSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:46:30)
    at /Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:70:22
    at mountSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:15980:20)
    at Object.useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:16908:14)
    at useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react/cjs/react.development.js:1676:21)
    at process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:81:19)
    at Module.useSelector2 (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:243:27)
    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:55:17)
The above error occurred in the <DependenciesPage> component:

    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:28:42)
    at Router (/Users/akiralam/code/automatosx2/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/Users/akiralam/code/automatosx2/node_modules/react-router/dist/umd/react-router.development.js:1101:7)
    at DefaultPropsProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:18:3)
    at RtlProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/system/RtlProvider/index.js:19:7)
    at ThemeProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/private-theming/node/ThemeProvider/ThemeProvider.js:39:5)
    at ThemeProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:53:5)
    at ThemeProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/material/node/styles/ThemeProvider.js:21:14)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
    at Wrapper (/Users/akiralam/code/automatosx2/src/web/__tests__/Day71DashboardFramework.test.tsx:43:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > DependenciesPage Component > should render description
Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'graph')]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26599:12) TypeError: Cannot read properties of undefined (reading 'graph')
    at selectDependencyGraph (/Users/akiralam/code/automatosx2/src/web/redux/slices/dependencySlice.ts:146:77)
    at selectDependencyGraph (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:171:28)
    at memoizedSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:46:30)
    at /Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:70:22
    at mountSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:15980:20)
    at Object.useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:16908:14)
    at useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react/cjs/react.development.js:1676:21)
    at process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:81:19)
    at Module.useSelector2 (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:243:27)
    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:55:17)
Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'graph')]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26599:12) TypeError: Cannot read properties of undefined (reading 'graph')
    at selectDependencyGraph (/Users/akiralam/code/automatosx2/src/web/redux/slices/dependencySlice.ts:146:77)
    at selectDependencyGraph (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:171:28)
    at memoizedSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:46:30)
    at /Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:70:22
    at mountSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:15980:20)
    at Object.useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:16908:14)
    at useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react/cjs/react.development.js:1676:21)
    at process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:81:19)
    at Module.useSelector2 (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:243:27)
    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:55:17)
The above error occurred in the <DependenciesPage> component:

    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:28:42)
    at Router (/Users/akiralam/code/automatosx2/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/Users/akiralam/code/automatosx2/node_modules/react-router/dist/umd/react-router.development.js:1101:7)
    at DefaultPropsProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:18:3)
    at RtlProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/system/RtlProvider/index.js:19:7)
    at ThemeProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/private-theming/node/ThemeProvider/ThemeProvider.js:39:5)
    at ThemeProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:53:5)
    at ThemeProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/material/node/styles/ThemeProvider.js:21:14)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
    at Wrapper (/Users/akiralam/code/automatosx2/src/web/__tests__/Day71DashboardFramework.test.tsx:43:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > DependenciesPage Component > should show placeholder message
Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'graph')]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26599:12) TypeError: Cannot read properties of undefined (reading 'graph')
    at selectDependencyGraph (/Users/akiralam/code/automatosx2/src/web/redux/slices/dependencySlice.ts:146:77)
    at selectDependencyGraph (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:171:28)
    at memoizedSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:46:30)
    at /Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:70:22
    at mountSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:15980:20)
    at Object.useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:16908:14)
    at useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react/cjs/react.development.js:1676:21)
    at process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:81:19)
    at Module.useSelector2 (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:243:27)
    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:55:17)
Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'graph')]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26599:12) TypeError: Cannot read properties of undefined (reading 'graph')
    at selectDependencyGraph (/Users/akiralam/code/automatosx2/src/web/redux/slices/dependencySlice.ts:146:77)
    at selectDependencyGraph (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:171:28)
    at memoizedSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:46:30)
    at /Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:70:22
    at mountSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:15980:20)
    at Object.useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:16908:14)
    at useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react/cjs/react.development.js:1676:21)
    at process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:81:19)
    at Module.useSelector2 (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:243:27)
    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:55:17)
The above error occurred in the <DependenciesPage> component:

    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:28:42)
    at Router (/Users/akiralam/code/automatosx2/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/Users/akiralam/code/automatosx2/node_modules/react-router/dist/umd/react-router.development.js:1101:7)
    at DefaultPropsProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:18:3)
    at RtlProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/system/RtlProvider/index.js:19:7)
    at ThemeProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/private-theming/node/ThemeProvider/ThemeProvider.js:39:5)
    at ThemeProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:53:5)
    at ThemeProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/material/node/styles/ThemeProvider.js:21:14)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
    at Wrapper (/Users/akiralam/code/automatosx2/src/web/__tests__/Day71DashboardFramework.test.tsx:43:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > Component Rendering > should render all page components without errors
Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'graph')]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26599:12) TypeError: Cannot read properties of undefined (reading 'graph')
    at selectDependencyGraph (/Users/akiralam/code/automatosx2/src/web/redux/slices/dependencySlice.ts:146:77)
    at selectDependencyGraph (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:171:28)
    at memoizedSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:46:30)
    at /Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:70:22
    at mountSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:15980:20)
    at Object.useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:16908:14)
    at useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react/cjs/react.development.js:1676:21)
    at process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:81:19)
    at Module.useSelector2 (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:243:27)
    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:55:17)
Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'graph')]
    at reportException (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/akiralam/code/automatosx2/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:26599:12) TypeError: Cannot read properties of undefined (reading 'graph')
    at selectDependencyGraph (/Users/akiralam/code/automatosx2/src/web/redux/slices/dependencySlice.ts:146:77)
    at selectDependencyGraph (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:171:28)
    at memoizedSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:46:30)
    at /Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:70:22
    at mountSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:15980:20)
    at Object.useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react-dom/cjs/react-dom.development.js:16908:14)
    at useSyncExternalStore (/Users/akiralam/code/automatosx2/node_modules/react/cjs/react.development.js:1676:21)
    at process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector (/Users/akiralam/code/automatosx2/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:81:19)
    at Module.useSelector2 (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/src/hooks/useSelector.ts:243:27)
    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:55:17)
The above error occurred in the <DependenciesPage> component:

    at DependenciesPage (/Users/akiralam/code/automatosx2/src/web/pages/DependenciesPage.tsx:28:42)
    at Router (/Users/akiralam/code/automatosx2/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/Users/akiralam/code/automatosx2/node_modules/react-router/dist/umd/react-router.development.js:1101:7)
    at DefaultPropsProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:18:3)
    at RtlProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/system/RtlProvider/index.js:19:7)
    at ThemeProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/private-theming/node/ThemeProvider/ThemeProvider.js:39:5)
    at ThemeProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:53:5)
    at ThemeProvider (/Users/akiralam/code/automatosx2/node_modules/@mui/material/node/styles/ThemeProvider.js:21:14)
    at Provider (file:///Users/akiralam/code/automatosx2/node_modules/react-redux/dist/react-redux.mjs:875:11)
    at Wrapper (/Users/akiralam/code/automatosx2/src/web/__tests__/Day71DashboardFramework.test.tsx:43:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should output JSON format
{
  "overall": "healthy",
  "timestamp": "2025-11-10T01:03:37.782Z",
  "checks": {
    "memory": {
      "status": "healthy",
      "dbSize": "2.4 MB",
      "records": 1247,
      "lastBackup": "2025-01-08T09:00:00Z"
    },
    "providers": {
      "status": "healthy",
      "providers": {
        "claude": {
          "available": true,
          "latency": 145
        },
        "gemini": {
          "available": true,
          "latency": 189
        },
        "openai": {
          "available": true,
          "latency": 167
        }
      }
    },
    "agents": {
      "status": "healthy",
      "totalAgents": 20,
      "enabledAgents": 18,
      "catalogVersion": "1.0.0"
    },
    "cache": {
      "status": "healthy",
      "hitRate": 0.73,
      "size": 847,
      "maxSize": 1000
    },
    "filesystem": {
      "status": "healthy",
      "readPermissions": true,
      "writePermissions": true,
      "diskSpace": "45.2 GB available"
    }
  }
}

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should show metrics
[36m[2025-11-10T01:03:38.035Z] INFO    Running system health checks...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should show metrics

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-10T01:03:38.035Z

[32mâœ“[0m memory: healthy
  dbSize: "2.4 MB"
  records: 1247
  lastBackup: "2025-01-08T09:00:00Z"
[32mâœ“[0m providers: healthy
  providers: {"claude":{"available":true,"latency":145},"gemini":{"available":true,"latency":189},"openai":{"available":true,"latency":167}}
[32mâœ“[0m agents: healthy
  totalAgents: 20
  enabledAgents: 18
  catalogVersion: "1.0.0"
[32mâœ“[0m cache: healthy
  hitRate: 0.73
  size: 847
  maxSize: 1000
[32mâœ“[0m filesystem: healthy
  readPermissions: true
  writePermissions: true
  diskSpace: "45.2 GB available"


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle verbose mode
[36m[2025-11-10T01:03:38.291Z] INFO    Running system health checks...[0m
[90m[2025-11-10T01:03:38.291Z] DEBUG   Checking memory database...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle verbose mode
[90m[2025-11-10T01:03:38.342Z] DEBUG   Checking AI providers...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle verbose mode
[90m[2025-11-10T01:03:38.392Z] DEBUG   Checking agent catalog...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle verbose mode
[90m[2025-11-10T01:03:38.443Z] DEBUG   Checking cache system...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle verbose mode
[90m[2025-11-10T01:03:38.494Z] DEBUG   Checking filesystem permissions...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle verbose mode

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-10T01:03:38.291Z

[32mâœ“[0m memory: healthy
  dbSize: "2.4 MB"
  records: 1247
  lastBackup: "2025-01-08T09:00:00Z"
[32mâœ“[0m providers: healthy
  providers: {"claude":{"available":true,"latency":145},"gemini":{"available":true,"latency":189},"openai":{"available":true,"latency":167}}
[32mâœ“[0m agents: healthy
  totalAgents: 20
  enabledAgents: 18
  catalogVersion: "1.0.0"
[32mâœ“[0m cache: healthy
  hitRate: 0.73
  size: 847
  maxSize: 1000
[32mâœ“[0m filesystem: healthy
  readPermissions: true
  writePermissions: true
  diskSpace: "45.2 GB available"


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should check all components by default
[36m[2025-11-10T01:03:38.546Z] INFO    Running system health checks...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should check all components by default

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-10T01:03:38.546Z

[32mâœ“[0m memory: healthy
[32mâœ“[0m providers: healthy
[32mâœ“[0m agents: healthy
[32mâœ“[0m cache: healthy
[32mâœ“[0m filesystem: healthy


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle cache check
[36m[2025-11-10T01:03:38.802Z] INFO    Running system health checks...[0m

 â¯ src/runtime/__tests__/StateMachineRuntime.test.ts  (25 tests | 4 failed) 13032ms
   â¯ src/runtime/__tests__/StateMachineRuntime.test.ts > StateMachineRuntime > task execution > should execute task successfully
     â†’ expected 0 to be greater than 0
   â¯ src/runtime/__tests__/StateMachineRuntime.test.ts > StateMachineRuntime > checkpoint management > should create periodic checkpoints
     â†’ expected 0 to be greater than 0
   â¯ src/runtime/__tests__/StateMachineRuntime.test.ts > StateMachineRuntime > task control > should get task status for active execution
     â†’ expected undefined to be true // Object.is equality
   â¯ src/runtime/__tests__/StateMachineRuntime.test.ts > StateMachineRuntime > task control > should list active executions
     â†’ expected 0 to be greater than 0
stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle cache check

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-10T01:03:38.802Z

[32mâœ“[0m memory: healthy
[32mâœ“[0m providers: healthy
[32mâœ“[0m agents: healthy
[32mâœ“[0m cache: healthy
[32mâœ“[0m filesystem: healthy


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle filesystem check
[36m[2025-11-10T01:03:39.056Z] INFO    Running system health checks...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle filesystem check

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-10T01:03:39.056Z

[32mâœ“[0m memory: healthy
[32mâœ“[0m providers: healthy
[32mâœ“[0m agents: healthy
[32mâœ“[0m cache: healthy
[32mâœ“[0m filesystem: healthy


stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should show full configuration

=== AutomatosX Configuration ===

providers/
  claude/
    enabled: true
    priority: 1
    apiKey: ***hidden***
  gemini/
    enabled: true
    priority: 2
    apiKey: ***hidden***
  openai/
    enabled: false
    priority: 3
    apiKey: null
execution/
  defaultTimeout: 1500000
  maxRetries: 3
  parallelEnabled: true
memory/
  enabled: true
  maxEntries: 10000
  dbPath: ".automatosx/memory/memories.db"
agents/
  autoReload: true
  catalogPath: ".automatosx/agents/"
performance/
  enableCache: true
  cacheMaxSize: 1000
  cacheTTL: 300000

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should show specific key
providers.claude.enabled = true

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should output JSON format
{
  "providers": {
    "claude": {
      "enabled": true,
      "priority": 1,
      "apiKey": "***hidden***"
    },
    "gemini": {
      "enabled": true,
      "priority": 2,
      "apiKey": "***hidden***"
    },
    "openai": {
      "enabled": false,
      "priority": 3,
      "apiKey": null
    }
  },
  "execution": {
    "defaultTimeout": 1500000,
    "maxRetries": 3,
    "parallelEnabled": true
  },
  "memory": {
    "enabled": true,
    "maxEntries": 10000,
    "dbPath": ".automatosx/memory/memories.db"
  },
  "agents": {
    "autoReload": true,
    "catalogPath": ".automatosx/agents/"
  },
  "performance": {
    "enableCache": true,
    "cacheMaxSize": 1000,
    "cacheTTL": 300000
  }
}

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should output YAML format
providers:
  claude:
    enabled: true
    priority: 1
    apiKey: "***hidden***"
  gemini:
    enabled: true
    priority: 2
    apiKey: "***hidden***"
  openai:
    enabled: false
    priority: 3
    apiKey: null
execution:
  defaultTimeout: 1500000
  maxRetries: 3
  parallelEnabled: true
memory:
  enabled: true
  maxEntries: 10000
  dbPath: ".automatosx/memory/memories.db"
agents:
  autoReload: true
  catalogPath: ".automatosx/agents/"
performance:
  enableCache: true
  cacheMaxSize: 1000
  cacheTTL: 300000

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should show defaults

=== AutomatosX Configuration ===

providers/
  claude/
    enabled: true
    priority: 1
    apiKey: ***hidden***
  gemini/
    enabled: true
    priority: 2
    apiKey: ***hidden***
  openai/
    enabled: false
    priority: 3
    apiKey: null
execution/
  defaultTimeout: 1500000
  maxRetries: 3
  parallelEnabled: true
memory/
  enabled: true
  maxEntries: 10000
  dbPath: ".automatosx/memory/memories.db"
agents/
  autoReload: true
  catalogPath: ".automatosx/agents/"
performance/
  enableCache: true
  cacheMaxSize: 1000
  cacheTTL: 300000

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should show sources

=== AutomatosX Configuration ===

providers/
  claude/
    enabled: true
    priority: 1
    apiKey: ***hidden***
  gemini/
    enabled: true
    priority: 2
    apiKey: ***hidden***
  openai/
    enabled: false
    priority: 3
    apiKey: null
execution/
  defaultTimeout: 1500000
  maxRetries: 3
  parallelEnabled: true
memory/
  enabled: true
  maxEntries: 10000
  dbPath: ".automatosx/memory/memories.db"
agents/
  autoReload: true
  catalogPath: ".automatosx/agents/"
performance/
  enableCache: true
  cacheMaxSize: 1000
  cacheTTL: 300000

Configuration Sources:
  1. automatosx.config.json (project root)
  2. Environment variables (AUTOMATOSX_*)
  3. Default values (built-in)


stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should filter by category

=== AutomatosX Configuration ===

providers/
  claude/
    enabled: true
    priority: 1
    apiKey: ***hidden***
  gemini/
    enabled: true
    priority: 2
    apiKey: ***hidden***
  openai/
    enabled: false
    priority: 3
    apiKey: null

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should handle verbose mode
[90m[2025-11-10T01:03:39.675Z] DEBUG   Loading configuration...[0m
[90m[2025-11-10T01:03:39.675Z] DEBUG   Reading automatosx.config.json...[0m

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should handle verbose mode

=== AutomatosX Configuration ===

providers/
  claude/
    enabled: true
    priority: 1
    apiKey: ***hidden***
  gemini/
    enabled: true
    priority: 2
    apiKey: ***hidden***
  openai/
    enabled: false
    priority: 3
    apiKey: null
execution/
  defaultTimeout: 1500000
  maxRetries: 3
  parallelEnabled: true
memory/
  enabled: true
  maxEntries: 10000
  dbPath: ".automatosx/memory/memories.db"
agents/
  autoReload: true
  catalogPath: ".automatosx/agents/"
performance/
  enableCache: true
  cacheMaxSize: 1000
  cacheTTL: 300000

 â¯ src/cli/__tests__/commands.test.ts  (47 tests | 2 failed) 11399ms
   â¯ src/cli/__tests__/commands.test.ts > RunCommand > should handle streaming output
     â†’ expected '\u001b[36m[2025-11-10T01:03:29.329Z] â€¦' to match /\[\d+\/\d+\]/\d+\]
   â¯ src/cli/__tests__/commands.test.ts > ConfigShowCommand > should error on nonexistent key
     â†’ expected [Function] to throw error including 'not found' but got 'process.exit unexpectedly called withâ€¦'
stderr | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should error on nonexistent key

[31mâœ— Error:[0m Config key "nonexistent.key" not found
[90mCode: CONFIG_NOT_FOUND[0m

[33mSuggestions:[0m
  1. Run `ax config show` to see all available keys
  2. Check for typos in the key name
  3. Use dot notation for nested keys (e.g., providers.claude.enabled)

[90mTimestamp: 2025-11-10T01:03:39.779Z[0m

 â¯ src/__tests__/integration/end-to-end-workflows.test.ts  (10 tests | 4 failed) 35043ms
   â¯ src/__tests__/integration/end-to-end-workflows.test.ts > End-to-End Workflows > multi-step workflows > should execute sequential tasks
     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   â¯ src/__tests__/integration/end-to-end-workflows.test.ts > End-to-End Workflows > checkpoint workflows > should restore and continue from checkpoint
     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   â¯ src/__tests__/integration/end-to-end-workflows.test.ts > End-to-End Workflows > agent delegation workflows > should delegate tasks between agents
     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   â¯ src/__tests__/integration/end-to-end-workflows.test.ts > End-to-End Workflows > performance workflows > should handle rapid sequential tasks
     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts  (13 tests | 13 failed) 36068ms
   â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > basic integration > should execute task with Claude provider
     â†’ Cannot read properties of undefined (reading 'totalTokens')
   â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > basic integration > should execute task with router fallback
     â†’ Cannot read properties of undefined (reading 'totalTokens')
   â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > basic integration > should track state transitions with provider calls
     â†’ Cannot read properties of undefined (reading 'totalTokens')
   â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > checkpoint and resume > should save checkpoint with provider response data
     â†’ Cannot read properties of undefined (reading 'totalTokens')
   â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > checkpoint and resume > should resume task with router
     â†’ Cannot read properties of undefined (reading 'totalTokens')
   â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > retry with provider fallback > should retry with same provider on transient errors
     â†’ Cannot read properties of undefined (reading 'totalTokens')
   â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > concurrent task execution > should handle multiple concurrent tasks
     â†’ Cannot read properties of undefined (reading 'totalTokens')
   â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > concurrent task execution > should list all active executions
     â†’ expected 0 to be greater than 0
   â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > event emission > should emit routing events from provider
     â†’ Cannot read properties of undefined (reading 'totalTokens')
   â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > event emission > should emit both runtime and provider events
     â†’ Cannot read properties of undefined (reading 'totalTokens')
   â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > task metadata and statistics > should track execution duration
     â†’ Cannot read properties of undefined (reading 'totalTokens')
   â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > task metadata and statistics > should store provider response metadata
     â†’ Cannot read properties of undefined (reading 'totalTokens')
   â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > task metadata and statistics > should track checkpoint history
     â†’ Cannot read properties of undefined (reading 'totalTokens')

â¯â¯â¯â¯â¯â¯ Failed Suites 8 â¯â¯â¯â¯â¯â¯â¯

 FAIL  src/__tests__/performance/baseline.test.ts [ src/__tests__/performance/baseline.test.ts ]
 FAIL  src/services/__tests__/FileService-Filters.simple.test.ts [ src/services/__tests__/FileService-Filters.simple.test.ts ]
Error: Module did not self-register: '/Users/akiralam/code/automatosx2/node_modules/tree-sitter-lua/build/Release/tree_sitter_lua_binding.node'.
 â¯ TracingChannel.traceSync node:diagnostics_channel:328:14
 â¯ Object.<anonymous> node_modules/tree-sitter-lua/bindings/node/index.js:2:20
      1| try {
      2|   module.exports = require("../../build/Release/tree_sitter_lua_bindinâ€¦
       |                    ^
      3| } catch (error1) {
      4|   if (error1.code !== 'MODULE_NOT_FOUND') {

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'ERR_DLOPEN_FAILED' }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/282]â¯

 FAIL  src/__tests__/runtime/effect-runtime.test.ts [ src/__tests__/runtime/effect-runtime.test.ts ]
Error: Failed to resolve import "../../../packages/rescript-core/src/runtime/StateMachine.bs.js" from "src/__tests__/runtime/effect-runtime.test.ts". Does the file exist?
 â¯ TransformPluginContext._formatError node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49258:41
 â¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49253:16
 â¯ normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64307:23
 â¯ async file:/Users/akiralam/code/automatosx2/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64439:39
 â¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64366:7
 â¯ PluginContainer.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49099:18
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51978:27

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/282]â¯

 FAIL  src/__tests__/runtime/harness.test.ts [ src/__tests__/runtime/harness.test.ts ]
Error: Failed to resolve import "../../../packages/rescript-core/src/runtime/StateMachine.bs.js" from "src/__tests__/runtime/harness.test.ts". Does the file exist?
 â¯ TransformPluginContext._formatError node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49258:41
 â¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49253:16
 â¯ normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64307:23
 â¯ async file:/Users/akiralam/code/automatosx2/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64439:39
 â¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64366:7
 â¯ PluginContainer.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49099:18
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51978:27

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/282]â¯

 FAIL  src/__tests__/runtime/integration.test.ts [ src/__tests__/runtime/integration.test.ts ]
Error: Failed to resolve import "../../../packages/rescript-core/src/runtime/StateMachine.bs.js" from "src/__tests__/runtime/integration.test.ts". Does the file exist?
 â¯ TransformPluginContext._formatError node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49258:41
 â¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49253:16
 â¯ normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64307:23
 â¯ async file:/Users/akiralam/code/automatosx2/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64439:39
 â¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64366:7
 â¯ PluginContainer.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49099:18
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51978:27

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/282]â¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts [ src/__tests__/runtime/transition-validator.test.ts ]
Error: Failed to resolve import "../../../packages/rescript-core/src/runtime/StateMachine.bs.js" from "src/__tests__/runtime/transition-validator.test.ts". Does the file exist?
 â¯ TransformPluginContext._formatError node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49258:41
 â¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49253:16
 â¯ normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64307:23
 â¯ async file:/Users/akiralam/code/automatosx2/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64439:39
 â¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64366:7
 â¯ PluginContainer.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49099:18
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51978:27

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/282]â¯

 FAIL  src/services/__tests__/FileService-Python.simple.test.ts [ src/services/__tests__/FileService-Python.simple.test.ts ]
TypeError: Invalid language object
 â¯ Parser.setLanguage node_modules/tree-sitter/index.js:351:17
    349| Parser.prototype.setLanguage = function(language) {
    350|   if (this instanceof Parser && setLanguage) {
    351|     setLanguage.call(this, language);
       |                 ^
    352|   }
    353|   this[languageSymbol] = language;
 â¯ new BaseLanguageParser src/parser/LanguageParser.ts:100:17
 â¯ new LuaParserService src/parser/LuaParserService.ts:20:5
 â¯ ParserRegistry.registerDefaultParsers src/parser/ParserRegistry.ts:129:25
 â¯ new ParserRegistry src/parser/ParserRegistry.ts:71:10
 â¯ Module.getParserRegistry src/parser/ParserRegistry.ts:296:24
 â¯ new FileService src/services/FileService.ts:111:27
 â¯ src/services/__tests__/FileService-Python.simple.test.ts:15:23

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/282]â¯

 FAIL  extensions/vscode/src/__tests__/Day76VSCodeExtension.test.ts [ extensions/vscode/src/__tests__/Day76VSCodeExtension.test.ts ]
Error: Failed to resolve import "vscode" from "extensions/vscode/src/__tests__/Day76VSCodeExtension.test.ts". Does the file exist?
 â¯ TransformPluginContext._formatError node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49258:41
 â¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49253:16
 â¯ normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64307:23
 â¯ async file:/Users/akiralam/code/automatosx2/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64439:39
 â¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64366:7
 â¯ PluginContainer.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49099:18
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51978:27

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/282]â¯

â¯â¯â¯â¯â¯â¯ Failed Tests 274 â¯â¯â¯â¯â¯â¯

 FAIL  src/__tests__/agent-behavior.test.ts > Agent Delegation > should delegate database tasks to data agent
AssertionError: expected 'backend' to be 'data' // Object.is equality

- Expected
+ Received

- data
+ backend

 â¯ src/__tests__/agent-behavior.test.ts:29:28
     27|     const delegatedAgent = selectAgentForTask(task)
     28| 
     29|     expect(delegatedAgent).toBe('data')
       |                            ^
     30|   })
     31| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/282]â¯

 FAIL  src/__tests__/agent-behavior.test.ts > Agent Delegation > should delegate testing tasks to quality agent
AssertionError: expected 'backend' to be 'quality' // Object.is equality

- Expected
+ Received

- quality
+ backend

 â¯ src/__tests__/agent-behavior.test.ts:36:28
     34|     const delegatedAgent = selectAgentForTask(task)
     35| 
     36|     expect(delegatedAgent).toBe('quality')
       |                            ^
     37|   })
     38| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/282]â¯

 FAIL  src/__tests__/agent-behavior.test.ts > Agent Delegation > should delegate security audit to security agent
AssertionError: expected 'backend' to be 'security' // Object.is equality

- Expected
+ Received

- security
+ backend

 â¯ src/__tests__/agent-behavior.test.ts:59:28
     57|     const delegatedAgent = selectAgentForTask(task)
     58| 
     59|     expect(delegatedAgent).toBe('security')
       |                            ^
     60|   })
     61| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[10/282]â¯

 FAIL  src/__tests__/agent-behavior.test.ts > Agent Delegation > should delegate documentation to writer agent
AssertionError: expected 'backend' to be 'writer' // Object.is equality

- Expected
+ Received

- writer
+ backend

 â¯ src/__tests__/agent-behavior.test.ts:66:28
     64|     const delegatedAgent = selectAgentForTask(task)
     65| 
     66|     expect(delegatedAgent).toBe('writer')
       |                            ^
     67|   })
     68| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[11/282]â¯

 FAIL  src/__tests__/agent-behavior.test.ts > Memory Augmentation > should filter memories by date range
AssertionError: expected 1762736606360 to be less than or equal to 1738281600000
 â¯ src/__tests__/agent-behavior.test.ts:256:36
    254|       const memoryDate = new Date(memory.timestamp)
    255|       expect(memoryDate.getTime()).toBeGreaterThanOrEqual(from.getTimeâ€¦
    256|       expect(memoryDate.getTime()).toBeLessThanOrEqual(to.getTime())
       |                                    ^
    257|     })
    258|   })
 â¯ src/__tests__/agent-behavior.test.ts:253:14

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[12/282]â¯

 FAIL  src/__tests__/agent-behavior.test.ts > Memory Augmentation > should cache memory queries
AssertionError: expected 0 to be less than 0
 â¯ src/__tests__/agent-behavior.test.ts:281:28
    279| 
    280|     // Second query should be faster (cached)
    281|     expect(query2Duration).toBeLessThan(query1Duration)
       |                            ^
    282|     expect(memories1).toEqual(memories2)
    283|   })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[13/282]â¯

 FAIL  src/__tests__/agent-behavior.test.ts > Memory Augmentation > should invalidate memory cache on update
AssertionError: expected 2 not to be 2 // Object.is equality
 â¯ src/__tests__/agent-behavior.test.ts:294:34
    292| 
    293|     // Should return different results after update
    294|     expect(memories1.length).not.toBe(memories2.length)
       |                                  ^
    295|   })
    296| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[14/282]â¯

 FAIL  src/__tests__/agent-behavior.test.ts > Agent Communication > should track message history
AssertionError: expected 0 to be greater than or equal to 2
 â¯ src/__tests__/agent-behavior.test.ts:347:28
    345|     const history = getMessageHistory()
    346| 
    347|     expect(history.length).toBeGreaterThanOrEqual(2)
       |                            ^
    348|   })
    349| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[15/282]â¯

 FAIL  src/__tests__/bridge-hardening.test.ts > Schema Regression > RunCommandSchema > should cap timeout at maximum
ZodError: [
  {
    "origin": "number",
    "code": "too_big",
    "maximum": 1800000,
    "inclusive": true,
    "path": [
      "timeout"
    ],
    "message": "Timeout cannot exceed 30 minutes"
  }
]
 â¯ src/__tests__/bridge-hardening.test.ts:158:39
    156| 
    157|     it('should cap timeout at maximum', () => {
    158|       const result = RunCommandSchema.parse({
       |                                       ^
    159|         agent: 'backend',
    160|         task: 'Test',

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { _zod: { traits: { constructor: 'Function<Set>', has: 'Function<has>', add: 'Function<add>', delete: 'Function<delete>', difference: 'Function<difference>', clear: 'Function<clear>', entries: 'Function<entries>', forEach: 'Function<forEach>', intersection: 'Function<intersection>', isSubsetOf: 'Function<isSubsetOf>', isSupersetOf: 'Function<isSupersetOf>', isDisjointFrom: 'Function<isDisjointFrom>', size: 2, symmetricDifference: 'Function<symmetricDifference>', union: 'Function<union>', values: 'Function<values>', keys: 'Function<values>' }, constr: 'Function<ZodError>', def: [ { origin: 'number', code: 'too_big', maximum: 1800000, inclusive: true, path: [ 'timeout' ], message: 'Timeout cannot exceed 30 minutes' } ], deferred: [] }, issues: [ { origin: 'number', code: 'too_big', maximum: 1800000, inclusive: true, path: [ 'timeout' ], message: 'Timeout cannot exceed 30 minutes' } ], format: 'Function<value>', flatten: 'Function<value>', addIssue: 'Function<value>', addIssues: 'Function<value>', isEmpty: false }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[16/282]â¯

 FAIL  src/__tests__/bridge-hardening.test.ts > Schema Regression > MemorySearchSchema > should accept filters
AssertionError: expected undefined to be '2025-01-01' // Object.is equality

- Expected: 
"2025-01-01"

+ Received: 
undefined

 â¯ src/__tests__/bridge-hardening.test.ts:190:28
    188|       expect(result.agent).toBe('backend')
    189|       expect(result.tags).toEqual(['api', 'auth'])
    190|       expect(result.after).toBe('2025-01-01')
       |                            ^
    191|     })
    192| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[17/282]â¯

 FAIL  src/__tests__/bridge-hardening.test.ts > Schema Regression > MemorySearchSchema > should reject invalid date format
AssertionError: expected [Function] to throw an error
 â¯ src/__tests__/bridge-hardening.test.ts:199:9
    197|           after: 'invalid-date',
    198|         })
    199|       ).toThrow()
       |         ^
    200|     })
    201|   })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[18/282]â¯

 FAIL  src/__tests__/bridge-hardening.test.ts > Schema Regression > ListAgentsSchema > should accept sort options
AssertionError: expected undefined to be 'name' // Object.is equality

- Expected: 
"name"

+ Received: 
undefined

 â¯ src/__tests__/bridge-hardening.test.ts:218:27
    216|       })
    217| 
    218|       expect(result.sort).toBe('name')
       |                           ^
    219|       expect(result.enabled).toBe(true)
    220|     })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[19/282]â¯

 FAIL  src/__tests__/bridge-hardening.test.ts > Schema Regression > StatusSchema > should enable all health checks by default
AssertionError: expected undefined to be true // Object.is equality

- Expected: 
true

+ Received: 
undefined

 â¯ src/__tests__/bridge-hardening.test.ts:235:29
    233|       const result = StatusSchema.parse({})
    234| 
    235|       expect(result.memory).toBe(true)
       |                             ^
    236|       expect(result.providers).toBe(true)
    237|       expect(result.agents).toBe(true)

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[20/282]â¯

 FAIL  src/__tests__/bridge-hardening.test.ts > Schema Regression > StatusSchema > should allow selective health checks
AssertionError: expected undefined to be true // Object.is equality

- Expected: 
true

+ Received: 
undefined

 â¯ src/__tests__/bridge-hardening.test.ts:247:29
    245|       })
    246| 
    247|       expect(result.memory).toBe(true)
       |                             ^
    248|       expect(result.providers).toBe(false)
    249|       expect(result.agents).toBe(false)

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[21/282]â¯

 FAIL  src/__tests__/bridge-hardening.test.ts > Error Handling Regression > should create error envelope with all fields
ZodError: [
  {
    "origin": "string",
    "code": "invalid_format",
    "format": "uuid",
    "pattern": "/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/",
    "path": [
      "requestId"
    ],
    "message": "Invalid UUID"
  }
]
 â¯ Module.createErrorEnvelope src/utils/ErrorEnvelope.ts:116:30
    114| 
    115|   // Validate the envelope structure
    116|   return ErrorEnvelopeSchema.parse(envelope)
       |                              ^
    117| }
    118| 
 â¯ src/__tests__/bridge-hardening.test.ts:286:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { _zod: { traits: { constructor: 'Function<Set>', has: 'Function<has>', add: 'Function<add>', delete: 'Function<delete>', difference: 'Function<difference>', clear: 'Function<clear>', entries: 'Function<entries>', forEach: 'Function<forEach>', intersection: 'Function<intersection>', isSubsetOf: 'Function<isSubsetOf>', isSupersetOf: 'Function<isSupersetOf>', isDisjointFrom: 'Function<isDisjointFrom>', size: 2, symmetricDifference: 'Function<symmetricDifference>', union: 'Function<union>', values: 'Function<values>', keys: 'Function<values>' }, constr: 'Function<ZodError>', def: [ { origin: 'string', code: 'invalid_format', format: 'uuid', pattern: '/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/', path: [ 'requestId' ], message: 'Invalid UUID' } ], deferred: [] }, issues: [ { origin: 'string', code: 'invalid_format', format: 'uuid', pattern: '/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/', path: [ 'requestId' ], message: 'Invalid UUID' } ], format: 'Function<value>', flatten: 'Function<value>', addIssue: 'Function<value>', addIssues: 'Function<value>', isEmpty: false }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[22/282]â¯

 FAIL  src/__tests__/bridge-hardening.test.ts > Logging Regression > should track all log levels
Error: Unhandled error. ({
  level: 'error',
  message: 'Error message',
  timestamp: 2025-11-10T01:03:29.241Z,
  metadata: undefined
})
 â¯ StreamingLogger.emit node:events:497:17
 â¯ StreamingLogger.log src/utils/StreamingLogger.ts:107:10
    105|     // Emit event for listeners
    106|     this.emit('log', event)
    107|     this.emit(level, event)
       |          ^
    108| 
    109|     // Print to console if streaming
 â¯ StreamingLogger.error src/utils/StreamingLogger.ts:147:10
 â¯ src/__tests__/bridge-hardening.test.ts:351:12

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'ERR_UNHANDLED_ERROR', context: { level: 'error', message: 'Error message', timestamp: '2025-11-10T01:03:29.241Z', metadata: undefined } }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[23/282]â¯

 FAIL  src/__tests__/bridge-hardening.test.ts > Logging Regression > should respect min level
Error: Unhandled error. ({
  level: 'error',
  message: 'Should log',
  timestamp: 2025-11-10T01:03:29.242Z,
  metadata: undefined
})
 â¯ StreamingLogger.emit node:events:497:17
 â¯ StreamingLogger.log src/utils/StreamingLogger.ts:107:10
    105|     // Emit event for listeners
    106|     this.emit('log', event)
    107|     this.emit(level, event)
       |          ^
    108| 
    109|     // Print to console if streaming
 â¯ StreamingLogger.error src/utils/StreamingLogger.ts:147:10
 â¯ src/__tests__/bridge-hardening.test.ts:371:16

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'ERR_UNHANDLED_ERROR', context: { level: 'error', message: 'Should log', timestamp: '2025-11-10T01:03:29.242Z', metadata: undefined } }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[24/282]â¯

 FAIL  src/__tests__/bridge-hardening.test.ts > Bridge Integration > should handle validation -> error flow
Error: Unhandled error. ({
  level: 'error',
  message: 'Validation failed',
  timestamp: 2025-11-10T01:03:29.244Z,
  metadata: {
    error: '[\n' +
      '  {\n' +
      '    "origin": "string",\n' +
      '    "code": "invalid_format",\n' +
      '    "format": "regex",\n' +
      '    "pattern": "/^[a-z][a-z0-9-]*$/",\n' +
      '    "path": [\n' +
      '      "agent"\n' +
      '    ],\n' +
      '    "message": "Agent name must be lowercase alphanumeric with hyphens"\n' +
      '  }\n' +
      ']'
  }
})
 â¯ StreamingLogger.emit node:events:497:17
 â¯ StreamingLogger.log src/utils/StreamingLogger.ts:107:10
    105|     // Emit event for listeners
    106|     this.emit('log', event)
    107|     this.emit(level, event)
       |          ^
    108| 
    109|     // Print to console if streaming
 â¯ StreamingLogger.error src/utils/StreamingLogger.ts:147:10
 â¯ src/__tests__/bridge-hardening.test.ts:440:14

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'ERR_UNHANDLED_ERROR', context: { level: 'error', message: 'Validation failed', timestamp: '2025-11-10T01:03:29.244Z', metadata: { error: '[\n  {\n    "origin": "string",\n    "code": "invalid_format",\n    "format": "regex",\n    "pattern": "/^[a-z][a-z0-9-]*$/",\n    "path": [\n      "agent"\n    ],\n    "message": "Agent name must be lowercase alphanumeric with hyphens"\n  }\n]' } } }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[25/282]â¯

 FAIL  src/__tests__/determinism-and-chaos.test.ts > Deterministic Random > should generate boolean with 50% probability
TypeError: rng.nextBoolean is not a function
 â¯ src/__tests__/determinism-and-chaos.test.ts:71:60
     69|   it('should generate boolean with 50% probability', () => {
     70|     const rng = new SeededRandom(12345)
     71|     const results = Array.from({ length: 1000 }, () => rng.nextBooleanâ€¦
       |                                                            ^
     72| 
     73|     const trueCount = results.filter(x => x).length
 â¯ src/__tests__/determinism-and-chaos.test.ts:71:27

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[26/282]â¯

 FAIL  src/__tests__/determinism-and-chaos.test.ts > Deterministic Random > should generate same boolean sequence with same seed
TypeError: rng1.nextBoolean is not a function
 â¯ src/__tests__/determinism-and-chaos.test.ts:87:56
     85|     const rng2 = new SeededRandom(12345)
     86| 
     87|     const seq1 = Array.from({ length: 10 }, () => rng1.nextBoolean())
       |                                                        ^
     88|     const seq2 = Array.from({ length: 10 }, () => rng2.nextBoolean())
     89| 
 â¯ src/__tests__/determinism-and-chaos.test.ts:87:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[27/282]â¯

 FAIL  src/__tests__/determinism-and-chaos.test.ts > Deterministic Random > should pick from array deterministically
TypeError: rng.pick is not a function
 â¯ src/__tests__/determinism-and-chaos.test.ts:97:57
     95|     const items = ['a', 'b', 'c', 'd', 'e']
     96| 
     97|     const picked = Array.from({ length: 10 }, () => rng.pick(items))
       |                                                         ^
     98| 
     99|     // All picks should be from items array
 â¯ src/__tests__/determinism-and-chaos.test.ts:97:26

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[28/282]â¯

 FAIL  src/__tests__/determinism-and-chaos.test.ts > Deterministic Random > should reset to initial seed
AssertionError: expected [ 0.02040268573909998, â€¦(4) ] to deeply equal [ NaN, NaN, NaN, NaN, NaN ]

- Expected
+ Received

  Array [
-   NaN,
-   NaN,
-   NaN,
-   NaN,
-   NaN,
+   0.02040268573909998,
+   0.01654784823767841,
+   0.5431557944975793,
+   0.6349040560889989,
+   0.9100295137614012,
  ]

 â¯ src/__tests__/determinism-and-chaos.test.ts:123:18
    121|     const seq2 = Array.from({ length: 5 }, () => rng.next())
    122| 
    123|     expect(seq1).toEqual(seq2)
       |                  ^
    124|   })
    125| })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[29/282]â¯

 FAIL  src/__tests__/determinism-and-chaos.test.ts > Chaos Engine > should track chaos events
AssertionError: expected 5 to be 10 // Object.is equality

- Expected
+ Received

- 10
+ 5

 â¯ src/__tests__/determinism-and-chaos.test.ts:393:27
    391| 
    392|     const events = chaos.getEvents()
    393|     expect(events.length).toBe(10)
       |                           ^
    394|   })
    395| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[30/282]â¯

 FAIL  src/__tests__/determinism-and-chaos.test.ts > Chaos Engine > should inject delays
AssertionError: expected 0 to be greater than or equal to 90
 â¯ src/__tests__/determinism-and-chaos.test.ts:424:23
    422| 
    423|     if (result.shouldFail) {
    424|       expect(elapsed).toBeGreaterThanOrEqual(90) // Some tolerance
       |                       ^
    425|     }
    426|   })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[31/282]â¯

 FAIL  src/__tests__/determinism-and-chaos.test.ts > Chaos Engine > should get summary statistics
AssertionError: expected 56 to be 100 // Object.is equality

- Expected
+ Received

- 100
+ 56

 â¯ src/__tests__/determinism-and-chaos.test.ts:458:33
    456|     const summary = chaos.getSummary()
    457| 
    458|     expect(summary.totalEvents).toBe(100)
       |                                 ^
    459|     expect(summary.eventsInjected).toBeGreaterThan(0)
    460|     expect(summary.failureRate).toBeGreaterThan(0)

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[32/282]â¯

 FAIL  src/__tests__/platform-specific.test.ts > Path Handling - Cross-Platform > Windows Paths > should handle Windows path with spaces
AssertionError: expected '' to contain 'Program Files'

- Expected
+ Received

- Program Files

 â¯ src/__tests__/platform-specific.test.ts:39:26
     37|       const pathWithSpaces = 'C:\\Program Files\\My App\\file.txt'
     38|       const parsed = path.parse(pathWithSpaces)
     39|       expect(parsed.dir).toContain('Program Files')
       |                          ^
     40|     })
     41|   })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[33/282]â¯

 FAIL  src/__tests__/platform-specific.test.ts > Character Encoding - Cross-Platform > should handle Japanese characters
AssertionError: expected 3 to be 4 // Object.is equality

- Expected
+ Received

- 4
+ 3

 â¯ src/__tests__/platform-specific.test.ts:410:29
    408|   it('should handle Japanese characters', () => {
    409|     const japanese = 'ãƒ†ã‚¹ãƒˆ'
    410|     expect(japanese.length).toBe(4)
       |                             ^
    411|   })
    412| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[34/282]â¯

 FAIL  src/__tests__/schema-validation.test.ts > Schema Validation > ProviderRequestSchema > should reject empty messages array
AssertionError: expected true to be false // Object.is equality

- Expected
+ Received

- false
+ true

 â¯ src/__tests__/schema-validation.test.ts:166:30
    164| 
    165|       const result = ProviderRequestSchema.safeParse(request)
    166|       expect(result.success).toBe(false)
       |                              ^
    167|     })
    168| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[35/282]â¯

 FAIL  src/__tests__/schema-validation.test.ts > Schema Validation > ProviderResponseSchema > should validate valid response
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ src/__tests__/schema-validation.test.ts:271:30
    269| 
    270|       const result = ProviderResponseSchema.safeParse(response)
    271|       expect(result.success).toBe(true)
       |                              ^
    272|     })
    273| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[36/282]â¯

 FAIL  src/__tests__/schema-validation.test.ts > Schema Validation > ProviderResponseSchema > should validate usage object
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ src/__tests__/schema-validation.test.ts:289:30
    287| 
    288|       const result = ProviderResponseSchema.safeParse(response)
    289|       expect(result.success).toBe(true)
       |                              ^
    290|     })
    291| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[37/282]â¯

 FAIL  src/__tests__/schema-validation.test.ts > Schema Validation > ProviderResponseSchema > should validate finish reason enum
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ src/__tests__/schema-validation.test.ts:346:32
    344| 
    345|         const result = ProviderResponseSchema.safeParse(response)
    346|         expect(result.success).toBe(true)
       |                                ^
    347|       }
    348|     })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[38/282]â¯

 FAIL  src/__tests__/schema-validation.test.ts > Schema Validation > ProviderResponseSchema > should accept empty content string
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ src/__tests__/schema-validation.test.ts:400:30
    398| 
    399|       const result = ProviderResponseSchema.safeParse(response)
    400|       expect(result.success).toBe(true)
       |                              ^
    401|     })
    402| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39/282]â¯

 FAIL  src/__tests__/schema-validation.test.ts > Schema Validation > ProviderResponseSchema > should validate provider name
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ src/__tests__/schema-validation.test.ts:418:30
    416| 
    417|       const result = ProviderResponseSchema.safeParse(response)
    418|       expect(result.success).toBe(true)
       |                              ^
    419|     })
    420|   })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[40/282]â¯

 FAIL  src/__tests__/schema-validation.test.ts > Schema Validation > Schema Integration > should validate request-response cycle
ZodError: [
  {
    "expected": "number",
    "code": "invalid_type",
    "path": [
      "usage",
      "inputTokens"
    ],
    "message": "Invalid input: expected number, received undefined"
  },
  {
    "expected": "number",
    "code": "invalid_type",
    "path": [
      "usage",
      "outputTokens"
    ],
    "message": "Invalid input: expected number, received undefined"
  }
]
 â¯ src/__tests__/schema-validation.test.ts:431:47
    429|       expect(request.messages).toHaveLength(1)
    430| 
    431|       const response = ProviderResponseSchema.parse({
       |                                               ^
    432|         content: '4',
    433|         model: 'gpt-4',

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { _zod: { traits: { constructor: 'Function<Set>', has: 'Function<has>', add: 'Function<add>', delete: 'Function<delete>', difference: 'Function<difference>', clear: 'Function<clear>', entries: 'Function<entries>', forEach: 'Function<forEach>', intersection: 'Function<intersection>', isSubsetOf: 'Function<isSubsetOf>', isSupersetOf: 'Function<isSupersetOf>', isDisjointFrom: 'Function<isDisjointFrom>', size: 2, symmetricDifference: 'Function<symmetricDifference>', union: 'Function<union>', values: 'Function<values>', keys: 'Function<values>' }, constr: 'Function<ZodError>', def: [ { expected: 'number', code: 'invalid_type', path: [ 'usage', 'inputTokens' ], message: 'Invalid input: expected number, received undefined' }, { expected: 'number', code: 'invalid_type', path: [ 'usage', 'outputTokens' ], message: 'Invalid input: expected number, received undefined' } ], deferred: [] }, issues: [ { expected: 'number', code: 'invalid_type', path: [ 'usage', 'inputTokens' ], message: 'Invalid input: expected number, received undefined' }, { expected: 'number', code: 'invalid_type', path: [ 'usage', 'outputTokens' ], message: 'Invalid input: expected number, received undefined' } ], format: 'Function<value>', flatten: 'Function<value>', addIssue: 'Function<value>', addIssues: 'Function<value>', isEmpty: false }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[41/282]â¯

 FAIL  src/__tests__/schema-validation.test.ts > Schema Validation > Error Messages > should provide descriptive error messages
AssertionError: expected true to be false // Object.is equality

- Expected
+ Received

- false
+ true

 â¯ src/__tests__/schema-validation.test.ts:484:30
    482| 
    483|       const result = ProviderRequestSchema.safeParse(invalidRequest)
    484|       expect(result.success).toBe(false)
       |                              ^
    485|       if (!result.success) {
    486|         const errorMessage = result.error.issues[0].message

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[42/282]â¯

 FAIL  src/__tests__/services-and-cache.test.ts > MemoryCache > should evict LRU entry when full
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ src/__tests__/services-and-cache.test.ts:314:31
    312|     cache.set('key10', 'value10')
    313| 
    314|     expect(cache.has('key0')).toBe(true) // Recently accessed
       |                               ^
    315|     expect(cache.has('key1')).toBe(false) // Should be evicted
    316|     expect(cache.has('key10')).toBe(true) // Newly added

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[43/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Loading > should return cached module on second load
Error: Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611946/test.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611946/test.mjs). Does the file exist?
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51969:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[44/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Loading > should track load time
Error: Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611947/test.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611947/test.mjs). Does the file exist?
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51969:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[45/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Loading > should emit module-loaded event
Error: Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611948/test.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611948/test.mjs). Does the file exist?
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51969:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[46/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Loading > should handle concurrent loads
Error: Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611951/concurrent.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611951/concurrent.mjs). Does the file exist?
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51969:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[47/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Module Access > should get loaded module
Error: Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611952/get-test.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611952/get-test.mjs). Does the file exist?
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51969:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[48/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Module Access > should check if loaded
Error: Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611954/check.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611954/check.mjs). Does the file exist?
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51969:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[49/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Module Access > should check if loading
Error: Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611955/loading.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611955/loading.mjs). Does the file exist?
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51969:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[50/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Preloading > should preload multiple modules
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ src/__tests__/cli/LazyLoader.test.ts:210:39
    208|       await loader.preload(['mod1', 'mod2'])
    209| 
    210|       expect(loader.isLoaded('mod1')).toBe(true)
       |                                       ^
    211|       expect(loader.isLoaded('mod2')).toBe(true)
    212|     })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[51/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Preloading > should continue preloading on individual failures
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ src/__tests__/cli/LazyLoader.test.ts:234:39
    232|       await loader.preload(['bad', 'good'])
    233| 
    234|       expect(loader.isLoaded('good')).toBe(true)
       |                                       ^
    235|     })
    236|   })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[52/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Cache Management > should clear cached module
Error: Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611963/clear.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611963/clear.mjs). Does the file exist?
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51969:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[53/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Cache Management > should clear all cached modules
AssertionError: expected [] to have a length of 2 but got +0

- Expected
+ Received

- 2
+ 0

 â¯ src/__tests__/cli/LazyLoader.test.ts:266:41
    264|       await loader.preload(['mod1', 'mod2'])
    265| 
    266|       expect(loader.getLoadedModules()).toHaveLength(2)
       |                                         ^
    267| 
    268|       loader.clearAll()

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[54/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Statistics > should calculate statistics
AssertionError: expected { registered: 3, loaded: +0, â€¦(4) } to match object { registered: 3, loaded: 2, â€¦(3) }
(1 matching property omitted from actual)

- Expected
+ Received

  Object {
    "averageLoadTime": Any<Number>,
-   "loaded": 2,
+   "loaded": 0,
    "loading": 0,
    "registered": 3,
    "totalLoadTime": Any<Number>,
  }

 â¯ src/__tests__/cli/LazyLoader.test.ts:307:21
    305|       const stats = loader.getStatistics()
    306| 
    307|       expect(stats).toMatchObject({
       |                     ^
    308|         registered: 3,
    309|         loaded: 2,

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[55/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Statistics > should track slowest module
Error: Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611969/fast.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611969/fast.mjs). Does the file exist?
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51969:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[56/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Lazy Getter > should create lazy getter function
Error: Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611970/getter.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611970/getter.mjs). Does the file exist?
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51969:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[57/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Lazy Getter > should cache result on subsequent calls
Error: Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611971/cache-getter.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611971/cache-getter.mjs). Does the file exist?
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51969:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[58/282]â¯

 FAIL  src/__tests__/cli/LazyLoader.test.ts > LazyLoader > Unregister > should clear module on unregister
Error: Failed to load url /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611972/unreg.mjs (resolved id: /private/var/folders/rz/dnw2slw53cs2qfy6tvrpk3p00000gn/T/lazy-loader-test-1762736611972/unreg.mjs). Does the file exist?
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51969:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[59/282]â¯

 FAIL  src/__tests__/integration/end-to-end-workflows.test.ts > End-to-End Workflows > multi-step workflows > should execute sequential tasks
 FAIL  src/__tests__/integration/end-to-end-workflows.test.ts > End-to-End Workflows > checkpoint workflows > should restore and continue from checkpoint
 FAIL  src/__tests__/integration/end-to-end-workflows.test.ts > End-to-End Workflows > agent delegation workflows > should delegate tasks between agents
 FAIL  src/__tests__/integration/end-to-end-workflows.test.ts > End-to-End Workflows > performance workflows > should handle rapid sequential tasks
 FAIL  src/services/__tests__/ProviderRouterV2.test.ts > ProviderRouterV2 > event emission > should emit error event on failures
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[60/282]â¯

 FAIL  src/__tests__/performance/CLIProfiler.test.ts > CLIProfiler > Formatting > should sort phases by duration in formatted output
AssertionError: expected 92 to be less than 74
 â¯ src/__tests__/performance/CLIProfiler.test.ts:265:25
    263|       const fastIndex = formatted.indexOf('fast')
    264| 
    265|       expect(slowIndex).toBeLessThan(fastIndex)
       |                         ^
    266|     })
    267|   })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[61/282]â¯

 FAIL  src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > Reload Operations > should measure reload duration
AssertionError: expected 0 to be greater than 0
 â¯ src/__tests__/plugins/HotReload.test.ts:177:31
    175|       })
    176| 
    177|       expect(result.duration).toBeGreaterThan(0)
       |                               ^
    178|       expect(result.duration).toBeLessThan(1000) // Should be fast forâ€¦
    179|     })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[62/282]â¯

 FAIL  src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > Reload Operations > should include version information
AssertionError: expected undefined not to be undefined
 â¯ src/__tests__/plugins/HotReload.test.ts:186:38
    184|       })
    185| 
    186|       expect(result.previousVersion).toBeDefined()
       |                                      ^
    187|       expect(result.newVersion).toBeDefined()
    188|     })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[63/282]â¯

 FAIL  src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > State Preservation > should save plugin state when preserveState enabled
AssertionError: expected "spy" to be called with arguments: [ ObjectContaining{â€¦} ]

Received: 



Number of calls: 0

 â¯ src/__tests__/plugins/HotReload.test.ts:218:24
    216|       })
    217| 
    218|       expect(listener).toHaveBeenCalledWith(
       |                        ^
    219|         expect.objectContaining({
    220|           pluginName: 'test-plugin',

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[64/282]â¯

 FAIL  src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > State Preservation > should restore plugin state when preserveState enabled
AssertionError: expected "spy" to be called with arguments: [ ObjectContaining{â€¦} ]

Received: 



Number of calls: 0

 â¯ src/__tests__/plugins/HotReload.test.ts:240:24
    238|       })
    239| 
    240|       expect(listener).toHaveBeenCalledWith(
       |                        ^
    241|         expect.objectContaining({
    242|           pluginName: 'test-plugin',

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[65/282]â¯

 FAIL  src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > State Preservation > should get state snapshot
AssertionError: expected undefined to match object { pluginName: 'test-plugin', â€¦(3) }

- Expected: 
Object {
  "metadata": Any<Object>,
  "pluginName": "test-plugin",
  "state": Any<Object>,
  "timestamp": Any<Number>,
}

+ Received: 
undefined

 â¯ src/__tests__/plugins/HotReload.test.ts:267:24
    265|       const snapshot = engine.getStateSnapshot('test-plugin')
    266| 
    267|       expect(snapshot).toMatchObject({
       |                        ^
    268|         pluginName: 'test-plugin',
    269|         timestamp: expect.any(Number),

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[66/282]â¯

 FAIL  src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > Error Handling > should rollback on error when rollbackOnError enabled
AssertionError: expected "spy" to be called with arguments: [ { pluginName: 'test-plugin' } ]

Received: 



Number of calls: 0

 â¯ src/__tests__/plugins/HotReload.test.ts:337:24
    335|       })
    336| 
    337|       expect(listener).toHaveBeenCalledWith({ pluginName: 'test-pluginâ€¦
       |                        ^
    338| 
    339|       // Restore

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[67/282]â¯

 FAIL  src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > Event Lifecycle > should emit plugin-unloaded event
AssertionError: expected "spy" to be called with arguments: [ ObjectContaining{â€¦} ]

Received: 



Number of calls: 0

 â¯ src/__tests__/plugins/HotReload.test.ts:592:24
    590|       })
    591| 
    592|       expect(listener).toHaveBeenCalledWith(
       |                        ^
    593|         expect.objectContaining({
    594|           pluginName: 'test-plugin',

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[68/282]â¯

 FAIL  src/__tests__/plugins/HotReload.test.ts > HotReloadEngine > Event Lifecycle > should emit rollback-complete event
AssertionError: expected "spy" to be called with arguments: [ { pluginName: 'test-plugin' } ]

Received: 



Number of calls: 0

 â¯ src/__tests__/plugins/HotReload.test.ts:627:24
    625|       })
    626| 
    627|       expect(listener).toHaveBeenCalledWith({ pluginName: 'test-pluginâ€¦
       |                        ^
    628| 
    629|       // Restore

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[69/282]â¯

 FAIL  src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Read Lockfile > should read valid lockfile
Error: Failed to read lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
 â¯ LockfileManager.read src/plugins/LockfileManager.ts:34:13
     32|         return null
     33|       }
     34|       throw new Error(
       |             ^
     35|         `Failed to read lockfile: ${error instanceof Error ? error.mesâ€¦
     36|       )
 â¯ src/__tests__/plugins/LockfileManager.test.ts:63:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[70/282]â¯

 FAIL  src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Write Lockfile > should write lockfile to disk
Error: Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
 â¯ LockfileManager.write src/plugins/LockfileManager.ts:49:13
     47|       await fs.writeFile(this.lockfilePath, content, 'utf-8')
     48|     } catch (error) {
     49|       throw new Error(
       |             ^
     50|         `Failed to write lockfile: ${error instanceof Error ? error.meâ€¦
     51|       )
 â¯ src/__tests__/plugins/LockfileManager.test.ts:135:21

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[71/282]â¯

 FAIL  src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Update Lockfile > should merge new dependencies into existing lockfile
Error: Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
 â¯ LockfileManager.write src/plugins/LockfileManager.ts:49:13
     47|       await fs.writeFile(this.lockfilePath, content, 'utf-8')
     48|     } catch (error) {
     49|       throw new Error(
       |             ^
     50|         `Failed to write lockfile: ${error instanceof Error ? error.meâ€¦
     51|       )
 â¯ src/__tests__/plugins/LockfileManager.test.ts:334:21

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[72/282]â¯

 FAIL  src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Update Lockfile > should update existing dependency versions
Error: Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
 â¯ LockfileManager.write src/plugins/LockfileManager.ts:49:13
     47|       await fs.writeFile(this.lockfilePath, content, 'utf-8')
     48|     } catch (error) {
     49|       throw new Error(
       |             ^
     50|         `Failed to write lockfile: ${error instanceof Error ? error.meâ€¦
     51|       )
 â¯ src/__tests__/plugins/LockfileManager.test.ts:364:21

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[73/282]â¯

 FAIL  src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Validate Lockfile > should return valid for correct lockfile
Error: Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
 â¯ LockfileManager.write src/plugins/LockfileManager.ts:49:13
     47|       await fs.writeFile(this.lockfilePath, content, 'utf-8')
     48|     } catch (error) {
     49|       throw new Error(
       |             ^
     50|         `Failed to write lockfile: ${error instanceof Error ? error.meâ€¦
     51|       )
 â¯ src/__tests__/plugins/LockfileManager.test.ts:415:21

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[74/282]â¯

 FAIL  src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Validate Lockfile > should detect missing version in dependency
Error: Failed to read lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
 â¯ LockfileManager.read src/plugins/LockfileManager.ts:34:13
     32|         return null
     33|       }
     34|       throw new Error(
       |             ^
     35|         `Failed to read lockfile: ${error instanceof Error ? error.mesâ€¦
     36|       )
 â¯ LockfileManager.validate src/plugins/LockfileManager.ts:139:22
 â¯ src/__tests__/plugins/LockfileManager.test.ts:465:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[75/282]â¯

 FAIL  src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Validate Lockfile > should detect missing integrity in dependency
Error: Failed to read lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
 â¯ LockfileManager.read src/plugins/LockfileManager.ts:34:13
     32|         return null
     33|       }
     34|       throw new Error(
       |             ^
     35|         `Failed to read lockfile: ${error instanceof Error ? error.mesâ€¦
     36|       )
 â¯ LockfileManager.validate src/plugins/LockfileManager.ts:139:22
 â¯ src/__tests__/plugins/LockfileManager.test.ts:487:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[76/282]â¯

 FAIL  src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Compare with Manifest > should return matching for identical dependencies
Error: Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
 â¯ LockfileManager.write src/plugins/LockfileManager.ts:49:13
     47|       await fs.writeFile(this.lockfilePath, content, 'utf-8')
     48|     } catch (error) {
     49|       throw new Error(
       |             ^
     50|         `Failed to write lockfile: ${error instanceof Error ? error.meâ€¦
     51|       )
 â¯ src/__tests__/plugins/LockfileManager.test.ts:506:21

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[77/282]â¯

 FAIL  src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Compare with Manifest > should detect dependency in lockfile but not in manifest
Error: Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
 â¯ LockfileManager.write src/plugins/LockfileManager.ts:49:13
     47|       await fs.writeFile(this.lockfilePath, content, 'utf-8')
     48|     } catch (error) {
     49|       throw new Error(
       |             ^
     50|         `Failed to write lockfile: ${error instanceof Error ? error.meâ€¦
     51|       )
 â¯ src/__tests__/plugins/LockfileManager.test.ts:548:21

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[78/282]â¯

 FAIL  src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Get Flat Dependencies > should flatten lockfile dependencies
Error: Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  },
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-b"
    ],
    "message": "Invalid key in record"
  }
]
 â¯ LockfileManager.write src/plugins/LockfileManager.ts:49:13
     47|       await fs.writeFile(this.lockfilePath, content, 'utf-8')
     48|     } catch (error) {
     49|       throw new Error(
       |             ^
     50|         `Failed to write lockfile: ${error instanceof Error ? error.meâ€¦
     51|       )
 â¯ src/__tests__/plugins/LockfileManager.test.ts:594:21

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[79/282]â¯

 FAIL  src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Get Flat Dependencies > should include all required fields in flat entries
Error: Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "dep-a"
    ],
    "message": "Invalid key in record"
  }
]
 â¯ LockfileManager.write src/plugins/LockfileManager.ts:49:13
     47|       await fs.writeFile(this.lockfilePath, content, 'utf-8')
     48|     } catch (error) {
     49|       throw new Error(
       |             ^
     50|         `Failed to write lockfile: ${error instanceof Error ? error.meâ€¦
     51|       )
 â¯ src/__tests__/plugins/LockfileManager.test.ts:615:21

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[80/282]â¯

 FAIL  src/__tests__/plugins/LockfileManager.test.ts > LockfileManager > Get Flat Dependencies > should mark optional dependencies correctly
Error: Failed to write lockfile: [
  {
    "code": "invalid_key",
    "origin": "record",
    "issues": [
      {
        "expected": "object",
        "code": "invalid_type",
        "path": [],
        "message": "Invalid input: expected object, received string"
      }
    ],
    "path": [
      "dependencies",
      "optional-dep"
    ],
    "message": "Invalid key in record"
  }
]
 â¯ LockfileManager.write src/plugins/LockfileManager.ts:49:13
     47|       await fs.writeFile(this.lockfilePath, content, 'utf-8')
     48|     } catch (error) {
     49|       throw new Error(
       |             ^
     50|         `Failed to write lockfile: ${error instanceof Error ? error.meâ€¦
     51|       )
 â¯ src/__tests__/plugins/LockfileManager.test.ts:639:21

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[81/282]â¯

 FAIL  src/__tests__/plugins/SemverEngine.test.ts > SemverEngine > Parsing and Validation > should invalidate incorrect version
AssertionError: expected true to be false // Object.is equality

- Expected
+ Received

- false
+ true

 â¯ src/__tests__/plugins/SemverEngine.test.ts:41:40
     39|       expect(engine.isValid('1.2')).toBe(false)
     40|       expect(engine.isValid('invalid')).toBe(false)
     41|       expect(engine.isValid('v1.2.3')).toBe(false)
       |                                        ^
     42|     })
     43| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[82/282]â¯

 FAIL  src/__tests__/runtime/guard-isolation.test.ts > Guard Isolation - Context Freezing > creates frozen context that cannot be modified during guard execution
TypeError: isFrozen is not a function
 â¯ src/__tests__/runtime/guard-isolation.test.ts:18:27
     16|     const ctx = createTestContext('Idle', 'DependenciesReady', undefinâ€¦
     17| 
     18|     expect(GuardIsolation.isFrozen(ctx)).toBe(true)
       |                           ^
     19|   })
     20| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[83/282]â¯

 FAIL  src/__tests__/runtime/guard-isolation.test.ts > Isolated Guard Executor > captures guard execution time
AssertionError: expected 0 to be greater than 0
 â¯ src/__tests__/runtime/guard-isolation.test.ts:135:36
    133|     const result = GuardIsolation.executeGuardIsolated(guard, 'test-guâ€¦
    134| 
    135|     expect(result.executionTimeMs).toBeGreaterThan(0)
       |                                    ^
    136|     expect(result.signedVerdict.verdict).toBe('Pass')
    137|   })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[84/282]â¯

 FAIL  src/__tests__/runtime/guard-isolation.test.ts > Threat T2 Mitigation - Integration Tests > enforces context immutability during guard execution
AssertionError: expected 'Executing' to be 'Preparing' // Object.is equality

- Expected
+ Received

- Preparing
+ Executing

 â¯ src/__tests__/runtime/guard-isolation.test.ts:349:30
    347| 
    348|     // Context should remain unchanged
    349|     expect(ctx.currentState).toBe('Preparing')
       |                              ^
    350|     expect(result.isolated).toBe(true)
    351|   })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[85/282]â¯

 FAIL  src/__tests__/telemetry/OpenTelemetryProvider.test.ts > OpenTelemetryProvider > Span Operations > should end a span
AssertionError: expected 1762736606866 to be greater than 1762736606866
 â¯ src/__tests__/telemetry/OpenTelemetryProvider.test.ts:91:28
     89|       provider.endSpan(span)
     90| 
     91|       expect(span.endTime).toBeGreaterThan(span.startTime)
       |                            ^
     92|       expect(span.duration).toBeGreaterThan(0)
     93|     })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[86/282]â¯

 FAIL  src/__tests__/telemetry/OpenTelemetryProvider.test.ts > OpenTelemetryProvider > withSpan Helper > should end span on success
AssertionError: expected 0 to be greater than 0
 â¯ src/__tests__/telemetry/OpenTelemetryProvider.test.ts:547:37
    545|       const completed = provider.getCompletedSpans()
    546|       expect(completed[0].endTime).toBeDefined()
    547|       expect(completed[0].duration).toBeGreaterThan(0)
       |                                     ^
    548|     })
    549| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[87/282]â¯

 FAIL  src/__tests__/telemetry/OpenTelemetryProvider.test.ts > OpenTelemetryProvider > withSpan Helper > should end span on error
AssertionError: expected 0 to be greater than 0
 â¯ src/__tests__/telemetry/OpenTelemetryProvider.test.ts:561:37
    559|       const completed = provider.getCompletedSpans()
    560|       expect(completed[0].endTime).toBeDefined()
    561|       expect(completed[0].duration).toBeGreaterThan(0)
       |                                     ^
    562|     })
    563|   })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[88/282]â¯

 FAIL  src/cli/__tests__/commands.test.ts > RunCommand > should handle streaming output
AssertionError: expected '\u001b[36m[2025-11-10T01:03:29.329Z] â€¦' to match /\[\d+\/\d+\]/\d+\]

- Expected: 
/\[\d+\/\d+\]/

+ Received: 
"[36m[2025-11-10T01:03:29.329Z] INFO    Starting agent execution: backend[0m
[36m[2025-11-10T01:03:29.329Z] INFO    Searching memory for relevant context...[0m
[36m[2025-11-10T01:03:29.329Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-10T01:03:29.329Z] INFO    Executing task...[0m
[32m[2025-11-10T01:03:30.469Z] SUCCESS Task completed successfully![0m"

 â¯ src/cli/__tests__/commands.test.ts:72:20
     70| 
     71|     const output = consoleLogSpy.mock.calls.map((call: any) => call[0]â€¦
     72|     expect(output).toMatch(/\[\d+\/\d+\]/) // Progress indicator
       |                    ^
     73|   })
     74| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[89/282]â¯

 FAIL  src/cli/__tests__/commands.test.ts > ConfigShowCommand > should error on nonexistent key
AssertionError: expected [Function] to throw error including 'not found' but got 'process.exit unexpectedly called withâ€¦'

- Expected
+ Received

- not found
+ process.exit unexpectedly called with "1"

 â¯ src/cli/__tests__/commands.test.ts:581:5
    579|     }
    580| 
    581|     await expect(configShowCommand(args)).rejects.toThrow('not found')
       |     ^
    582|   })
    583| })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[90/282]â¯

 FAIL  src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > Document Manager > should parse document and extract symbols
AssertionError: expected 0 to be greater than 0
 â¯ src/lsp/__tests__/Day74LSPServer.test.ts:318:30
    316| 
    317|       const symbols = documentManager.getDocumentSymbols(TEST_FILE_URIâ€¦
    318|       expect(symbols.length).toBeGreaterThan(0);
       |                              ^
    319|     });
    320| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[91/282]â¯

 FAIL  src/lsp/__tests__/Day74LSPServer.test.ts > Day 74: LSP Server Foundation > References Provider > should return null for unknown symbol
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ src/lsp/__tests__/Day74LSPServer.test.ts:623:63
    621|       });
    622| 
    623|       expect(references === null || references?.length === 0).toBe(truâ€¦
       |                                                               ^
    624|     });
    625| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[92/282]â¯

 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > DocumentSymbolsProvider > should extract function symbols from TypeScript
TypeError: Cannot read properties of null (reading 'length')
 â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts:183:23
    181| 
    182|       expect(symbols).toBeDefined();
    183|       expect(symbols!.length).toBeGreaterThanOrEqual(2);
       |                       ^
    184| 
    185|       const functionSymbols = symbols!.filter((s) => s.name === 'add' â€¦

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[93/282]â¯

 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > DocumentSymbolsProvider > should extract class symbols with methods
TypeError: Cannot read properties of null (reading 'length')
 â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts:208:23
    206| 
    207|       expect(symbols).toBeDefined();
    208|       expect(symbols!.length).toBeGreaterThanOrEqual(1);
       |                       ^
    209| 
    210|       const classSymbol = symbols!.find((s) => s.name === 'Calculator'â€¦

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[94/282]â¯

 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > DocumentSymbolsProvider > should extract interface symbols
TypeError: Cannot read properties of null (reading 'some')
 â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts:230:23
    228| 
    229|       expect(symbols).toBeDefined();
    230|       expect(symbols!.some((s) => s.name === 'User')).toBe(true);
       |                       ^
    231|     });
    232| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[95/282]â¯

 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > DocumentSymbolsProvider > should extract variable symbols
TypeError: Cannot read properties of null (reading 'some')
 â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts:245:23
    243| 
    244|       expect(symbols).toBeDefined();
    245|       expect(symbols!.some((s) => s.name === 'PI')).toBe(true);
       |                       ^
    246|     });
    247| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[96/282]â¯

 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > DocumentSymbolsProvider > should handle nested symbols
TypeError: Cannot read properties of null (reading 'find')
 â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts:266:35
    264| 
    265|       expect(symbols).toBeDefined();
    266|       const outerClass = symbols!.find((s) => s.name === 'Outer');
       |                                   ^
    267|       expect(outerClass).toBeDefined();
    268|       expect(outerClass!.children).toBeDefined();

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[97/282]â¯

 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > DocumentSymbolsProvider > should handle empty documents
TypeError: Cannot read properties of null (reading 'length')
 â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts:288:23
    286| 
    287|       expect(symbols).toBeDefined();
    288|       expect(symbols!.length).toBe(0);
       |                       ^
    289|     });
    290|   });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[98/282]â¯

 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > RenameProvider > should provide rename edits for a symbol
SqliteError: NOT NULL constraint failed: symbols.file_id
 â¯ SymbolDAO.insert src/database/dao/SymbolDAO.ts:61:25
     59|     `);
     60| 
     61|     const result = stmt.run(
       |                         ^
     62|       symbol.file_id,
     63|       symbol.name,
 â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts:316:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'SQLITE_CONSTRAINT_NOTNULL' }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[99/282]â¯

 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > RenameProvider > should prepare rename for valid position
SqliteError: NOT NULL constraint failed: symbols.file_id
 â¯ SymbolDAO.insert src/database/dao/SymbolDAO.ts:61:25
     59|     `);
     60| 
     61|     const result = stmt.run(
       |                         ^
     62|       symbol.file_id,
     63|       symbol.name,
 â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts:384:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'SQLITE_CONSTRAINT_NOTNULL' }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[100/282]â¯

 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > RenameProvider > should handle cross-file renames
SqliteError: NOT NULL constraint failed: symbols.file_id
 â¯ SymbolDAO.insert src/database/dao/SymbolDAO.ts:61:25
     59|     `);
     60| 
     61|     const result = stmt.run(
       |                         ^
     62|       symbol.file_id,
     63|       symbol.name,
 â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts:417:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'SQLITE_CONSTRAINT_NOTNULL' }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[101/282]â¯

 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > WorkspaceSymbolsProvider > should search symbols across workspace
 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > WorkspaceSymbolsProvider > should support fuzzy matching
 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > WorkspaceSymbolsProvider > should rank exact matches higher
 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > WorkspaceSymbolsProvider > should limit results to max count
 FAIL  src/lsp/__tests__/Day75LSPAdvanced.test.ts > Day 75: LSP Advanced Features > WorkspaceSymbolsProvider > should search symbols by kind
SqliteError: NOT NULL constraint failed: symbols.file_id
 â¯ SymbolDAO.insert src/database/dao/SymbolDAO.ts:61:25
     59|     `);
     60| 
     61|     const result = stmt.run(
       |                         ^
     62|       symbol.file_id,
     63|       symbol.name,
 â¯ src/lsp/__tests__/Day75LSPAdvanced.test.ts:782:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'SQLITE_CONSTRAINT_NOTNULL' }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[102/282]â¯

 FAIL  src/parser/__tests__/PhpParserService.test.ts > PhpParserService > parse > should extract constants
AssertionError: expected 0 to be greater than or equal to 1
 â¯ src/parser/__tests__/PhpParserService.test.ts:166:32
    164| 
    165|       const constants = result.symbols.filter(s => s.kind === 'constanâ€¦
    166|       expect(constants.length).toBeGreaterThanOrEqual(1);
       |                                ^
    167| 
    168|       if (constants.length > 0) {

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[103/282]â¯

 FAIL  src/parser/__tests__/SqlParserService.test.ts > SqlParserService > parse > should extract CREATE PROCEDURE statements
AssertionError: expected 0 to be greater than or equal to 2
 â¯ src/parser/__tests__/SqlParserService.test.ts:179:33
    177| 
    178|       const procedures = result.symbols.filter(s => s.kind === 'functiâ€¦
    179|       expect(procedures.length).toBeGreaterThanOrEqual(2);
       |                                 ^
    180| 
    181|       const procedureNames = procedures.map(p => p.name);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[104/282]â¯

 FAIL  src/parser/__tests__/SqlParserService.test.ts > SqlParserService > parse > should handle materialized views
AssertionError: expected 0 to be greater than or equal to 1
 â¯ src/parser/__tests__/SqlParserService.test.ts:334:28
    332|       // Materialized views should be extracted as views
    333|       const views = result.symbols.filter(s => s.kind === 'class');
    334|       expect(views.length).toBeGreaterThanOrEqual(1);
       |                            ^
    335|     });
    336|   });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[105/282]â¯

 FAIL  src/parser/__tests__/SqlParserService.test.ts > SqlParserService > fixtures > should parse sample-sql-basic.sql
AssertionError: expected 3 to be greater than or equal to 5
 â¯ src/parser/__tests__/SqlParserService.test.ts:354:32
    352| 
    353|       expect(tables.length).toBeGreaterThanOrEqual(5);
    354|       expect(functions.length).toBeGreaterThanOrEqual(5);
       |                                ^
    355|       expect(indexes.length).toBeGreaterThanOrEqual(3);
    356|       expect(triggers.length).toBeGreaterThanOrEqual(2);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[106/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > constructor > should fall back to environment variable for API key
AssertionError: expected undefined to be 'env-api-key' // Object.is equality

- Expected: 
"env-api-key"

+ Received: 
undefined

 â¯ src/providers/__tests__/ClaudeProvider.test.ts:80:41
     78|       })
     79| 
     80|       expect(envProvider.config.apiKey).toBe('env-api-key')
       |                                         ^
     81| 
     82|       delete process.env.ANTHROPIC_API_KEY

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[107/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should make successful request
ProviderError: Cannot read properties of undefined (reading 'create')
 â¯ ClaudeProvider.handleError src/providers/ClaudeProvider.ts:287:12
    285| 
    286|     // Unknown errors
    287|     return new ProviderError(
       |            ^
    288|       error instanceof Error ? error.message : 'Unknown error',
    289|       'UNKNOWN_ERROR',
 â¯ src/providers/ClaudeProvider.ts:86:22
 â¯ ClaudeProvider.measureLatency src/providers/ProviderBase.ts:214:26
 â¯ src/providers/ClaudeProvider.ts:71:46
 â¯ ClaudeProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ ClaudeProvider.request src/providers/ClaudeProvider.ts:70:17
 â¯ src/providers/__tests__/ClaudeProvider.test.ts:104:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'claude', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[108/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should handle multiple text blocks in response
ProviderError: Cannot read properties of undefined (reading 'create')
 â¯ ClaudeProvider.handleError src/providers/ClaudeProvider.ts:287:12
    285| 
    286|     // Unknown errors
    287|     return new ProviderError(
       |            ^
    288|       error instanceof Error ? error.message : 'Unknown error',
    289|       'UNKNOWN_ERROR',
 â¯ src/providers/ClaudeProvider.ts:86:22
 â¯ ClaudeProvider.measureLatency src/providers/ProviderBase.ts:214:26
 â¯ src/providers/ClaudeProvider.ts:71:46
 â¯ ClaudeProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ ClaudeProvider.request src/providers/ClaudeProvider.ts:70:17
 â¯ src/providers/__tests__/ClaudeProvider.test.ts:130:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'claude', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[109/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should use custom model from request
ProviderError: Cannot read properties of undefined (reading 'create')
 â¯ ClaudeProvider.handleError src/providers/ClaudeProvider.ts:287:12
    285| 
    286|     // Unknown errors
    287|     return new ProviderError(
       |            ^
    288|       error instanceof Error ? error.message : 'Unknown error',
    289|       'UNKNOWN_ERROR',
 â¯ src/providers/ClaudeProvider.ts:86:22
 â¯ ClaudeProvider.measureLatency src/providers/ProviderBase.ts:214:26
 â¯ src/providers/ClaudeProvider.ts:71:46
 â¯ ClaudeProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ ClaudeProvider.request src/providers/ClaudeProvider.ts:70:17
 â¯ src/providers/__tests__/ClaudeProvider.test.ts:148:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'claude', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[110/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should map max_tokens stop reason to length
ProviderError: Cannot read properties of undefined (reading 'create')
 â¯ ClaudeProvider.handleError src/providers/ClaudeProvider.ts:287:12
    285| 
    286|     // Unknown errors
    287|     return new ProviderError(
       |            ^
    288|       error instanceof Error ? error.message : 'Unknown error',
    289|       'UNKNOWN_ERROR',
 â¯ src/providers/ClaudeProvider.ts:86:22
 â¯ ClaudeProvider.measureLatency src/providers/ProviderBase.ts:214:26
 â¯ src/providers/ClaudeProvider.ts:71:46
 â¯ ClaudeProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ ClaudeProvider.request src/providers/ClaudeProvider.ts:70:17
 â¯ src/providers/__tests__/ClaudeProvider.test.ts:171:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'claude', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[111/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should throw ProviderAuthError on 401
AssertionError: expected error to be instance of ProviderAuthError

- Expected: 
[Function ProviderAuthError]

+ Received: 
[ProviderError: Cannot read properties of undefined (reading 'create')]

 â¯ src/providers/__tests__/ClaudeProvider.test.ts:182:7
    180|       mockCreate.mockRejectedValueOnce(apiError)
    181| 
    182|       await expect(
       |       ^
    183|         provider.request({
    184|           messages: [{ role: 'user' as const, content: 'Test' }],

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[112/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should throw ProviderRateLimitError on 429
AssertionError: expected error to be instance of ProviderRateLimitError

- Expected: 
[Function ProviderRateLimitError]

+ Received: 
[ProviderError: Cannot read properties of undefined (reading 'create')]

 â¯ src/providers/__tests__/ClaudeProvider.test.ts:195:7
    193|       mockCreate.mockRejectedValueOnce(apiError)
    194| 
    195|       await expect(
       |       ^
    196|         provider.request({
    197|           messages: [{ role: 'user' as const, content: 'Test' }],

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[113/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should throw ProviderTimeoutError on 408
AssertionError: expected error to be instance of ProviderTimeoutError

- Expected: 
[Function ProviderTimeoutError]

+ Received: 
[ProviderError: Cannot read properties of undefined (reading 'create')]

 â¯ src/providers/__tests__/ClaudeProvider.test.ts:206:7
    204|       mockCreate.mockRejectedValueOnce(apiError)
    205| 
    206|       await expect(
       |       ^
    207|         provider.request({
    208|           messages: [{ role: 'user' as const, content: 'Test' }],

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[114/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should throw ProviderNetworkError on 500
AssertionError: expected error to be instance of ProviderNetworkError

- Expected: 
[Function ProviderNetworkError]

+ Received: 
[ProviderError: Cannot read properties of undefined (reading 'create')]

 â¯ src/providers/__tests__/ClaudeProvider.test.ts:217:7
    215|       mockCreate.mockRejectedValueOnce(apiError)
    216| 
    217|       await expect(
       |       ^
    218|         provider.request({
    219|           messages: [{ role: 'user' as const, content: 'Test' }],

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[115/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should retry on retryable errors
ProviderError: Cannot read properties of undefined (reading 'create')
 â¯ ClaudeProvider.handleError src/providers/ClaudeProvider.ts:287:12
    285| 
    286|     // Unknown errors
    287|     return new ProviderError(
       |            ^
    288|       error instanceof Error ? error.message : 'Unknown error',
    289|       'UNKNOWN_ERROR',
 â¯ src/providers/ClaudeProvider.ts:86:22
 â¯ ClaudeProvider.measureLatency src/providers/ProviderBase.ts:214:26
 â¯ src/providers/ClaudeProvider.ts:71:46
 â¯ ClaudeProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ ClaudeProvider.request src/providers/ClaudeProvider.ts:70:17
 â¯ src/providers/__tests__/ClaudeProvider.test.ts:239:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'claude', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[116/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > request > should not retry on non-retryable errors
AssertionError: expected error to be instance of ProviderAuthError

- Expected: 
[Function ProviderAuthError]

+ Received: 
[ProviderError: Cannot read properties of undefined (reading 'create')]

 â¯ src/providers/__tests__/ClaudeProvider.test.ts:251:7
    249|       mockCreate.mockRejectedValueOnce(apiError)
    250| 
    251|       await expect(
       |       ^
    252|         provider.request({
    253|           messages: [{ role: 'user' as const, content: 'Test' }],

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[117/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > streamRequest > should handle streaming response
ProviderError: Cannot read properties of undefined (reading 'create')
 â¯ ClaudeProvider.handleError src/providers/ClaudeProvider.ts:287:12
    285| 
    286|     // Unknown errors
    287|     return new ProviderError(
       |            ^
    288|       error instanceof Error ? error.message : 'Unknown error',
    289|       'UNKNOWN_ERROR',
 â¯ src/providers/ClaudeProvider.ts:178:20
 â¯ ClaudeProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ ClaudeProvider.streamRequest src/providers/ClaudeProvider.ts:120:17
 â¯ src/providers/__tests__/ClaudeProvider.test.ts:298:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'claude', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[118/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > streamRequest > should handle streaming errors
AssertionError: expected error to be instance of ProviderNetworkError

- Expected: 
[Function ProviderNetworkError]

+ Received: 
[ProviderError: Cannot read properties of undefined (reading 'create')]

 â¯ src/providers/__tests__/ClaudeProvider.test.ts:317:7
    315|       mockCreate.mockRejectedValueOnce(apiError)
    316| 
    317|       await expect(
       |       ^
    318|         provider.streamRequest(
    319|           {

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[119/282]â¯

 FAIL  src/providers/__tests__/ClaudeProvider.test.ts > ClaudeProvider > healthCheck > should return healthy status on success
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ src/providers/__tests__/ClaudeProvider.test.ts:342:32
    340|       const health = await provider.healthCheck()
    341| 
    342|       expect(health.available).toBe(true)
       |                                ^
    343|       expect(health.latency).toBeGreaterThanOrEqual(0)
    344|       expect(health.errorRate).toBe(0)

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[120/282]â¯

 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > constructor > should use custom model from config
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > constructor > should fall back to environment variable for API key
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should make successful request
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should convert system messages to user messages
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should use custom model from request
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should map MAX_TOKENS finish reason to length
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should throw ProviderAuthError on auth failure
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should throw ProviderRateLimitError on quota exceeded
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should throw ProviderTimeoutError on timeout
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should throw ProviderNetworkError on network error
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > request > should retry on retryable errors
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > streamRequest > should handle streaming response
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > streamRequest > should handle streaming errors
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > healthCheck > should return healthy status on success
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > healthCheck > should return unhealthy status on error
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > getAvailableModels > should return list of Gemini models
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > validateConfig > should validate enabled provider with API key
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > validateConfig > should return false for disabled provider
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > validateConfig > should throw error if no API key
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > createGeminiProvider > should create provider with factory function
 FAIL  src/providers/__tests__/GeminiProvider.test.ts > GeminiProvider > createGeminiProvider > should merge custom config
TypeError: this.client.getGenerativeModel is not a function
 â¯ new GeminiProvider src/providers/GeminiProvider.ts:59:30
     57|     )
     58| 
     59|     this.model = this.client.getGenerativeModel({
       |                              ^
     60|       model: this.config.defaultModel!,
     61|     })
 â¯ src/providers/__tests__/GeminiProvider.test.ts:44:16

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[121/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > constructor > should fall back to environment variable for API key
AssertionError: expected undefined to be 'env-api-key' // Object.is equality

- Expected: 
"env-api-key"

+ Received: 
undefined

 â¯ src/providers/__tests__/OpenAIProvider.test.ts:88:41
     86|       })
     87| 
     88|       expect(envProvider.config.apiKey).toBe('env-api-key')
       |                                         ^
     89| 
     90|       delete process.env.OPENAI_API_KEY

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[122/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should make successful request
ProviderError: Cannot read properties of undefined (reading 'completions')
 â¯ OpenAIProvider.handleError src/providers/OpenAIProvider.ts:297:12
    295| 
    296|     // Unknown errors
    297|     return new ProviderError(
       |            ^
    298|       error instanceof Error ? error.message : 'Unknown error',
    299|       'UNKNOWN_ERROR',
 â¯ src/providers/OpenAIProvider.ts:88:22
 â¯ OpenAIProvider.measureLatency src/providers/ProviderBase.ts:214:26
 â¯ src/providers/OpenAIProvider.ts:72:46
 â¯ OpenAIProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ OpenAIProvider.request src/providers/OpenAIProvider.ts:71:17
 â¯ src/providers/__tests__/OpenAIProvider.test.ts:130:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'openai', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[123/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should handle null content in response
ProviderError: Cannot read properties of undefined (reading 'completions')
 â¯ OpenAIProvider.handleError src/providers/OpenAIProvider.ts:297:12
    295| 
    296|     // Unknown errors
    297|     return new ProviderError(
       |            ^
    298|       error instanceof Error ? error.message : 'Unknown error',
    299|       'UNKNOWN_ERROR',
 â¯ src/providers/OpenAIProvider.ts:88:22
 â¯ OpenAIProvider.measureLatency src/providers/ProviderBase.ts:214:26
 â¯ src/providers/OpenAIProvider.ts:72:46
 â¯ OpenAIProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ OpenAIProvider.request src/providers/OpenAIProvider.ts:71:17
 â¯ src/providers/__tests__/OpenAIProvider.test.ts:161:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'openai', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[124/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should use custom model from request
ProviderError: Cannot read properties of undefined (reading 'completions')
 â¯ OpenAIProvider.handleError src/providers/OpenAIProvider.ts:297:12
    295| 
    296|     // Unknown errors
    297|     return new ProviderError(
       |            ^
    298|       error instanceof Error ? error.message : 'Unknown error',
    299|       'UNKNOWN_ERROR',
 â¯ src/providers/OpenAIProvider.ts:88:22
 â¯ OpenAIProvider.measureLatency src/providers/ProviderBase.ts:214:26
 â¯ src/providers/OpenAIProvider.ts:72:46
 â¯ OpenAIProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ OpenAIProvider.request src/providers/OpenAIProvider.ts:71:17
 â¯ src/providers/__tests__/OpenAIProvider.test.ts:187:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'openai', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[125/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should map length finish reason
ProviderError: Cannot read properties of undefined (reading 'completions')
 â¯ OpenAIProvider.handleError src/providers/OpenAIProvider.ts:297:12
    295| 
    296|     // Unknown errors
    297|     return new ProviderError(
       |            ^
    298|       error instanceof Error ? error.message : 'Unknown error',
    299|       'UNKNOWN_ERROR',
 â¯ src/providers/OpenAIProvider.ts:88:22
 â¯ OpenAIProvider.measureLatency src/providers/ProviderBase.ts:214:26
 â¯ src/providers/OpenAIProvider.ts:72:46
 â¯ OpenAIProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ OpenAIProvider.request src/providers/OpenAIProvider.ts:71:17
 â¯ src/providers/__tests__/OpenAIProvider.test.ts:218:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'openai', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[126/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should map tool_calls finish reason
ProviderError: Cannot read properties of undefined (reading 'completions')
 â¯ OpenAIProvider.handleError src/providers/OpenAIProvider.ts:297:12
    295| 
    296|     // Unknown errors
    297|     return new ProviderError(
       |            ^
    298|       error instanceof Error ? error.message : 'Unknown error',
    299|       'UNKNOWN_ERROR',
 â¯ src/providers/OpenAIProvider.ts:88:22
 â¯ OpenAIProvider.measureLatency src/providers/ProviderBase.ts:214:26
 â¯ src/providers/OpenAIProvider.ts:72:46
 â¯ OpenAIProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ OpenAIProvider.request src/providers/OpenAIProvider.ts:71:17
 â¯ src/providers/__tests__/OpenAIProvider.test.ts:244:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'openai', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[127/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should throw ProviderAuthError on 401
AssertionError: expected error to be instance of ProviderAuthError

- Expected: 
[Function ProviderAuthError]

+ Received: 
[ProviderError: Cannot read properties of undefined (reading 'completions')]

 â¯ src/providers/__tests__/OpenAIProvider.test.ts:255:7
    253|       mockCreate.mockRejectedValueOnce(apiError)
    254| 
    255|       await expect(
       |       ^
    256|         provider.request({
    257|           messages: [{ role: 'user' as const, content: 'Test' }],

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[128/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should throw ProviderRateLimitError on 429
AssertionError: expected error to be instance of ProviderRateLimitError

- Expected: 
[Function ProviderRateLimitError]

+ Received: 
[ProviderError: Cannot read properties of undefined (reading 'completions')]

 â¯ src/providers/__tests__/OpenAIProvider.test.ts:268:7
    266|       mockCreate.mockRejectedValueOnce(apiError)
    267| 
    268|       await expect(
       |       ^
    269|         provider.request({
    270|           messages: [{ role: 'user' as const, content: 'Test' }],

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[129/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should throw ProviderTimeoutError on 408
AssertionError: expected error to be instance of ProviderTimeoutError

- Expected: 
[Function ProviderTimeoutError]

+ Received: 
[ProviderError: Cannot read properties of undefined (reading 'completions')]

 â¯ src/providers/__tests__/OpenAIProvider.test.ts:279:7
    277|       mockCreate.mockRejectedValueOnce(apiError)
    278| 
    279|       await expect(
       |       ^
    280|         provider.request({
    281|           messages: [{ role: 'user' as const, content: 'Test' }],

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[130/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should throw ProviderNetworkError on 500
AssertionError: expected error to be instance of ProviderNetworkError

- Expected: 
[Function ProviderNetworkError]

+ Received: 
[ProviderError: Cannot read properties of undefined (reading 'completions')]

 â¯ src/providers/__tests__/OpenAIProvider.test.ts:290:7
    288|       mockCreate.mockRejectedValueOnce(apiError)
    289| 
    290|       await expect(
       |       ^
    291|         provider.request({
    292|           messages: [{ role: 'user' as const, content: 'Test' }],

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[131/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should retry on retryable errors
ProviderError: Cannot read properties of undefined (reading 'completions')
 â¯ OpenAIProvider.handleError src/providers/OpenAIProvider.ts:297:12
    295| 
    296|     // Unknown errors
    297|     return new ProviderError(
       |            ^
    298|       error instanceof Error ? error.message : 'Unknown error',
    299|       'UNKNOWN_ERROR',
 â¯ src/providers/OpenAIProvider.ts:88:22
 â¯ OpenAIProvider.measureLatency src/providers/ProviderBase.ts:214:26
 â¯ src/providers/OpenAIProvider.ts:72:46
 â¯ OpenAIProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ OpenAIProvider.request src/providers/OpenAIProvider.ts:71:17
 â¯ src/providers/__tests__/OpenAIProvider.test.ts:320:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'openai', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[132/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > request > should not retry on non-retryable errors
AssertionError: expected error to be instance of ProviderAuthError

- Expected: 
[Function ProviderAuthError]

+ Received: 
[ProviderError: Cannot read properties of undefined (reading 'completions')]

 â¯ src/providers/__tests__/OpenAIProvider.test.ts:332:7
    330|       mockCreate.mockRejectedValueOnce(apiError)
    331| 
    332|       await expect(
       |       ^
    333|         provider.request({
    334|           messages: [{ role: 'user' as const, content: 'Test' }],

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[133/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > streamRequest > should handle streaming response
ProviderError: Cannot read properties of undefined (reading 'completions')
 â¯ OpenAIProvider.handleError src/providers/OpenAIProvider.ts:297:12
    295| 
    296|     // Unknown errors
    297|     return new ProviderError(
       |            ^
    298|       error instanceof Error ? error.message : 'Unknown error',
    299|       'UNKNOWN_ERROR',
 â¯ src/providers/OpenAIProvider.ts:182:20
 â¯ OpenAIProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ OpenAIProvider.streamRequest src/providers/OpenAIProvider.ts:119:17
 â¯ src/providers/__tests__/OpenAIProvider.test.ts:383:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'openai', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[134/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > streamRequest > should handle empty deltas in stream
ProviderError: Cannot read properties of undefined (reading 'completions')
 â¯ OpenAIProvider.handleError src/providers/OpenAIProvider.ts:297:12
    295| 
    296|     // Unknown errors
    297|     return new ProviderError(
       |            ^
    298|       error instanceof Error ? error.message : 'Unknown error',
    299|       'UNKNOWN_ERROR',
 â¯ src/providers/OpenAIProvider.ts:182:20
 â¯ OpenAIProvider.retryWithBackoff src/providers/ProviderBase.ts:230:22
 â¯ OpenAIProvider.streamRequest src/providers/OpenAIProvider.ts:119:17
 â¯ src/providers/__tests__/OpenAIProvider.test.ts:436:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'UNKNOWN_ERROR', provider: 'openai', retryable: false, statusCode: undefined }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[135/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > streamRequest > should handle streaming errors
AssertionError: expected error to be instance of ProviderNetworkError

- Expected: 
[Function ProviderNetworkError]

+ Received: 
[ProviderError: Cannot read properties of undefined (reading 'completions')]

 â¯ src/providers/__tests__/OpenAIProvider.test.ts:451:7
    449|       mockCreate.mockRejectedValueOnce(apiError)
    450| 
    451|       await expect(
       |       ^
    452|         provider.streamRequest(
    453|           {

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[136/282]â¯

 FAIL  src/providers/__tests__/OpenAIProvider.test.ts > OpenAIProvider > healthCheck > should return healthy status on success
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ src/providers/__tests__/OpenAIProvider.test.ts:484:32
    482|       const health = await provider.healthCheck()
    483| 
    484|       expect(health.available).toBe(true)
       |                                ^
    485|       expect(health.latency).toBeGreaterThanOrEqual(0)
    486|       expect(health.errorRate).toBe(0)

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[137/282]â¯

 FAIL  src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > basic integration > should execute task with Claude provider
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts:154:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[138/282]â¯

 FAIL  src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > basic integration > should execute task with router fallback
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts:174:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[139/282]â¯

 FAIL  src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > basic integration > should track state transitions with provider calls
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts:192:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[140/282]â¯

 FAIL  src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > checkpoint and resume > should save checkpoint with provider response data
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts:209:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[141/282]â¯

 FAIL  src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > checkpoint and resume > should resume task with router
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts:226:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[142/282]â¯

 FAIL  src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > retry with provider fallback > should retry with same provider on transient errors
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts:253:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[143/282]â¯

 FAIL  src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > concurrent task execution > should handle multiple concurrent tasks
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts:289:23

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[144/282]â¯

 FAIL  src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > concurrent task execution > should list all active executions
AssertionError: expected 0 to be greater than 0
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts:313:29
    311|       // Should show active executions
    312|       const active = runtime.getActiveExecutions()
    313|       expect(active.length).toBeGreaterThan(0)
       |                             ^
    314| 
    315|       // Wait for completion

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[145/282]â¯

 FAIL  src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > event emission > should emit routing events from provider
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts:331:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[146/282]â¯

 FAIL  src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > event emission > should emit both runtime and provider events
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts:350:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[147/282]â¯

 FAIL  src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > task metadata and statistics > should track execution duration
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts:366:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[148/282]â¯

 FAIL  src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > task metadata and statistics > should store provider response metadata
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts:377:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[149/282]â¯

 FAIL  src/runtime/__tests__/StateMachineProviderIntegration.test.ts > StateMachineRuntime + ProviderRouterV2 Integration > task metadata and statistics > should track checkpoint history
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ src/runtime/__tests__/StateMachineProviderIntegration.test.ts:392:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[150/282]â¯

 FAIL  src/runtime/__tests__/StateMachineRuntime.test.ts > StateMachineRuntime > task execution > should execute task successfully
AssertionError: expected 0 to be greater than 0
 â¯ src/runtime/__tests__/StateMachineRuntime.test.ts:154:31
    152|       expect(result.response).toBeDefined()
    153|       expect(result.response?.content).toBe('Mock response')
    154|       expect(result.duration).toBeGreaterThan(0)
       |                               ^
    155|     })
    156| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[151/282]â¯

 FAIL  src/runtime/__tests__/StateMachineRuntime.test.ts > StateMachineRuntime > checkpoint management > should create periodic checkpoints
AssertionError: expected 0 to be greater than 0
 â¯ src/runtime/__tests__/StateMachineRuntime.test.ts:346:39
    344| 
    345|       // Should have periodic checkpoints
    346|       expect(checkpointEvents.length).toBeGreaterThan(0)
       |                                       ^
    347|     }, 10000)
    348| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[152/282]â¯

 FAIL  src/runtime/__tests__/StateMachineRuntime.test.ts > StateMachineRuntime > task control > should get task status for active execution
AssertionError: expected undefined to be true // Object.is equality

- Expected: 
true

+ Received: 
undefined

 â¯ src/runtime/__tests__/StateMachineRuntime.test.ts:433:32
    431| 
    432|       expect(status).toBeDefined()
    433|       expect(status?.isActive).toBe(true)
       |                                ^
    434|       expect(status?.state).toBeDefined()
    435|       expect(status?.duration).toBeGreaterThanOrEqual(0)

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[153/282]â¯

 FAIL  src/runtime/__tests__/StateMachineRuntime.test.ts > StateMachineRuntime > task control > should list active executions
AssertionError: expected 0 to be greater than 0
 â¯ src/runtime/__tests__/StateMachineRuntime.test.ts:474:29
    472|       // Should show in active executions
    473|       const active = runtime.getActiveExecutions()
    474|       expect(active.length).toBeGreaterThan(0)
       |                             ^
    475| 
    476|       await executionPromise

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[154/282]â¯

 FAIL  src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should cache search results
 FAIL  src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should provide significant speedup for cached queries
 FAIL  src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should cache different queries separately
 FAIL  src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should invalidate cache after indexing new file
 FAIL  src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should clear cache manually
 FAIL  src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should respect different query parameters
TypeError: Invalid language object
 â¯ Parser.setLanguage node_modules/tree-sitter/index.js:351:17
    349| Parser.prototype.setLanguage = function(language) {
    350|   if (this instanceof Parser && setLanguage) {
    351|     setLanguage.call(this, language);
       |                 ^
    352|   }
    353|   this[languageSymbol] = language;
 â¯ new BaseLanguageParser src/parser/LanguageParser.ts:100:17
 â¯ new LuaParserService src/parser/LuaParserService.ts:20:5
 â¯ ParserRegistry.registerDefaultParsers src/parser/ParserRegistry.ts:129:25
 â¯ new ParserRegistry src/parser/ParserRegistry.ts:71:10
 â¯ Module.getParserRegistry src/parser/ParserRegistry.ts:296:24
 â¯ new FileService src/services/FileService.ts:111:27
 â¯ src/services/__tests__/FileService-Cache.test.ts:18:19

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[155/282]â¯

 FAIL  src/services/__tests__/ProviderRouterV2.test.ts > ProviderRouterV2 > fallback mechanism > should fallback to next provider on failure
Error: Unhandled error. ({
  provider: 'claude',
  attempt: 1,
  error: Error: Provider 1 failed
      at /Users/akiralam/code/automatosx2/src/services/__tests__/ProviderRouterV2.test.ts:174:32
      at file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:135:14
      at file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:60:26
      at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:17)
      at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
      at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
      at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
      at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
      at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)
      at file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
})
 â¯ src/services/__tests__/ProviderRouterV2.test.ts:174:32
    172|       // First provider fails, second succeeds
    173|       executeRequestSpy
    174|         .mockRejectedValueOnce(new Error('Provider 1 failed'))
       |                                ^
    175|         .mockResolvedValueOnce({
    176|           provider: 'gemini',
 â¯ ProviderRouterV2.emit node:events:497:17
 â¯ ProviderRouterV2.request src/services/ProviderRouterV2.ts:269:16
 â¯ src/services/__tests__/ProviderRouterV2.test.ts:184:24

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'ERR_UNHANDLED_ERROR', context: { provider: 'claude', attempt: 1, error: { stack: 'Error: Provider 1 failed\n    at /Users/akiralam/code/automatosx2/src/services/__tests__/ProviderRouterV2.test.ts:174:32\n    at file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:60:26\n    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:17)\n    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)\n    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)\n    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)\n    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)\n    at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)\n    at file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7', message: 'Provider 1 failed', constructor: 'Function<Error>', name: 'Error', toString: 'Function<toString>' } } }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[156/282]â¯

 FAIL  src/services/__tests__/ProviderRouterV2.test.ts > ProviderRouterV2 > fallback mechanism > should try all providers before failing
AssertionError: expected [Function] to throw error including 'All providers failed' but got 'Unhandled error. ({\n  provider: \'clâ€¦'

- Expected
+ Received

- All providers failed
+ Unhandled error. ({
+   provider: 'claude',
+   attempt: 1,
+   error: Error: All providers down
+       at /Users/akiralam/code/automatosx2/src/services/__tests__/ProviderRouterV2.test.ts:195:43
+       at file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:135:14
+       at file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:60:26
+       at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:17)
+       at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
+       at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
+       at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
+       at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
+       at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)
+       at file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
+ })

 â¯ src/services/__tests__/ProviderRouterV2.test.ts:197:7
    195|       executeRequestSpy.mockRejectedValue(new Error('All providers dowâ€¦
    196| 
    197|       await expect(
       |       ^
    198|         router.request({
    199|           prompt: 'Test',

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[157/282]â¯

 FAIL  src/services/__tests__/ProviderRouterV2.test.ts > ProviderRouterV2 > fallback mechanism > should not retry on auth errors
AssertionError: expected [Function] to throw error including 'All providers failed' but got 'Unhandled error. ({\n  provider: \'clâ€¦'

- Expected
+ Received

- All providers failed
+ Unhandled error. ({
+   provider: 'claude',
+   attempt: 1,
+   error: ProviderAuthError: Invalid API key
+       at /Users/akiralam/code/automatosx2/src/services/__tests__/ProviderRouterV2.test.ts:209:43
+       at file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:135:14
+       at file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:60:26
+       at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:17)
+       at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
+       at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
+       at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
+       at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
+       at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)
+       at file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7 {
+     code: 'AUTH_ERROR',
+     provider: 'claude',
+     retryable: false,
+     statusCode: 401
+   }
+ })

 â¯ src/services/__tests__/ProviderRouterV2.test.ts:211:7
    209|       executeRequestSpy.mockRejectedValue(new ProviderAuthError('claudâ€¦
    210| 
    211|       await expect(
       |       ^
    212|         router.request({
    213|           prompt: 'Test',

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[158/282]â¯

 FAIL  src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > HomePage Component > should render quality metrics card
TestingLibraryElementError: Found multiple elements with the text: /Quality Metrics/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-596tzq-MuiTypography-root"[39m
[36m>[39m
  [0mQuality Metrics[0m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 css-t1blku-MuiTypography-root"[39m
[36m>[39m
  [0mView code quality metrics, complexity analysis, and technical debt for your project.[0m
[36m</p>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiContainer-root MuiContainer-maxWidthLg css-1oqqzyl-MuiContainer-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-zitybv"[39m
      [36m>[39m
        [36m<h1[39m
          [33mclass[39m=[32m"MuiTypography-root MuiTypography-h3 MuiTypography-gutterBottom css-18qjpnm-MuiTypography-root"[39m
        [36m>[39m
          [0mWelcome to AutomatosX v2[0m
        [36m</h1>[39m
        [36m<p[39m
          [33mclass[39m=[32m"MuiTypography-root MuiTypography-h6 MuiTypography-paragraph css-34h6ag-MuiTypography-root"[39m
        [36m>[39m
          [0mCode Intelligence Dashboard - Analyze your codebase quality, dependencies, and more[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-3 css-v4wli0-MuiGrid-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-4 css-1lj5egr-MuiGrid-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-joumwr-MuiPaper-root-MuiCard-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1vlij3n-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"AssessmentIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-596tzq-MuiTypography-root"[39m
                [36m>[39m
                  [0mQuality Metrics[0m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 css-t1blku-MuiTypography-root"[39m
                [36m>[39m
                  [0mView code quality metrics, complexity analysis, and technical debt for your project.[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiCardActions-root MuiCardActions-spacing css-dnrpxu-MuiCardActions-root"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary css-1llqo1v-MuiButtonBase-root-MuiButton-root"[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mView Dashboard[0m
                  [36m<span[39m
                    [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
                  [36m/>[39m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-4 css-1lj5egr-MuiGrid-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-joumwr-MuiPaper-root-MuiCard-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-r3g7ls-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"AccountTreeIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-596tzq-MuiTypography-root"[39m
                [36m>[39m
                  [0mDependency Graph[0m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 css-t1blku-MuiTypography-root"[39m
                [36m>[39m
                  [0mExplore your codebase dependencies, find circular dependencies, and understand module relationships.[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiCardActions-root MuiCardActions-spacing css-dnrpxu-MuiCardActions-root"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary css-1llqo1v-MuiButtonBase-root-MuiButton-root"[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mView Graph[0m
                  [36m<span[39m
                    [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
                  [36m/>[39m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-4 css-1lj5egr-MuiGrid-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-joumwr-MuiPaper-root-MuiCard-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1d9c6c8-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"CodeIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-596tzq-MuiTypography-root"[39m
                [36m>[39m
                  [0mCode Search[0m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 css-t1blku-MuiTypography-root"[39m
                [36m>[39m
                  [0mSearch your codebase with full-text search, symbol lookup, and advanced filtering.[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiCardActions-root MuiCardActions-spacing css-dnrpxu-MuiCardActions-root"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary css-1llqo1v-MuiButtonBase-root-MuiButton-root"[39m
                  [33mtabindex[39m=[32m"0"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mSearch Code[0m
                  [36m<span[39m
                    [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
                  [36m/>[39m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 â¯ getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ src/web/__tests__/Day71DashboardFramework.test.tsx:224:21
    222|     it('should render quality metrics card', () => {
    223|       renderWithProviders(<HomePage />);
    224|       expect(screen.getByText(/Quality Metrics/i)).toBeInTheDocument();
       |                     ^
    225|     });
    226| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[159/282]â¯

 FAIL  src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > QualityDashboard Component > should render title
TestingLibraryElementError: Unable to find an element with the text: /Quality Dashboard/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiContainer-root MuiContainer-maxWidthLg css-1oqqzyl-MuiContainer-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-9qmfah"[39m
      [36m>[39m
        [36m<span[39m
          [33mclass[39m=[32m"MuiCircularProgress-root MuiCircularProgress-indeterminate MuiCircularProgress-colorPrimary css-18lrjg1-MuiCircularProgress-root"[39m
          [33mrole[39m=[32m"progressbar"[39m
          [33mstyle[39m=[32m"width: 40px; height: 40px;"[39m
        [36m>[39m
          [36m<svg[39m
            [33mclass[39m=[32m"MuiCircularProgress-svg css-1idz92c-MuiCircularProgress-svg"[39m
            [33mviewBox[39m=[32m"22 22 44 44"[39m
          [36m>[39m
            [36m<circle[39m
              [33mclass[39m=[32m"MuiCircularProgress-circle MuiCircularProgress-circleIndeterminate css-176wh8e-MuiCircularProgress-circle"[39m
              [33mcx[39m=[32m"44"[39m
              [33mcy[39m=[32m"44"[39m
              [33mfill[39m=[32m"none"[39m
              [33mr[39m=[32m"20.2"[39m
              [33mstroke-width[39m=[32m"3.6"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</span>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ src/web/__tests__/Day71DashboardFramework.test.tsx:256:21
    254|     it('should render title', () => {
    255|       renderWithProviders(<QualityDashboard />);
    256|       expect(screen.getByText(/Quality Dashboard/i)).toBeInTheDocumentâ€¦
       |                     ^
    257|     });
    258| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[160/282]â¯

 FAIL  src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > QualityDashboard Component > should render description
TestingLibraryElementError: Unable to find an element with the text: /View code quality metrics/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiContainer-root MuiContainer-maxWidthLg css-1oqqzyl-MuiContainer-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-9qmfah"[39m
      [36m>[39m
        [36m<span[39m
          [33mclass[39m=[32m"MuiCircularProgress-root MuiCircularProgress-indeterminate MuiCircularProgress-colorPrimary css-18lrjg1-MuiCircularProgress-root"[39m
          [33mrole[39m=[32m"progressbar"[39m
          [33mstyle[39m=[32m"width: 40px; height: 40px;"[39m
        [36m>[39m
          [36m<svg[39m
            [33mclass[39m=[32m"MuiCircularProgress-svg css-1idz92c-MuiCircularProgress-svg"[39m
            [33mviewBox[39m=[32m"22 22 44 44"[39m
          [36m>[39m
            [36m<circle[39m
              [33mclass[39m=[32m"MuiCircularProgress-circle MuiCircularProgress-circleIndeterminate css-176wh8e-MuiCircularProgress-circle"[39m
              [33mcx[39m=[32m"44"[39m
              [33mcy[39m=[32m"44"[39m
              [33mfill[39m=[32m"none"[39m
              [33mr[39m=[32m"20.2"[39m
              [33mstroke-width[39m=[32m"3.6"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</span>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ src/web/__tests__/Day71DashboardFramework.test.tsx:261:21
    259|     it('should render description', () => {
    260|       renderWithProviders(<QualityDashboard />);
    261|       expect(screen.getByText(/View code quality metrics/i)).toBeInTheâ€¦
       |                     ^
    262|     });
    263| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[161/282]â¯

 FAIL  src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > QualityDashboard Component > should show placeholder message
TestingLibraryElementError: Unable to find an element with the text: /Quality metrics visualization will be implemented/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiContainer-root MuiContainer-maxWidthLg css-1oqqzyl-MuiContainer-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-9qmfah"[39m
      [36m>[39m
        [36m<span[39m
          [33mclass[39m=[32m"MuiCircularProgress-root MuiCircularProgress-indeterminate MuiCircularProgress-colorPrimary css-18lrjg1-MuiCircularProgress-root"[39m
          [33mrole[39m=[32m"progressbar"[39m
          [33mstyle[39m=[32m"width: 40px; height: 40px;"[39m
        [36m>[39m
          [36m<svg[39m
            [33mclass[39m=[32m"MuiCircularProgress-svg css-1idz92c-MuiCircularProgress-svg"[39m
            [33mviewBox[39m=[32m"22 22 44 44"[39m
          [36m>[39m
            [36m<circle[39m
              [33mclass[39m=[32m"MuiCircularProgress-circle MuiCircularProgress-circleIndeterminate css-176wh8e-MuiCircularProgress-circle"[39m
              [33mcx[39m=[32m"44"[39m
              [33mcy[39m=[32m"44"[39m
              [33mfill[39m=[32m"none"[39m
              [33mr[39m=[32m"20.2"[39m
              [33mstroke-width[39m=[32m"3.6"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</span>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ src/web/__tests__/Day71DashboardFramework.test.tsx:266:21
    264|     it('should show placeholder message', () => {
    265|       renderWithProviders(<QualityDashboard />);
    266|       expect(screen.getByText(/Quality metrics visualization will be iâ€¦
       |                     ^
    267|     });
    268|   });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[162/282]â¯

 FAIL  src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > DependenciesPage Component > should render title
 FAIL  src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > DependenciesPage Component > should render description
 FAIL  src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > DependenciesPage Component > should show placeholder message
TypeError: Cannot read properties of undefined (reading 'graph')
 â¯ selectDependencyGraph src/web/redux/slices/dependencySlice.ts:146:77
    144| 
    145| // Basic selectors
    146| export const selectDependencyGraph = (state: RootState) => state.depenâ€¦
       |                                                                             ^
    147| export const selectSelectedNode = (state: RootState) => state.dependenâ€¦
    148| export const selectDependencyFilters = (state: RootState) => (state.deâ€¦
 â¯ selectDependencyGraph node_modules/react-redux/src/hooks/useSelector.ts:171:28
 â¯ memoizedSelector node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:46:30
 â¯ node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:70:22
 â¯ mountSyncExternalStore node_modules/react-dom/cjs/react-dom.development.js:15980:20
 â¯ Object.useSyncExternalStore node_modules/react-dom/cjs/react-dom.development.js:16908:14
 â¯ useSyncExternalStore node_modules/react/cjs/react.development.js:1676:21
 â¯ process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:81:19
 â¯ Module.useSelector2 node_modules/react-redux/src/hooks/useSelector.ts:243:27
 â¯ DependenciesPage src/web/pages/DependenciesPage.tsx:55:17

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[163/282]â¯

 FAIL  src/web/__tests__/Day71DashboardFramework.test.tsx > Day 71: React Dashboard Framework > Component Rendering > should render all page components without errors
AssertionError: expected [Function] to not throw an error but 'TypeError: Cannot read properties of â€¦' was thrown

- Expected: 
undefined

+ Received: 
"TypeError: Cannot read properties of undefined (reading 'graph')"

 â¯ src/web/__tests__/Day71DashboardFramework.test.tsx:326:67
    324|       expect(() => renderWithProviders(<HomePage />)).not.toThrow();
    325|       expect(() => renderWithProviders(<QualityDashboard />)).not.toThâ€¦
    326|       expect(() => renderWithProviders(<DependenciesPage />)).not.toThâ€¦
       |                                                                   ^
    327|       expect(() => renderWithProviders(<SettingsPage />)).not.toThrow(â€¦
    328|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[164/282]â¯

 FAIL  src/web/__tests__/Day72QualityDashboard.test.tsx > QualityOverviewCards > should show trend indicators
TestingLibraryElementError: Unable to find an element with the text: Good. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-3 css-zow5z4-MuiGrid-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-3 css-10voxkt-MuiGrid-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-zwt9xa-MuiPaper-root-MuiCard-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiBox-root css-1coeexk"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-1gclo63"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"SpeedIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-0"[39m
              [36m>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiTypography-gutterBottom css-186q1z4-MuiTypography-root"[39m
                [36m>[39m
                  [0mAverage Complexity[0m
                [36m</p>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 css-5lbw0b-MuiTypography-root"[39m
                [36m>[39m
                  [0m12.5[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorDefault MuiChip-filledDefault css-k6mzkh-MuiChip-root"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeSmall MuiChip-icon MuiChip-iconSmall MuiChip-iconColorDefault css-ptiqhd-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"TrendingFlatIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m22 12-4-4v3H3v2h15v3z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
              [36m>[39m
                [0mNormal[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-3 css-10voxkt-MuiGrid-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-zwt9xa-MuiPaper-root-MuiCard-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiBox-root css-1coeexk"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-1e3551v"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"AssessmentIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-0"[39m
              [36m>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiTypography-gutterBottom css-186q1z4-MuiTypography-root"[39m
                [36m>[39m
                  [0mMaintainability Score[0m
                [36m</p>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 css-5lbw0b-MuiTypography-root"[39m
                [36m>[39m
                  [0m75%[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorSuccess MuiChip-filledSuccess css-z0xuhr-MuiChip-root"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeSmall MuiChip-icon MuiChip-iconSmall MuiChip-iconColorSuccess css-ptiqhd-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"TrendingUpIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
              [36m>[39m
                [0mExcellent[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-3 css-10voxkt-MuiGrid-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-zwt9xa-MuiPaper-root-MuiCard-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiBox-root css-1coeexk"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-n4x4js"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"BuildIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-0"[39m
              [36m>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiTypography-gutterBottom css-186q1z4-MuiTypography-root"[39m
                [36m>[39m
                  [0mTechnical Debt[0m
                [36m</p>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 css-5lbw0b-MuiTypography-root"[39m
                [36m>[39m
                  [0m8h[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorDefault MuiChip-filledDefault css-k6mzkh-MuiChip-root"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeSmall MuiChip-icon MuiChip-iconSmall MuiChip-iconColorDefault css-ptiqhd-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"TrendingFlatIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m22 12-4-4v3H3v2h15v3z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
              [36m>[39m
                [0mMedium[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-3 css-10voxkt-MuiGrid-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-zwt9xa-MuiPaper-root-MuiCard-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiBox-root css-1coeexk"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-ogf3yy"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"WarningIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-0"[39m
              [36m>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiTypography-gutterBottom css-186q1z4-MuiTypography-root"[39m
                [36m>[39m
                  [0mRisk Level[0m
                [36m</p>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 css-5lbw0b-MuiTypography-root"[39m
                [36m>[39m
                  [0mLow[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorError MuiChip-filledError css-xs1rnu-MuiChip-root"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeSmall MuiChip-icon MuiChip-iconSmall MuiChip-iconColorError css-ptiqhd-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"TrendingDownIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
              [36m>[39m
                [0m100 files[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ src/web/__tests__/Day72QualityDashboard.test.tsx:134:19
    132|   it('should show trend indicators', () => {
    133|     render(<QualityOverviewCards metrics={mockMetrics} />);
    134|     expect(screen.getByText('Good')).toBeInTheDocument(); // Low complâ€¦
       |                   ^
    135|     expect(screen.getByText('Excellent')).toBeInTheDocument(); // Highâ€¦
    136|   });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[165/282]â¯

 FAIL  src/web/__tests__/Day72QualityDashboard.test.tsx > ComplexityChart > should sort files by complexity descending
AssertionError: expected 'Complexity DistributionTop 20 most coâ€¦' to contain 'OldDAO.ts'

- Expected
+ Received

- OldDAO.ts
+ Complexity DistributionTop 20 most complex filesGrade AGrade BGrade CGrade DGrade F

 â¯ src/web/__tests__/Day72QualityDashboard.test.tsx:164:35
    162|     const { container } = render(<ComplexityChart fileReports={mockFilâ€¦
    163|     // OldDAO.ts has highest complexity (28.7) and should be first
    164|     expect(container.textContent).toContain('OldDAO.ts');
       |                                   ^
    165|   });
    166| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[166/282]â¯

 FAIL  src/web/__tests__/Day72QualityDashboard.test.tsx > CodeSmellsChart > should categorize high complexity smells
TestingLibraryElementError: Unable to find an element with the text: High Complexity. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 css-tynsvj-MuiPaper-root"[39m
    [36m>[39m
      [36m<h6[39m
        [33mclass[39m=[32m"MuiTypography-root MuiTypography-h6 MuiTypography-gutterBottom css-18k87ye-MuiTypography-root"[39m
      [36m>[39m
        [0mCode Smells Distribution[0m
      [36m</h6>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-15qltjq"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"MuiTypography-root MuiTypography-h3 css-rw3qn6-MuiTypography-root"[39m
        [36m>[39m
          [0m4[0m
        [36m</h3>[39m
        [36m<p[39m
          [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 css-1awg3y7-MuiTypography-root"[39m
        [36m>[39m
          [0mTotal Issues[0m
        [36m</p>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"responsive-container"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"pie-chart"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"pie"[39m
          [36m/>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"tooltip"[39m
          [36m/>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"legend"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ src/web/__tests__/Day72QualityDashboard.test.tsx:206:19
    204|     ];
    205|     render(<CodeSmellsChart fileReports={reports} />);
    206|     expect(screen.getByText('High Complexity')).toBeInTheDocument();
       |                   ^
    207|   });
    208| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[167/282]â¯

 FAIL  src/web/__tests__/Day72QualityDashboard.test.tsx > CodeSmellsChart > should categorize low maintainability smells
TestingLibraryElementError: Unable to find an element with the text: Low Maintainability. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 css-tynsvj-MuiPaper-root"[39m
    [36m>[39m
      [36m<h6[39m
        [33mclass[39m=[32m"MuiTypography-root MuiTypography-h6 MuiTypography-gutterBottom css-18k87ye-MuiTypography-root"[39m
      [36m>[39m
        [0mCode Smells Distribution[0m
      [36m</h6>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-15qltjq"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"MuiTypography-root MuiTypography-h3 css-rw3qn6-MuiTypography-root"[39m
        [36m>[39m
          [0m4[0m
        [36m</h3>[39m
        [36m<p[39m
          [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 css-1awg3y7-MuiTypography-root"[39m
        [36m>[39m
          [0mTotal Issues[0m
        [36m</p>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"responsive-container"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"pie-chart"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"pie"[39m
          [36m/>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"tooltip"[39m
          [36m/>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"legend"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ src/web/__tests__/Day72QualityDashboard.test.tsx:214:19
    212|     ];
    213|     render(<CodeSmellsChart fileReports={reports} />);
    214|     expect(screen.getByText('Low Maintainability')).toBeInTheDocument(â€¦
       |                   ^
    215|   });
    216| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[168/282]â¯

 FAIL  src/web/__tests__/Day72QualityDashboard.test.tsx > FileQualityTable > should call onFileSelect when row clicked
AssertionError: expected "spy" to be called with arguments: [ { â€¦(9) } ]

Received: 

  1st spy call:

  Array [
    Object {
-     "complexity": 28.7,
-     "filePath": "src/database/legacy/OldDAO.ts",
-     "grade": "D",
+     "complexity": 8.5,
+     "filePath": "src/services/FileService.ts",
+     "grade": "A",
      "language": "typescript",
-     "maintainability": 42,
-     "qualityScore": 58,
-     "riskLevel": "high",
-     "techDebt": 120,
+     "maintainability": 85,
+     "qualityScore": 92,
+     "riskLevel": "low",
+     "techDebt": 15,
      "timestamp": "2025-01-01T00:00:00Z",
    },
  ]


Number of calls: 1

 â¯ src/web/__tests__/Day72QualityDashboard.test.tsx:334:26
    332|     fireEvent.click(firstRow);
    333| 
    334|     expect(onFileSelect).toHaveBeenCalledWith(mockFileReports[0]);
       |                          ^
    335|   });
    336| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[169/282]â¯

 FAIL  src/web/__tests__/Day72QualityDashboard.test.tsx > QualityFilters > should show active filters count
TestingLibraryElementError: Unable to find an element with the text: 3 active. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 css-tynsvj-MuiPaper-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-1gbbedy"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-axw7ok"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
            [33mdata-testid[39m=[32m"FilterListIcon"[39m
            [33mfocusable[39m=[32m"false"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<h6[39m
            [33mclass[39m=[32m"MuiTypography-root MuiTypography-h6 css-2ulfj5-MuiTypography-root"[39m
          [36m>[39m
            [0mFilters[0m
          [36m</h6>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorPrimary MuiChip-filledPrimary css-15p98er-MuiChip-root"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
            [36m>[39m
              [0m4 active[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeSmall MuiButton-textSizeSmall MuiButton-colorPrimary css-1knaqv7-MuiButtonBase-root-MuiButton-root"[39m
          [33mtabindex[39m=[32m"0"[39m
          [33mtype[39m=[32m"button"[39m
        [36m>[39m
          [36m<span[39m
            [33mclass[39m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeSmall css-y6rp3m-MuiButton-startIcon"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
              [33mdata-testid[39m=[32m"ClearIcon"[39m
              [33mfocusable[39m=[32m"false"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</span>[39m
          [0mClear All[0m
          [36m<span[39m
            [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
          [36m/>[39m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-1i43dhb"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiFormControl-root MuiFormControl-fullWidth css-q8hpuo-MuiFormControl-root"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiInputLabel-sizeMedium MuiInputLabel-outlined MuiFormLabel-colorPrimary MuiFormLabel-filled MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiInputLabel-sizeMedium MuiInputLabel-outlined css-1jy569b-MuiFormLabel-root-MuiInputLabel-root"[39m
            [33mdata-shrink[39m=[32m"true"[39m
            [33mid[39m=[32m"grade-filter-label"[39m
          [36m>[39m
            [0mGrade[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiInputBase-root MuiOutlinedInput-root MuiInputBase-colorPrimary MuiInputBase-formControl css-1yk1gt9-MuiInputBase-root-MuiOutlinedInput-root-MuiSelect-root"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-controls[39m=[32m":r1a:"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33maria-haspopup[39m=[32m"listbox"[39m
              [33maria-labelledby[39m=[32m"grade-filter-label grade-filter"[39m
              [33mclass[39m=[32m"MuiSelect-select MuiSelect-outlined MuiSelect-multiple MuiInputBase-input MuiOutlinedInput-input css-11u53oe-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input"[39m
              [33mid[39m=[32m"grade-filter"[39m
              [33mrole[39m=[32m"combobox"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiBox-root css-yi3mkw"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorDefault MuiChip-filledDefault css-13htn8f-MuiChip-root"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
                  [36m>[39m
                    [0mA[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiChip-root MuiChip-filled MuiChip-sizeSmall MuiChip-colorDefault MuiChip-filledDefault css-13htn8f-MuiChip-root"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"MuiChip-label MuiChip-labelSmall css-wjsjww-MuiChip-label"[39m
                  [36m>[39m
                    [0mB[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<input[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33maria-invalid[39m=[32m"false"[39m
              [33mclass[39m=[32m"MuiSelect-nativeInput css-yf8vq0-MuiSelect-nativeInput"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mvalue[39m=[32m"A,B"[39m
            [36m/>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiSelect-icon MuiSelect-iconOutlined css-hfutr2-MuiSvgIcon-root-MuiSelect-icon"[39m
              [33mdata-testid[39m=[32m"ArrowDropDownIcon"[39m
              [33mfocusable[39m=[32m"false"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M7 10l5 5 5-5z"[39m
              [36m/>[39m
            [36m</svg>[...
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ src/web/__tests__/Day72QualityDashboard.test.tsx:375:19
    373|     render(<QualityFiltersComponent filters={activeFilters} onFiltersCâ€¦
    374| 
    375|     expect(screen.getByText('3 active')).toBeInTheDocument();
       |                   ^
    376|   });
    377| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[170/282]â¯

 FAIL  src/web/__tests__/Day72QualityDashboard.test.tsx > QualityFilters > should allow removing individual filters
AssertionError: expected "spy" to be called at least once
 â¯ src/web/__tests__/Day72QualityDashboard.test.tsx:435:24
    433|     if (gradeAChip) {
    434|       fireEvent.click(gradeAChip);
    435|       expect(onChange).toHaveBeenCalled();
       |                        ^
    436|     }
    437|   });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[171/282]â¯

 FAIL  src/web/__tests__/Day72QualityDashboard.test.tsx > QualityFilters > should display quality score slider with marks
TestingLibraryElementError: Found multiple elements with the text: 0

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<span[39m
  [33maria-hidden[39m=[32m"true"[39m
  [33mclass[39m=[32m"MuiSlider-markLabel MuiSlider-markLabel MuiSlider-markLabelActive css-1ucwjgd-MuiSlider-markLabel"[39m
  [33mdata-index[39m=[32m"0"[39m
  [33mstyle[39m=[32m"left: 0%;"[39m
[36m>[39m
  [0m0[0m
[36m</span>[39m

Ignored nodes: comments, script, style
[36m<span[39m
  [33mclass[39m=[32m"MuiSlider-valueLabelLabel"[39m
[36m>[39m
  [0m0[0m
[36m</span>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 css-tynsvj-MuiPaper-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-1gbbedy"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-axw7ok"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
            [33mdata-testid[39m=[32m"FilterListIcon"[39m
            [33mfocusable[39m=[32m"false"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<h6[39m
            [33mclass[39m=[32m"MuiTypography-root MuiTypography-h6 css-2ulfj5-MuiTypography-root"[39m
          [36m>[39m
            [0mFilters[0m
          [36m</h6>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-1i43dhb"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiFormControl-root MuiFormControl-fullWidth css-q8hpuo-MuiFormControl-root"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-sizeMedium MuiInputLabel-outlined MuiFormLabel-colorPrimary MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-sizeMedium MuiInputLabel-outlined css-14s5rfu-MuiFormLabel-root-MuiInputLabel-root"[39m
            [33mdata-shrink[39m=[32m"false"[39m
            [33mid[39m=[32m"grade-filter-label"[39m
          [36m>[39m
            [0mGrade[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiInputBase-root MuiOutlinedInput-root MuiInputBase-colorPrimary MuiInputBase-formControl css-1yk1gt9-MuiInputBase-root-MuiOutlinedInput-root-MuiSelect-root"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-controls[39m=[32m":r1k:"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33maria-haspopup[39m=[32m"listbox"[39m
              [33maria-labelledby[39m=[32m"grade-filter-label grade-filter"[39m
              [33mclass[39m=[32m"MuiSelect-select MuiSelect-outlined MuiSelect-multiple MuiInputBase-input MuiOutlinedInput-input css-11u53oe-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input"[39m
              [33mid[39m=[32m"grade-filter"[39m
              [33mrole[39m=[32m"combobox"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"notranslate"[39m
              [36m>[39m
                [0mâ€‹[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<input[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33maria-invalid[39m=[32m"false"[39m
              [33mclass[39m=[32m"MuiSelect-nativeInput css-yf8vq0-MuiSelect-nativeInput"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiSelect-icon MuiSelect-iconOutlined css-hfutr2-MuiSvgIcon-root-MuiSelect-icon"[39m
              [33mdata-testid[39m=[32m"ArrowDropDownIcon"[39m
              [33mfocusable[39m=[32m"false"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M7 10l5 5 5-5z"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<fieldset[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiOutlinedInput-notchedOutline css-r01yff-MuiNotchedOutlined-root-MuiOutlinedInput-notchedOutline"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"css-njhac4-MuiNotchedOutlined-root"[39m
              [36m>[39m
                [36m<span>[39m
                  [0mGrade[0m
                [36m</span>[39m
              [36m</legend>[39m
            [36m</fieldset>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiFormControl-root MuiFormControl-fullWidth css-q8hpuo-MuiFormControl-root"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-sizeMedium MuiInputLabel-outlined MuiFormLabel-colorPrimary MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-sizeMedium MuiInputLabel-outlined css-14s5rfu-MuiFormLabel-root-MuiInputLabel-root"[39m
            [33mdata-shrink[39m=[32m"false"[39m
            [33mid[39m=[32m"risk-level-filter-label"[39m
          [36m>[39m
            [0mRisk Level[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiInputBase-root MuiOutlinedInput-root MuiInputBase-colorPrimary MuiInputBase-formControl css-1yk1gt9-MuiInputBase-root-MuiOutlinedInput-root-MuiSelect-root"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-controls[39m=[32m":r1l:"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33maria-haspopup[39m=[32m"listbox"[39m
              [33maria-labelledby[39m=[32m"risk-level-filter-label risk-level-filter"[39m
              [33mclass[39m=[32m"MuiSelect-select MuiSelect-outlined MuiSelect-multiple MuiInputBase-input MuiOutlinedInput-input css-11u53oe-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input"[39m
              [33mid[39m=[32m"risk-level-filter"[39m
              [33mrole[39m=[32m"combobox"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"notranslate"[39m
              [36m>[39m
                [0mâ€‹[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<input[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33maria-invalid[39m=[32m"false"[39m
              [33mclass[39m=[32m"MuiSelect-nativeInput css-yf8vq0-MuiSelect-nativeInput"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiSelect-icon MuiSelect-iconOutlined css-hfutr2-MuiSvgIcon-root-MuiSelect-icon"[39m
              [33mdata-testid[39m=[32m"ArrowDropDownIcon"[39m
              [33mfocusable[39m=[32m"false"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M7 10l5 5 5-5z"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<fieldset[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiOutlinedInput-notchedOutline css-r01yff-MuiNotchedOutlined-root-MuiOutlinedInput-notchedOutline"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"css-njhac4-MuiNotchedOutlined-root"[39m
              [36m>[39m
                [36m<span>[39m
                  [0mRisk Level[0m
                [36m</span>[39m
              [36m</legend>[39m
            [36m</fieldset>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-0"[39m
        [36m>[39m
          [36m<p[39m
            [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiTypography-gutterBottom css-ejgmvm-MuiTypography-root"[39m
          [36m>[39m
            [0mMinimum Quality Score: [0m
            [0m0[0m
          [36m</p>[39m
          [36m<span[39m
            [33mclass[39m=[32m"MuiSlider-root MuiSlider-marked MuiSlider-colorPrimary MuiSlider-sizeMedium css-ltlhnc-MuiSlider-root"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-rail css-7o8aqz-MuiSlider-rail"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-track css-ttgsjq-MuiSlider-track"[39m
              [33mstyle[39m=[32m"left: 0%; width: 0%;"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-mark MuiSlider-markActive css-z5sdnj-MuiSlider-mark"[39m
              [33mdata-index[39m=[32m"0"[39m
              [33mstyle[39m=[32m"left: 0%;"[39m
            [36m/>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSlider-markLabel MuiSlider-markLabel MuiSlider-markLabelActive css-1ucwjgd-MuiSlider-markLabel"[39m
              [33mdata-index[39m=[32m"0"[39m
              [33mstyle[39m=[32m"left: 0%;"[39m
            [36m>[39m
              [0m0[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-mark css-hzp7sc-MuiSlider-mark"[39m
              [33mdata-index[39m=[32m"1"[39m
              [33mstyle[39m=[32m"left: 25%;"[39m
            [36m/>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSlider-markLabel MuiSlider-markLabel css-1bvr8oc-MuiSlider-markLabel"[39m
              [33mdata-index[39m=[32m"1"[39m
              [33mstyle[39m=[32m"left: 25%;"[39m
            [36m>[39m
              [0m25[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-mark css-hzp7sc-MuiSlider-mark"[39m
              [33mdata-index[39m=[32m"2"[39m
              [33mstyle[39m=[32m"left: 50%;"[39m
            [36m/>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSlider-markLabel MuiSlider-markLabel css-1bvr8oc-MuiSlider-markLabel"[39m
              [33mdata-index[39m=[32m"2"[39m
              [33mstyle[39m=[32m"left: 50%;"[39m
            [36m>[39m
              [0m50[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-mark css-hzp7sc-MuiSlider-mark"[39m
              [33mdata-index[39m=[32m"3"[39m
              [33mstyle[39m=[32m"left: 75%;"[39m
            [36m/>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSlider-markLabel MuiSlider-markLabel css-1bvr8oc-MuiSlider-markLabel"[39m
              [33mdata-index[39m=[32m"3"[39m
              [33mstyle[39m=[32m"left: 75%;"[39m
            [36m>[39m
              [0m75[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-mark css-hzp7sc-MuiSlider-mark"[39m
              [33mdata-index[39m=[32m"4"[39m
              [33mstyle[39m=[32m"left: 100%;"[39m
            [36m/>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSlider-markLabel MuiSlider-markLabel css-1bvr8oc-MuiSlider-markLabel"[39m
              [33mdata-index[39m=[32m"4"[39m
              [33mstyle[39m=[32m"left: 100%;"[39m
            [36m>[39m
              [0m100[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiSlider-thumb MuiSlider-thumbSizeMedium MuiSlider-thumbColorPrimary MuiSlider-thumb MuiSlider-thumbSizeMedium MuiSlider-thumbColorPrimary css-cp2j25-MuiSlider-thumb"[39m
              [33mdata-index[39m=[32m"0"[39m
              [33mstyle[39m=[32m"left: 0%;"[39m
            [36m>[39m
              [36m<input[39m
                [33maria-label[39m=[32m"Minimum Quality Score"[39m
                [33maria-orientation[39m=[32m"horizontal"[39m
                [33maria-valuemax[39m=[32m"100"[39m
                [33maria-valuemin[39m=[32m"0"[39m
                [33maria-valuenow[39m=[32m"0"[39m
                [33mdata-index[39m=[32m"0"[39m
                [33mmax[39m=[32m"100"[39m
                [33mmin[39m=[32m"0"[39m
                [33mstep[39m=[32m"5"[39m
                [33mstyle[39m=[32m"border: 0px; height: 100%; margin: -1px; overflow: hidden; padding: 0px; position: absolute; white-space: nowrap; width: 100%; direction: ltr;"[39m
                [33mtype[39m=[32m"range"[39m
                [33mvalue[39m=[32m"0"[39m
              [36m/>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSlider-valueLabel css-14gyywz-MuiSlider-valueLabel"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"MuiSlider-valueLabelCircle"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"MuiSlider-valueLabelLabel"[39m
                  [36m>[39m
                    [0m0[0m
                  [36m</span>[39m
                [36m</span>[39m
              [36m</span>[39m
            [36m</span>[39m
          [36m</span>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 â¯ getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ src/web/__tests__/Day72QualityDashboard.test.tsx:443:19
    441|     render(<QualityFiltersComponent filters={defaultFilters} onFiltersâ€¦
    442| 
    443|     expect(screen.getByText('0')).toBeInTheDocument();
       |                   ^
    444|     expect(screen.getByText('25')).toBeInTheDocument();
    445|     expect(screen.getByText('50')).toBeInTheDocument();

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[172/282]â¯

 FAIL  src/web/__tests__/Day72QualityDashboard.test.tsx > QualityDashboard Integration > should display error alert
TestingLibraryElementError: Unable to find an element with the text: Failed to fetch data. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiContainer-root MuiContainer-maxWidthXl css-19r6kue-MuiContainer-root"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-zitybv"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-v08z5u"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiBox-root css-0"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom css-1vw6mcs-MuiTypography-root"[39m
            [36m>[39m
              [0mQuality Dashboard[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"MuiTypography-root MuiTypography-body1 css-1pnmrwp-MuiTypography-root"[39m
            [36m>[39m
              [0mView code quality metrics, complexity analysis, and technical debt[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<button[39m
            [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1rwt2y5-MuiButtonBase-root-MuiButton-root"[39m
            [33mtabindex[39m=[32m"0"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1d6wzja-MuiButton-startIcon"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"RefreshIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</span>[39m
            [0mRefresh[0m
            [36m<span[39m
              [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
            [36m/>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAlert-root MuiAlert-colorError MuiAlert-standardError MuiAlert-standard css-h8vawe-MuiPaper-root-MuiAlert-root"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiAlert-icon css-1ytlwq5-MuiAlert-icon"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeInherit css-1vooibu-MuiSvgIcon-root"[39m
              [33mdata-testid[39m=[32m"ErrorOutlineIcon"[39m
              [33mfocusable[39m=[32m"false"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiAlert-message css-1pxa9xg-MuiAlert-message"[39m
          [36m>[39m
            [0mCannot read properties of undefined (reading 'ok')[0m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiAlert-action css-ki1hdl-MuiAlert-action"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Close"[39m
              [33mclass[39m=[32m"MuiButtonBase-root MuiIconButton-root MuiIconButton-colorInherit MuiIconButton-sizeSmall css-1e0d89p-MuiButtonBase-root-MuiIconButton-root"[39m
              [33mtabindex[39m=[32m"0"[39m
              [33mtitle[39m=[32m"Close"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeSmall css-ptiqhd-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"CloseIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
              [36m/>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-i3pbo"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-3 css-zow5z4-MuiGrid-root"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-3 css-10voxkt-MuiGrid-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-zwt9xa-MuiPaper-root-MuiCard-root"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"MuiBox-root css-1coeexk"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"MuiBox-root css-1gclo63"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                        [33mdata-testid[39m=[32m"SpeedIcon"[39m
                        [33mfocusable[39m=[32m"false"[39m
             ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiContainer-root MuiContainer-maxWidthXl css-19r6kue-MuiContainer-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-zitybv"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiBox-root css-v08z5u"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiBox-root css-0"[39m
            [36m>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom css-1vw6mcs-MuiTypography-root"[39m
              [36m>[39m
                [0mQuality Dashboard[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"MuiTypography-root MuiTypography-body1 css-1pnmrwp-MuiTypography-root"[39m
              [36m>[39m
                [0mView code quality metrics, complexity analysis, and technical debt[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1rwt2y5-MuiButtonBase-root-MuiButton-root"[39m
              [33mtabindex[39m=[32m"0"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1d6wzja-MuiButton-startIcon"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-i4bv87-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"RefreshIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</span>[39m
              [0mRefresh[0m
              [36m<span[39m
                [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
              [36m/>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAlert-root MuiAlert-colorError MuiAlert-standardError MuiAlert-standard css-h8vawe-MuiPaper-root-MuiAlert-root"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiAlert-icon css-1ytlwq5-MuiAlert-icon"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeInherit css-1vooibu-MuiSvgIcon-root"[39m
                [33mdata-testid[39m=[32m"ErrorOutlineIcon"[39m
                [33mfocusable[39m=[32m"false"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiAlert-message css-1pxa9xg-MuiAlert-message"[39m
            [36m>[39m
              [0mCannot read properties of undefined (reading 'ok')[0m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiAlert-action css-ki1hdl-MuiAlert-action"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Close"[39m
                [33mclass[39m=[32m"MuiButtonBase-root MuiIconButton-root MuiIconButton-colorInherit MuiIconButton-sizeSmall css-1e0d89p-MuiButtonBase-root-MuiIconButton-root"[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtitle[39m=[32m"Close"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeSmall css-ptiqhd-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"CloseIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"[39m
                [36m/>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiBox-root css-i3pbo"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-3 css-zow5z4-MuiGrid-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-3 css-10voxkt-MuiGrid-root"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-zwt9xa-MuiPaper-root-MuiCard-root"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"MuiCardContent-root css-46bh2p-MuiCardContent-root"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"MuiBox-root css-1coeexk"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"MuiBox-root css-1gclo63"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33maria-hidde...
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ src/web/__tests__/Day72QualityDashboard.test.tsx:520:11
    518|     );
    519| 
    520|     await waitFor(() => {
       |           ^
    521|       expect(screen.getByText('Failed to fetch data')).toBeInTheDocumeâ€¦
    522|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[173/282]â¯

 FAIL  src/web/__tests__/Day73DependencyGraph.test.tsx > DependencyGraphVisualization > accepts all required props
AssertionError: expected [Function] to not throw an error but 'TypeError: svg.append(...).selectAll â€¦' was thrown

- Expected: 
undefined

+ Received: 
"TypeError: svg.append(...).selectAll is not a function"

 â¯ src/web/__tests__/Day73DependencyGraph.test.tsx:276:12
    274|         />
    275|       );
    276|     }).not.toThrow();
       |            ^
    277|   });
    278| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[174/282]â¯

 FAIL  src/web/__tests__/Day73DependencyGraph.test.tsx > DependencyGraphVisualization > accepts optional layout props
AssertionError: expected [Function] to not throw an error but 'TypeError: svg.append(...).selectAll â€¦' was thrown

- Expected: 
undefined

+ Received: 
"TypeError: svg.append(...).selectAll is not a function"

 â¯ src/web/__tests__/Day73DependencyGraph.test.tsx:291:12
    289|         />
    290|       );
    291|     }).not.toThrow();
       |            ^
    292|   });
    293| });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[175/282]â¯

 FAIL  src/web/__tests__/Day73DependencyGraph.test.tsx > DependenciesPage > renders page with all components
 FAIL  src/web/__tests__/Day73DependencyGraph.test.tsx > DependenciesPage > renders graph statistics
 FAIL  src/web/__tests__/Day73DependencyGraph.test.tsx > DependenciesPage > renders circular dependency detector
TypeError: svg.append(...).selectAll is not a function
 â¯ src/web/components/dependencies/DependencyGraphVisualization.tsx:118:24
    116| 
    117|     // Create arrow markers for directed edges
    118|     svg.append('defs').selectAll('marker')
       |                        ^
    119|       .data(['arrow'])
    120|       .enter().append('marker')
 â¯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 â¯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 â¯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 â¯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 â¯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 â¯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 â¯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 â¯ performSyncWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:26115:3
 â¯ flushSyncCallbacks node_modules/react-dom/cjs/react-dom.development.js:12042:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[176/282]â¯

 FAIL  src/web/__tests__/Day73DependencyGraph.test.tsx > DependenciesPage > displays error alert
TypeError: Cannot read properties of undefined (reading 'nodeTypes')
 â¯ DependencyFilters src/web/components/dependencies/DependencyFilters.tsx:38:13
     36| }: DependencyFiltersProps): React.ReactElement {
     37|   const activeFiltersCount = [
     38|     filters.nodeTypes.length > 0,
       |             ^
     39|     filters.fileExtensions.length > 0,
     40|     filters.directoryPaths.length > 0,
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 â¯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 â¯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 â¯ beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:27465:14
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:26599:12
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom.development.js:26505:5
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom.development.js:26473:7
 â¯ recoverFromConcurrentError node_modules/react-dom/cjs/react-dom.development.js:25889:20
 â¯ performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:25789:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[177/282]â¯

 FAIL  src/cli/commands/__tests__/def.test.ts > def command > command registration > should have correct aliases
AssertionError: expected [] to include 'definition'
 â¯ src/cli/commands/__tests__/def.test.ts:40:33
     38| 
     39|     it('should have correct aliases', () => {
     40|       expect(command.aliases()).toContain('definition')
       |                                 ^
     41|     })
     42| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[178/282]â¯

 FAIL  src/cli/commands/__tests__/def.test.ts > def command > command options > should have lang option
AssertionError: expected undefined not to be undefined
 â¯ src/cli/commands/__tests__/def.test.ts:60:22
     58|     it('should have lang option', () => {
     59|       const option = command.options.find((opt) => opt.long === '--lanâ€¦
     60|       expect(option).toBeDefined()
       |                      ^
     61|     })
     62| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[179/282]â¯

 FAIL  src/cli/commands/__tests__/def.test.ts > def command > command options > should have kind option
AssertionError: expected undefined not to be undefined
 â¯ src/cli/commands/__tests__/def.test.ts:65:22
     63|     it('should have kind option', () => {
     64|       const option = command.options.find((opt) => opt.long === '--kinâ€¦
     65|       expect(option).toBeDefined()
       |                      ^
     66|     })
     67| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[180/282]â¯

 FAIL  src/cli/commands/__tests__/def.test.ts > def command > command options > should have json option
AssertionError: expected undefined not to be undefined
 â¯ src/cli/commands/__tests__/def.test.ts:70:22
     68|     it('should have json option', () => {
     69|       const option = command.options.find((opt) => opt.long === '--jsoâ€¦
     70|       expect(option).toBeDefined()
       |                      ^
     71|     })
     72| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[181/282]â¯

 FAIL  src/cli/commands/__tests__/def.test.ts > def command > command options > should have verbose option
AssertionError: expected undefined not to be undefined
 â¯ src/cli/commands/__tests__/def.test.ts:75:22
     73|     it('should have verbose option', () => {
     74|       const option = command.options.find((opt) => opt.long === '--verâ€¦
     75|       expect(option).toBeDefined()
       |                      ^
     76|     })
     77| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[182/282]â¯

 FAIL  src/cli/commands/__tests__/def.test.ts > def command > command options > should have line option for line numbers
AssertionError: expected undefined not to be undefined
 â¯ src/cli/commands/__tests__/def.test.ts:80:22
     78|     it('should have line option for line numbers', () => {
     79|       const option = command.options.find((opt) => opt.long === '--linâ€¦
     80|       expect(option).toBeDefined()
       |                      ^
     81|     })
     82|   })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[183/282]â¯

 FAIL  src/cli/commands/__tests__/def.test.ts > def command > command execution > should find definition for symbol
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > output formatting > should format definition as text by default
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > error handling > should handle symbol not found
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > error handling > should handle search errors gracefully
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > performance > should complete lookup within reasonable time
Error: process.exit unexpectedly called with "1"
 â¯ Command.<anonymous> src/cli/commands/def.ts:176:17
    174|       } catch (error) {
    175|         console.error(chalk.red('Error:'), error instanceof Error ? erâ€¦
    176|         process.exit(1);
       |                 ^
    177|       }
    178|     });
 â¯ Command.listener [as _actionHandler] node_modules/commander/lib/command.js:568:17
 â¯ node_modules/commander/lib/command.js:1604:14
 â¯ Command._chainOrCall node_modules/commander/lib/command.js:1488:12
 â¯ Command._parseCommand node_modules/commander/lib/command.js:1603:27
 â¯ node_modules/commander/lib/command.js:1367:27
 â¯ Command._chainOrCall node_modules/commander/lib/command.js:1488:12
 â¯ Command._dispatchSubcommand node_modules/commander/lib/command.js:1363:25
 â¯ Command._parseCommand node_modules/commander/lib/command.js:1559:19

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[184/282]â¯

 FAIL  src/cli/commands/__tests__/def.test.ts > def command > command execution > should apply language filter
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > command execution > should apply kind filter
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > command execution > should show line numbers when requested
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > output formatting > should format definition as JSON when requested
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > output formatting > should show verbose output with source code
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > definition types > should find function definitions
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > definition types > should find class definitions
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > definition types > should find interface definitions
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > definition types > should find type definitions
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > definition types > should find variable definitions
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > language-specific definitions > should find TypeScript definitions
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > language-specific definitions > should find Python definitions
 FAIL  src/cli/commands/__tests__/def.test.ts > def command > language-specific definitions > should find JavaScript definitions
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > command execution > should apply language filter
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > command execution > should apply kind filter
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > command execution > should apply file filter
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > command execution > should handle multiple filters
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > output formatting > should format results as JSON when requested
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > integration scenarios > should search for TypeScript classes
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > integration scenarios > should search in specific directory
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > command execution > should show cache stats when requested
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > output formatting > should format stats as JSON when requested
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > cache statistics > should show cache hit rate
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > cache statistics > should show total queries
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > cache statistics > should show cache size
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > error handling > should handle cache stats errors gracefully
Error: process.exit unexpectedly called with "1"
 â¯ Command._exit node_modules/commander/lib/command.js:538:13
 â¯ Command.error node_modules/commander/lib/command.js:1957:10
 â¯ Command.unknownOption node_modules/commander/lib/command.js:2136:10
 â¯ checkForUnknownOptions node_modules/commander/lib/command.js:1592:14
 â¯ Command._parseCommand node_modules/commander/lib/command.js:1598:7
 â¯ node_modules/commander/lib/command.js:1367:27
 â¯ Command._chainOrCall node_modules/commander/lib/command.js:1488:12
 â¯ Command._dispatchSubcommand node_modules/commander/lib/command.js:1363:25
 â¯ Command._parseCommand node_modules/commander/lib/command.js:1559:19

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[185/282]â¯

 FAIL  src/cli/commands/__tests__/find.test.ts > find command > command registration > should have correct aliases
AssertionError: expected [] to include 'search'
 â¯ src/cli/commands/__tests__/find.test.ts:40:33
     38| 
     39|     it('should have correct aliases', () => {
     40|       expect(command.aliases()).toContain('search')
       |                                 ^
     41|     })
     42| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[186/282]â¯

 FAIL  src/cli/commands/__tests__/find.test.ts > find command > command options > should have lang option
AssertionError: expected undefined not to be undefined
 â¯ src/cli/commands/__tests__/find.test.ts:66:22
     64|     it('should have lang option', () => {
     65|       const option = command.options.find((opt) => opt.long === '--lanâ€¦
     66|       expect(option).toBeDefined()
       |                      ^
     67|     })
     68| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[187/282]â¯

 FAIL  src/cli/commands/__tests__/find.test.ts > find command > command options > should have kind option
AssertionError: expected undefined not to be undefined
 â¯ src/cli/commands/__tests__/find.test.ts:71:22
     69|     it('should have kind option', () => {
     70|       const option = command.options.find((opt) => opt.long === '--kinâ€¦
     71|       expect(option).toBeDefined()
       |                      ^
     72|     })
     73| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[188/282]â¯

 FAIL  src/cli/commands/__tests__/find.test.ts > find command > command options > should have file option
AssertionError: expected undefined not to be undefined
 â¯ src/cli/commands/__tests__/find.test.ts:76:22
     74|     it('should have file option', () => {
     75|       const option = command.options.find((opt) => opt.long === '--filâ€¦
     76|       expect(option).toBeDefined()
       |                      ^
     77|     })
     78| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[189/282]â¯

 FAIL  src/cli/commands/__tests__/find.test.ts > find command > command options > should have json option
AssertionError: expected undefined not to be undefined
 â¯ src/cli/commands/__tests__/find.test.ts:81:22
     79|     it('should have json option', () => {
     80|       const option = command.options.find((opt) => opt.long === '--jsoâ€¦
     81|       expect(option).toBeDefined()
       |                      ^
     82|     })
     83| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[190/282]â¯

 FAIL  src/cli/commands/__tests__/find.test.ts > find command > command execution > should search with query only
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > command execution > should apply limit option
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > output formatting > should format results as text by default
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > output formatting > should show verbose output when requested
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > error handling > should handle search errors gracefully
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > error handling > should handle no results found
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > integration scenarios > should limit results count
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > performance > should complete search within reasonable time
 FAIL  src/cli/commands/__tests__/find.test.ts > find command > performance > should handle large result sets efficiently
Error: process.exit unexpectedly called with "1"
 â¯ ErrorHandler.handleAndExit src/cli/utils/ErrorHandler.ts:304:13
    302|     const enhanced = this.enhance(error);
    303|     this.display(enhanced, verbose);
    304|     process.exit(1);
       |             ^
    305|   }
    306| 
 â¯ Command.<anonymous> src/cli/commands/find.ts:288:22
 â¯ Command.listener [as _actionHandler] node_modules/commander/lib/command.js:568:17
 â¯ node_modules/commander/lib/command.js:1604:14
 â¯ Command._chainOrCall node_modules/commander/lib/command.js:1488:12
 â¯ Command._parseCommand node_modules/commander/lib/command.js:1603:27
 â¯ node_modules/commander/lib/command.js:1367:27
 â¯ Command._chainOrCall node_modules/commander/lib/command.js:1488:12
 â¯ Command._dispatchSubcommand node_modules/commander/lib/command.js:1363:25

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[191/282]â¯

 FAIL  src/cli/commands/__tests__/status.test.ts > status command > command registration > should have correct aliases
AssertionError: expected [] to include 'stat'
 â¯ src/cli/commands/__tests__/status.test.ts:38:33
     36| 
     37|     it('should have correct aliases', () => {
     38|       expect(command.aliases()).toContain('stat')
       |                                 ^
     39|     })
     40| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[192/282]â¯

 FAIL  src/cli/commands/__tests__/status.test.ts > status command > command options > should have json option
AssertionError: expected undefined not to be undefined
 â¯ src/cli/commands/__tests__/status.test.ts:57:22
     55|     it('should have json option', () => {
     56|       const option = command.options.find((opt) => opt.long === '--jsoâ€¦
     57|       expect(option).toBeDefined()
       |                      ^
     58|     })
     59| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[193/282]â¯

 FAIL  src/cli/commands/__tests__/status.test.ts > status command > command options > should have cache option
AssertionError: expected undefined not to be undefined
 â¯ src/cli/commands/__tests__/status.test.ts:62:22
     60|     it('should have cache option', () => {
     61|       const option = command.options.find((opt) => opt.long === '--cacâ€¦
     62|       expect(option).toBeDefined()
       |                      ^
     63|     })
     64|   })

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[194/282]â¯

 FAIL  src/cli/commands/__tests__/status.test.ts > status command > command execution > should show basic index stats
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > command execution > should show verbose stats
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > output formatting > should format stats as text by default
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > statistics display > should show file count
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > statistics display > should show symbol count
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > statistics display > should show index size in human-readable format
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > statistics display > should show last indexed time
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > error handling > should handle stats retrieval errors gracefully
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > error handling > should handle empty index gracefully
 FAIL  src/cli/commands/__tests__/status.test.ts > status command > performance > should complete status check quickly
Error: process.exit unexpectedly called with "1"
 â¯ Command.<anonymous> src/cli/commands/status.ts:161:17
    159|       } catch (error) {
    160|         console.error(chalk.red('Error getting status:'), error);
    161|         process.exit(1);
       |                 ^
    162|       }
    163|     });
 â¯ Command.listener [as _actionHandler] node_modules/commander/lib/command.js:568:17
 â¯ node_modules/commander/lib/command.js:1604:14
 â¯ Command._chainOrCall node_modules/commander/lib/command.js:1488:12
 â¯ Command._parseCommand node_modules/commander/lib/command.js:1603:27
 â¯ node_modules/commander/lib/command.js:1367:27
 â¯ Command._chainOrCall node_modules/commander/lib/command.js:1488:12
 â¯ Command._dispatchSubcommand node_modules/commander/lib/command.js:1363:25
 â¯ Command._parseCommand node_modules/commander/lib/command.js:1559:19

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[195/282]â¯

 FAIL  src/database/dao/__tests__/FileDAO.test.ts > FileDAO > delete > should delete file by ID
SqliteError: foreign key mismatch - "code_metrics" referencing "files"
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.delete src/database/dao/FileDAO.ts:214:26
    212|    */
    213|   delete(id: number): boolean {
    214|     const stmt = this.db.prepare('DELETE FROM files WHERE id = ?');
       |                          ^
    215|     const result = stmt.run(id);
    216|     return result.changes > 0;
 â¯ src/database/dao/__tests__/FileDAO.test.ts:125:15

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'SQLITE_ERROR' }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[196/282]â¯

 FAIL  src/database/dao/__tests__/FileDAO.test.ts > FileDAO > delete > should delete nothing if ID does not exist
AssertionError: expected [Function] to not throw an error but 'SqliteError: foreign key mismatch - "â€¦' was thrown

- Expected: 
undefined

+ Received: 
"SqliteError: foreign key mismatch - \"code_metrics\" referencing \"files\""

 â¯ src/database/dao/__tests__/FileDAO.test.ts:133:46
    131|     it('should delete nothing if ID does not exist', () => {
    132|       // Should not throw
    133|       expect(() => fileDAO.delete(9999)).not.toThrow();
       |                                              ^
    134|     });
    135|   });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[197/282]â¯

 FAIL  src/database/dao/__tests__/FileDAO.test.ts > FileDAO > clear > should delete all files
SqliteError: foreign key mismatch - "code_metrics" referencing "files"
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.clear src/database/dao/FileDAO.ts:291:26
    289|    */
    290|   clear(): number {
    291|     const stmt = this.db.prepare('DELETE FROM files');
       |                          ^
    292|     const result = stmt.run();
    293|     return result.changes;
 â¯ src/database/dao/__tests__/FileDAO.test.ts:175:15

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'SQLITE_ERROR' }
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[198/282]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 2 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ runNextTicks node:internal/process/task_queues:64:5
 â¯ listOnTimeout node:internal/timers:567:9
 â¯ processTimers node:internal/timers:541:7

This error originated in "src/runtime/__tests__/StateMachineProviderIntegration.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should emit routing events from provider". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'totalTokens')
 â¯ StateMachineRuntime.executeTask src/runtime/StateMachineRuntime.ts:272:80
    270| 
    271|         const duration = Date.now() - startTime
    272|         this.emit('task-completed', { taskId, duration, tokens: responâ€¦
       |                                                                                ^
    273| 
    274|         return {
 â¯ runNextTicks node:internal/process/task_queues:64:5
 â¯ listOnTimeout node:internal/timers:567:9
 â¯ processTimers node:internal/timers:541:7

This error originated in "src/runtime/__tests__/StateMachineProviderIntegration.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should emit routing events from provider". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯

 Test Files  41 failed | 77 passed (118)
      Tests  274 failed | 3048 passed | 4 skipped (3326)
     Errors  2 errors
   Start at  20:03:24
   Duration  45.44s (transform 3.02s, setup 13.26s, collect 18.18s, tests 131.99s, environment 31.69s, prepare 5.29s)

