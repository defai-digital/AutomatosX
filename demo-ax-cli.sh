#!/bin/bash
# AutomatosX Interactive CLI - Comprehensive Demo
# This script demonstrates all the features of ax-cli

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘   AutomatosX Interactive CLI - Feature Demo              â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "This demo showcases:"
echo "  âœ“ Slash commands (/help, /agents, /save, /list, /load)"
echo "  âœ“ AI conversations (mock mode)"
echo "  âœ“ Agent delegation (@agent task syntax)"
echo "  âœ“ Conversation persistence"
echo "  âœ“ History management"
echo ""
echo "Press Enter to start..."
read

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "Step 1: Starting ax-cli (Mock Mode)"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "Command: node dist/index.js cli"
echo ""
echo "The CLI will start in mock mode by default (no API keys needed)"
echo "Press Ctrl+C when you see the 'ax>' prompt to continue..."
echo ""
sleep 2

# We can't actually run interactive mode in a script, so we'll show what happens
cat << 'EOF'

Simulating ax-cli startup...

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚   AutomatosX Interactive CLI v0.1.0       â”‚
â”‚   Type /help for commands, /exit to quit  â”‚
â”‚   Using: Gemini 1.5 Pro (simulated)      â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

ax>

EOF

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "Step 2: Testing Slash Commands"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "Available commands:"
echo "  /help     - Show all commands"
echo "  /agents   - List available agents"
echo "  /history  - Show conversation history"
echo "  /save     - Save conversation with a name"
echo "  /list     - List saved conversations"
echo "  /load     - Load a saved conversation"
echo "  /new      - Start new conversation"
echo "  /clear    - Clear screen"
echo "  /provider - Show current provider"
echo "  /exit     - Exit ax-cli"
echo ""
echo "Press Enter to see /agents command demo..."
read

echo ""
echo "Command: /agents"
echo ""
printf "/agents\n/exit\n" | node dist/index.js cli 2>&1 | grep -A 20 "Available Agents" | head -25

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "Step 3: Agent Delegation Syntax"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "You can delegate tasks to specific agents using:"
echo "  @backend implement authentication"
echo "  @frontend create login form"
echo "  @security audit the code"
echo ""
echo "Or use the alternative syntax:"
echo "  DELEGATE TO backend: implement authentication"
echo ""
echo "The agent will execute the task and show results."
echo ""
echo "Press Enter to continue..."
read

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "Step 4: Conversation Management"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "Conversations are automatically saved every 30 seconds."
echo ""
echo "Manual save: /save my-conversation"
echo "  â†’ Saves to: .automatosx/cli-conversations/"
echo ""
echo "List saved: /list"
echo "  â†’ Shows all saved conversations with details"
echo ""
echo "Load conversation: /load my-conversation"
echo "  â†’ Restores messages and context"
echo ""
echo "Press Enter to continue..."
read

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "Step 5: Mock Mode vs Real Mode"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "MOCK MODE (Default - No API keys needed):"
echo "  node dist/index.js cli"
echo "  or"
echo "  AUTOMATOSX_MOCK_PROVIDERS=true node dist/index.js cli"
echo ""
echo "  â€¢ Simulated AI responses"
echo "  â€¢ Mock agent execution"
echo "  â€¢ Perfect for testing and demos"
echo ""
echo "REAL MODE (Requires setup):"
echo "  AUTOMATOSX_MOCK_PROVIDERS=false node dist/index.js cli"
echo ""
echo "  â€¢ Real Gemini API responses"
echo "  â€¢ Actual agent execution"
echo "  â€¢ Requires: gemini CLI + agent profiles"
echo ""
echo "Press Enter to continue..."
read

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "Step 6: Example Workflow"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "1. Start ax-cli:"
echo "   $ ax cli"
echo ""
echo "2. Ask a question:"
echo "   ax> How do I implement JWT authentication?"
echo "   AI: [Provides guidance on JWT implementation...]"
echo ""
echo "3. Delegate to an agent:"
echo "   ax> @backend implement JWT authentication with refresh tokens"
echo "   [@backend] Starting task..."
echo "   [@backend] Step 1/5: Installing dependencies..."
echo "   [@backend] âœ“ Implementation complete!"
echo ""
echo "4. Save the conversation:"
echo "   ax> /save jwt-auth-session"
echo "   âœ“ Conversation saved as: jwt-auth-session"
echo ""
echo "5. Later, load it back:"
echo "   ax> /load jwt-auth-session"
echo "   âœ“ Loaded conversation: jwt-auth-session"
echo "   â„¹ 12 messages loaded"
echo ""
echo "Press Enter to continue..."
read

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "Step 7: Advanced Features (Coming Soon)"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "Phase 1 (Future):"
echo "  â–¡ SQLite persistence (currently JSON files)"
echo "  â–¡ Markdown rendering with syntax highlighting"
echo "  â–¡ Memory search integration"
echo "  â–¡ Code block extraction"
echo "  â–¡ Multi-provider switching"
echo ""
echo "Phase 2+:"
echo "  â–¡ VSCode extension integration"
echo "  â–¡ MCP server support"
echo "  â–¡ Team collaboration features"
echo "  â–¡ Custom agent templates"
echo ""
echo "Press Enter to continue..."
read

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "Try It Yourself!"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "Ready to try ax-cli? Run:"
echo ""
echo "  $ node dist/index.js cli"
echo ""
echo "or if installed:"
echo ""
echo "  $ ax cli"
echo "  $ ax interactive"
echo "  $ ax chat"
echo ""
echo "Quick commands to try:"
echo "  â€¢ /help          â†’ See all commands"
echo "  â€¢ /agents        â†’ List available agents"
echo "  â€¢ Hello!         â†’ Get an AI response"
echo "  â€¢ @backend test  â†’ Test agent delegation"
echo "  â€¢ /save demo     â†’ Save your session"
echo "  â€¢ /list          â†’ See saved conversations"
echo ""
echo "Documentation:"
echo "  â€¢ README: packages/cli-interactive/README.md"
echo "  â€¢ PRD: automatosx/PRD/ax-cli-final-prd.md"
echo "  â€¢ Integration: automatosx/PRD/INTEGRATION-COMPLETE.md"
echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘   Demo Complete! Happy coding with AutomatosX! ğŸš€        â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
