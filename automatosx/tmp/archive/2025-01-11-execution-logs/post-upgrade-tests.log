
> automatosx-v2@2.0.0 test
> vitest


 DEV  v1.6.1 /Users/akiralam/code/automatosx2

 â¯ src/__tests__/runtime/security-integration.test.ts  (14 tests | 2 failed) 9ms
   â¯ src/__tests__/runtime/security-integration.test.ts > Security Stack Integration - Threat T2 + T4 + T5 > maintains security boundaries in concurrent task execution scenario
     â†’ expected 'UGFzczo6YXV0aC1ndWFyZDo6VUZKRlVFRlNTVâ€¦' not to be 'UGFzczo6YXV0aC1ndWFyZDo6VUZKRlVFRlNTVâ€¦' // Object.is equality
   â¯ src/__tests__/runtime/security-integration.test.ts > Security Stack Integration - Threat T2 + T4 + T5 > prevents log injection through metadata sanitization
     â†’ expected 'task-123\nINFO: ADMIN ACCESS GRANTED\â€¦' not to contain '\n'
 âœ“ src/__tests__/runtime/integration.test.ts  (16 tests) 4ms
 âœ“ src/parser/__tests__/RubyParserService.test.ts  (26 tests) 28ms
 âœ“ src/parser/__tests__/TypeScriptParserService.test.ts  (27 tests) 30ms
 âœ“ src/__tests__/runtime/guards.test.ts  (35 tests) 4ms
 âœ“ src/__tests__/runtime/cancellation-limiter.test.ts  (15 tests) 4ms
 âœ“ src/parser/__tests__/KotlinParserService.test.ts  (30 tests) 39ms
 âœ“ src/parser/__tests__/RustParserService.test.ts  (22 tests) 32ms
 âœ“ src/services/__tests__/TelemetryService.test.ts  (34 tests) 254ms
stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > initialization > should initialize with disabled telemetry by default
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > initialization > should load configuration from database
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > initialization > should generate unique session ID
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > enable/disable > should enable telemetry
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > enable/disable > should enable telemetry with remote submission
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > enable/disable > should disable telemetry
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackCommand > should not track when disabled
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackCommand > should track command when enabled
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackCommand > should track command with error
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackCommand > should handle tracking failure silently
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackCommand (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:211:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:127:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackQuery > should track query performance
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackQuery > should truncate long queries to 100 chars
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackParser > should track parser invocation
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackParser > should track parser errors
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackError > should track errors
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackError > should truncate error messages to 200 chars
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackError > should truncate stack traces to 500 chars
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackError > should track fatal errors
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackPerformance > should track performance metrics
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackPerformance > should track different metric units
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > trackFeature > should track feature usage
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > getStats > should retrieve statistics
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > getStats > should filter by date range
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > clearAllData > should clear all telemetry data
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > exportData > should export all telemetry data
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > exportData > should export data for date range
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > privacy guarantees > should not track file paths
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > privacy guarantees > should truncate sensitive data
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > privacy guarantees > should use anonymous session IDs
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > privacy guarantees > should not store code content
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > performance > should complete tracking in < 1ms when enabled
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > performance > should complete immediately when disabled
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > silent failure > should not throw when DAO is unavailable
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryService.test.ts > TelemetryService > silent failure > should not throw on database errors
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackCommand (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:211:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:479:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackQuery (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:237:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:480:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackParser (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:260:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:481:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackError (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:285:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:482:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackPerformance (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:304:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:483:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
Telemetry event failed: TypeError: The database connection is not open
    at Database.prepare (/Users/akiralam/code/automatosx2/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at TelemetryDAO.saveEvent (/Users/akiralam/code/automatosx2/src/database/dao/TelemetryDAO.ts:49:26)
    at TelemetryService.trackEvent (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:176:38)
    at TelemetryService.trackFeature (/Users/akiralam/code/automatosx2/src/services/TelemetryService.ts:321:16)
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryService.test.ts:484:28
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)

 âœ“ src/services/__tests__/TelemetrySubmissionClient.test.ts  (30 tests) 10ms
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should execute valid agent task
[36m[2025-11-08T17:32:07.010Z] INFO    Starting agent execution: backend[0m
[36m[2025-11-08T17:32:07.011Z] INFO    Searching memory for relevant context...[0m
[36m[2025-11-08T17:32:07.011Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-08T17:32:07.011Z] INFO    Executing task...[0m
[36m[2025-11-08T17:32:07.011Z] INFO    [1/5] Loading agent configuration...[0m

 âœ“ src/parser/__tests__/CSharpParserService.test.ts  (22 tests) 29ms
 âœ“ src/services/__tests__/TelemetryQueue.test.ts  (45 tests) 421ms
stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should add events to queue
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should set retry_count to 0 for new events
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should set next_retry_at to NULL for new events
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should set queued_at timestamp
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should handle empty array
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should handle multiple events in batch
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > enqueue > should preserve FIFO order by queued_at
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should return events ready for submission
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should respect batch size limit
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should return events in FIFO order
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should not return events scheduled for future retry
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should return events with past retry time
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should return empty array when queue is empty
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should return empty array when all events scheduled for future
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > dequeue > should include retry count and last error in response
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markSubmitted > should remove events from queue
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markSubmitted > should remove correct events
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markSubmitted > should handle empty array
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markSubmitted > should handle non-existent queue IDs gracefully
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should increment retry count
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should set last error message
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should schedule retry in future
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should remove event after max retries exceeded
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should handle multiple failures in batch
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should handle empty array
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > markFailed > should handle non-existent queue IDs gracefully
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getStats > should return zero stats for empty queue
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getStats > should count pending events correctly
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getStats > should count retrying events correctly
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getStats > should return oldest queued timestamp
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getStats > should treat past retry times as pending
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > cleanup > should remove old events
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > cleanup > should return count of removed events
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > cleanup > should not remove recent events
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > cleanup > should handle empty queue
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getAll > should return all queued events
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getAll > should return empty array when queue is empty
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > getAll > should return events in FIFO order
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > clearAll > should remove all events from queue
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > clearAll > should return count of removed events
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > clearAll > should handle empty queue
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > integration scenarios > should handle complete submission workflow
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > integration scenarios > should handle retry workflow
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > integration scenarios > should handle max retries exceeded
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryQueue.test.ts > TelemetryQueue > integration scenarios > should handle offline queue buildup and batch submission
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

 â¯ src/__tests__/runtime/guard-isolation.test.ts  (23 tests | 3 failed) 7ms
   â¯ src/__tests__/runtime/guard-isolation.test.ts > Guard Isolation - Context Freezing > creates frozen context that cannot be modified during guard execution
     â†’ isFrozen is not a function
   â¯ src/__tests__/runtime/guard-isolation.test.ts > Isolated Guard Executor > captures guard execution time
     â†’ expected 0 to be greater than 0
   â¯ src/__tests__/runtime/guard-isolation.test.ts > Threat T2 Mitigation - Integration Tests > enforces context immutability during guard execution
     â†’ expected 'Executing' to be 'Preparing' // Object.is equality
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should execute valid agent task
[36m[2025-11-08T17:32:07.112Z] INFO    [2/5] Preparing execution environment...[0m

 âœ“ src/database/dao/__tests__/TelemetryDAO.test.ts  (28 tests) 211ms
stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > saveEvent > should save a telemetry event
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > saveEvent > should save event without event data
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > saveEvent > should return different IDs for different events
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > batchInsertEvents > should insert multiple events in a transaction
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > batchInsertEvents > should handle empty array
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEvents > should retrieve all events
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEvents > should order events by timestamp DESC
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEvents > should filter by date range
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEvents > should limit results to 1000
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEventsBySession > should retrieve events for specific session
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEventsBySession > should return empty array for non-existent session
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEventsByType > should retrieve events by type
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getEventsByType > should respect limit parameter
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > clearAllEvents > should delete all events
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > clearEventsBefore > should delete events before specified date
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > saveStats > should save statistics
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > saveStats > should upsert existing statistics
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getStats > should retrieve all stats
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getStats > should filter by date range
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > getStatsByType > should retrieve stats by type
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > config management > should save and retrieve config
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > config management > should return null when no config exists
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > config management > should update existing config
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > aggregateStats > should aggregate command statistics
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > aggregateStats > should aggregate query statistics
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > aggregateStats > should aggregate error statistics
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > privacy guarantees > should not store full error messages
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/TelemetryDAO.test.ts > TelemetryDAO > privacy guarantees > should handle missing event data
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

 â¯ src/parser/__tests__/PhpParserService.test.ts  (25 tests | 1 failed) 27ms
   â¯ src/parser/__tests__/PhpParserService.test.ts > PhpParserService > parse > should extract constants
     â†’ expected 0 to be greater than or equal to 1
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should execute valid agent task
[36m[2025-11-08T17:32:07.212Z] INFO    [3/5] Analyzing task requirements...[0m

 âœ“ src/parser/__tests__/GoParserService.test.ts  (24 tests) 13ms
 â¯ src/parser/__tests__/SqlParserService.test.ts  (21 tests | 3 failed) 32ms
   â¯ src/parser/__tests__/SqlParserService.test.ts > SqlParserService > parse > should extract CREATE PROCEDURE statements
     â†’ expected 0 to be greater than or equal to 2
   â¯ src/parser/__tests__/SqlParserService.test.ts > SqlParserService > parse > should handle materialized views
     â†’ expected 0 to be greater than or equal to 1
   â¯ src/parser/__tests__/SqlParserService.test.ts > SqlParserService > fixtures > should parse sample-sql-basic.sql
     â†’ expected 3 to be greater than or equal to 5
 âœ“ src/parser/__tests__/JavaParserService.test.ts  (22 tests) 13ms
 âœ“ src/parser/__tests__/AssemblyScriptParserService.test.ts  (20 tests) 27ms
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should execute valid agent task
[36m[2025-11-08T17:32:07.314Z] INFO    [4/5] Executing task...[0m

 âœ“ src/services/__tests__/RateLimiter.test.ts  (40 tests) 7ms
 âœ“ src/cli/commands/__tests__/config.test.ts  (11 tests) 5ms
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should execute valid agent task
[36m[2025-11-08T17:32:07.415Z] INFO    [5/5] Validating results...[0m

 âœ“ src/parser/__tests__/HtmlParserService.test.ts  (20 tests) 33ms
stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > enqueues tracked events for remote submission
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > forceSubmission sends events and clears queue on success
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > submissions include correct payload and headers
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > forceSubmission returns null when no events are queued
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > background timer flushes queue automatically
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

 âœ“ src/services/__tests__/ConfigLoader.test.ts  (22 tests) 18ms
 â¯ src/__tests__/runtime/transition-validator.test.ts  (15 tests | 13 failed) 8ms
   â¯ src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Pre-Condition Validation > validates source state accepts correct events
     â†’ makeTaskSubmissionEvent is not a function
   â¯ src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Pre-Condition Validation > rejects invalid source state and event combinations
     â†’ expected 'Invalid transition from undefined to â€¦' to contain 'Idle state only accepts TaskSubmitted'
   â¯ src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Pre-Condition Validation > validates context requirements for DependenciesReady event
     â†’ expected 'Invalid transition from undefined to â€¦' to contain 'DependenciesReady event requires contâ€¦'
   â¯ src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Pre-Condition Validation > validates context requirements for CancelRequest event
     â†’ makeCancellationEvent is not a function
   â¯ src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Pre-Condition Validation > validates guard verdict allows transition from Preparing to Executing
     â†’ expected 'Invalid transition from undefined to â€¦' to contain 'Guard verdict blocked transition'
   â¯ src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Post-Condition Validation > validates correct destination state for transitions
     â†’ expected { TAG: 'Invalid', â€¦(1) } to be 'Valid' // Object.is equality
   â¯ src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Post-Condition Validation > rejects invalid destination states for transitions
     â†’ expected 'Invalid transition from undefined to â€¦' to contain 'Invalid transition from BOOTSTRAPPINGâ€¦'
   â¯ src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Post-Condition Validation > validates rollback effects are only used for Failed/Canceled states
     â†’ expected 'Invalid transition from undefined to â€¦' to contain 'PerformRollback effect should only beâ€¦'
   â¯ src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Comprehensive Validation > validates complete transition pipeline with all checks
     â†’ expected { TAG: 'Invalid', â€¦(1) } to be 'Valid' // Object.is equality
   â¯ src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Error Recovery > determines rollback strategy for timeout errors
     â†’ expected undefined to be 'FullRollback' // Object.is equality
   â¯ src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Error Recovery > determines rollback strategy for rule violations
     â†’ expected undefined to be 'CompensateWithEffects' // Object.is equality
   â¯ src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Error Recovery > determines rollback strategy for cancellations
     â†’ makeCancellationEvent is not a function
   â¯ src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Error Recovery > aborts transition after too many retry attempts
     â†’ expected undefined to be 'AbortTransition' // Object.is equality
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should execute valid agent task
[32m[2025-11-08T17:32:07.516Z] SUCCESS Task completed successfully![0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle streaming output
[36m[2025-11-08T17:32:07.518Z] INFO    Starting agent execution: backend[0m
[36m[2025-11-08T17:32:07.518Z] INFO    Searching memory for relevant context...[0m
[36m[2025-11-08T17:32:07.518Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-08T17:32:07.518Z] INFO    Executing task...[0m
[36m[2025-11-08T17:32:07.518Z] INFO    [1/5] Loading agent configuration...[0m

 âœ“ src/services/__tests__/RetryManager.test.ts  (30 tests) 4ms
stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > rate limiter stops submissions when tokens are unavailable
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)
Rate limited, wait 5000ms before next submission

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > failed HTTP response schedules retry with metadata
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > events retry successfully after waiting past nextRetryAt
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > events are dropped when retry budget is exhausted
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > queue stats distinguish pending versus retrying entries
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > clearQueue removes pending events and reports total removed
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > clearQueue returns zero when nothing is queued
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > submission client exceptions keep events queued for later processing
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)
Submission failed: Error: boom
    at /Users/akiralam/code/automatosx2/src/services/__tests__/TelemetryServiceIntegration.test.ts:283:79
    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
    at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)
    at file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)
    at run (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:105:3)
    at runBaseTests (file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/vendor/base.Ybri3C14.js:30:3)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > queued events persist across service reinitialization
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > submissions are limited to 10 events per batch
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > network rejection records error and retains queue entry
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > retry count increments after consecutive failures
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > rate limiter allows submission after initial denial
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)
Rate limited, wait 2000ms before next submission

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > clearQueue removes entries even when waiting for retry
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/services/__tests__/TelemetryServiceIntegration.test.ts > TelemetryService remote integration > forceSubmission after disabling remote returns null but preserves queue
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

 âœ“ src/services/__tests__/TelemetryServiceIntegration.test.ts  (20 tests) 146ms
 âœ“ src/parser/__tests__/SwiftParserService.test.ts  (20 tests) 18ms
 âœ“ src/__tests__/runtime/rule-engine.test.ts  (14 tests) 2ms
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle streaming output
[36m[2025-11-08T17:32:07.619Z] INFO    [2/5] Preparing execution environment...[0m

 âœ“ src/__tests__/runtime/dependency-validation.test.ts  (10 tests) 2ms
 âœ“ src/services/__tests__/QueryRouter.test.ts  (38 tests) 4ms
 âœ“ src/__tests__/runtime/metadata-validation.test.ts  (15 tests) 3ms
 âœ“ src/parser/__tests__/PythonParserService.test.ts  (17 tests) 10ms
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle streaming output
[36m[2025-11-08T17:32:07.720Z] INFO    [3/5] Analyzing task requirements...[0m

 âœ“ src/services/__tests__/QueryFilterParser.test.ts  (26 tests) 5ms
 âœ“ src/__tests__/runtime/event-auth.test.ts  (14 tests) 2ms
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle streaming output
[36m[2025-11-08T17:32:07.820Z] INFO    [4/5] Executing task...[0m

 âœ“ src/parser/__tests__/CppParserService.test.ts  (18 tests) 19ms
 âœ“ src/cli/utils/__tests__/ErrorHandler.test.ts  (20 tests) 3ms
 âœ“ src/database/dao/__tests__/ChunkDAO.test.ts  (11 tests) 66ms
stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > insert > should insert a new chunk
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > search (FTS5) > should find chunks by single term
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > search (FTS5) > should find chunks with boolean OR
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > search (FTS5) > should find chunks with boolean AND
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > search (FTS5) > should return empty for no matches
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > search (FTS5) > should rank results by BM25
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > search (FTS5) > should respect limit parameter
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > findByFileId > should find all chunks for a file
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > deleteByFileId > should delete all chunks for a file
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > FTS5 synchronization > should automatically index new chunks in FTS5
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/ChunkDAO.test.ts > ChunkDAO > FTS5 synchronization > should remove from FTS5 when chunk deleted
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle streaming output
[36m[2025-11-08T17:32:07.922Z] INFO    [5/5] Validating results...[0m

 âœ“ src/__tests__/runtime/rule-parser.test.ts  (14 tests) 3ms
 â¯ src/__tests__/runtime/effect-runtime.test.ts  (10 tests | 7 failed) 4ms
   â¯ src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Effect Execution > executes plan hydration effect successfully
     â†’ createInitialContext is not a function
   â¯ src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Effect Execution > executes guard evaluation effect successfully
     â†’ createInitialContext is not a function
   â¯ src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Effect Execution > executes task execution effect successfully
     â†’ createInitialContext is not a function
   â¯ src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Sequential Effect Execution > executes multiple effects sequentially
     â†’ createInitialContext is not a function
   â¯ src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Sequential Effect Execution > executes multiple effects concurrently
     â†’ createInitialContext is not a function
   â¯ src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Runtime State Management > tracks successful effect executions
     â†’ createInitialContext is not a function
   â¯ src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Runtime State Management > reports runtime statistics correctly
     â†’ createInitialContext is not a function
 âœ“ src/cache/__tests__/SimpleQueryCache.test.ts  (19 tests) 177ms
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle streaming output
[32m[2025-11-08T17:32:08.023Z] SUCCESS Task completed successfully![0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should respect verbose flag
[36m[2025-11-08T17:32:08.023Z] INFO    Starting agent execution: backend[0m
[90m[2025-11-08T17:32:08.023Z] DEBUG   Configuration[0m
  {
    "agent": "backend",
    "provider": "default",
    "streaming": false,
    "parallel": false,
    "resumable": false,
    "useMemory": true
  }
[90m[2025-11-08T17:32:08.023Z] DEBUG   Loading agent: backend[0m
[36m[2025-11-08T17:32:08.023Z] INFO    Searching memory for relevant context...[0m
[90m[2025-11-08T17:32:08.023Z] DEBUG   Memory search limit: 10[0m
[36m[2025-11-08T17:32:08.023Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-08T17:32:08.023Z] INFO    Executing task...[0m
[90m[2025-11-08T17:32:08.023Z] DEBUG   Task: Test task[0m
[36m[2025-11-08T17:32:08.023Z] INFO    [1/5] Loading agent configuration...[0m

 âœ“ src/__tests__/runtime/manifest-validation.test.ts  (10 tests) 2ms
 â¯ src/services/__tests__/FileService-Cache.test.ts  (6 tests | 6 failed) 45ms
   â¯ src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should cache search results
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should provide significant speedup for cached queries
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should cache different queries separately
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should invalidate cache after indexing new file
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should clear cache manually
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should respect different query parameters
     â†’ no such table: files
 â¯ src/services/__tests__/FileService-Filters.simple.test.ts  (10 tests | 9 failed) 9ms
   â¯ src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should index files with different languages
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should find TypeScript symbols with lang:typescript filter
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should find Python symbols with lang:python filter
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should exclude languages with -lang:python
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should filter by kind:class
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should filter by kind:function
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should filter by file pattern (file:*.ts)
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should apply combined filters (lang:typescript kind:class)
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should work without filters
     â†’ no such table: files
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should respect verbose flag
[36m[2025-11-08T17:32:08.124Z] INFO    [2/5] Preparing execution environment...[0m

 âœ“ src/__tests__/runtime/harness.test.ts  (3 tests) 2ms
 âœ“ src/database/dao/__tests__/FileDAO.test.ts  (13 tests) 76ms
stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > insert > should insert a new file
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > insert > should return different IDs for different files
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > findByPath > should find file by path
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > findByPath > should return undefined for non-existent path
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > update > should update file content
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > update > should update file path
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > delete > should delete file by ID
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > delete > should delete nothing if ID does not exist
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > findAll > should return empty array when no files
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > findAll > should return all files
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > clear > should delete all files
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > count > should return 0 when no files
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/database/dao/__tests__/FileDAO.test.ts > FileDAO > count > should return correct count
Running database migrations...
  Found 6 pending migration(s)
  Applying migration: 001_create_files_table.sql
  âœ“ Applied: 001_create_files_table.sql
  Applying migration: 002_create_symbols_table.sql
  âœ“ Applied: 002_create_symbols_table.sql
  Applying migration: 003_create_chunks_tables.sql
  âœ“ Applied: 003_create_chunks_tables.sql
  Applying migration: 004_performance_indices.sql
  âœ“ Applied: 004_performance_indices.sql
  Applying migration: 005_create_telemetry_tables.sql
  âœ“ Applied: 005_create_telemetry_tables.sql
  Applying migration: 006_create_telemetry_queue.sql
  âœ“ Applied: 006_create_telemetry_queue.sql
âœ“ Migrations complete (6 applied)

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should respect verbose flag
[36m[2025-11-08T17:32:08.225Z] INFO    [3/5] Analyzing task requirements...[0m

 â¯ src/services/__tests__/FileService-Python.simple.test.ts  (3 tests | 3 failed) 6ms
   â¯ src/services/__tests__/FileService-Python.simple.test.ts > FileService - Python End-to-End > should index and retrieve Python file with classes and functions
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Python.simple.test.ts > FileService - Python End-to-End > should distinguish Python functions from methods
     â†’ no such table: files
   â¯ src/services/__tests__/FileService-Python.simple.test.ts > FileService - Python End-to-End > should index both TypeScript and Python files correctly
     â†’ no such table: files
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should respect verbose flag
[36m[2025-11-08T17:32:08.326Z] INFO    [4/5] Executing task...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should respect verbose flag
[36m[2025-11-08T17:32:08.427Z] INFO    [5/5] Validating results...[0m

 â¯ src/__tests__/services-and-cache.test.ts  (41 tests | 2 failed) 1372ms
   â¯ src/__tests__/services-and-cache.test.ts > ProviderRouter > should update health metrics on success
     â†’ Unhandled error. ({
  provider: 'claude',
  attempt: 1,
  error: Error: Request timeout
      at ProviderRouter.callProviderAPI (/Users/akiralam/code/automatosx2/src/services/ProviderRouter.ts:212:13)
      at ProviderRouter.executeRequest (/Users/akiralam/code/automatosx2/src/services/ProviderRouter.ts:183:22)
      at ProviderRouter.request (/Users/akiralam/code/automatosx2/src/services/ProviderRouter.ts:141:28)
      at /Users/akiralam/code/automatosx2/src/__tests__/services-and-cache.test.ts:53:5
      at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
      at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
      at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
      at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
      at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)
      at file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
})
   â¯ src/__tests__/services-and-cache.test.ts > MemoryCache > should evict LRU entry when full
     â†’ expected false to be true // Object.is equality
stdout | src/cli/__tests__/commands.test.ts > RunCommand > should respect verbose flag
[32m[2025-11-08T17:32:08.527Z] SUCCESS Task completed successfully![0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should output JSON when requested
[36m[2025-11-08T17:32:08.527Z] INFO    Starting agent execution: backend[0m
[36m[2025-11-08T17:32:08.527Z] INFO    Searching memory for relevant context...[0m
[36m[2025-11-08T17:32:08.527Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-08T17:32:08.527Z] INFO    Executing task...[0m
[36m[2025-11-08T17:32:08.527Z] INFO    [1/5] Loading agent configuration...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should output JSON when requested
[36m[2025-11-08T17:32:08.628Z] INFO    [2/5] Preparing execution environment...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should output JSON when requested
[36m[2025-11-08T17:32:08.729Z] INFO    [3/5] Analyzing task requirements...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should output JSON when requested
[36m[2025-11-08T17:32:08.831Z] INFO    [4/5] Executing task...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should output JSON when requested
[36m[2025-11-08T17:32:08.932Z] INFO    [5/5] Validating results...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should output JSON when requested
[32m[2025-11-08T17:32:09.034Z] SUCCESS Task completed successfully![0m
{
  "success": true,
  "agent": "backend",
  "task": "Test task",
  "timestamp": "2025-11-08T17:32:09.034Z"
}

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle timeout parameter
[36m[2025-11-08T17:32:09.037Z] INFO    Starting agent execution: backend[0m
[36m[2025-11-08T17:32:09.037Z] INFO    Searching memory for relevant context...[0m
[36m[2025-11-08T17:32:09.037Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-08T17:32:09.037Z] INFO    Executing task...[0m
[36m[2025-11-08T17:32:09.037Z] INFO    [1/5] Loading agent configuration...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle timeout parameter
[36m[2025-11-08T17:32:09.139Z] INFO    [2/5] Preparing execution environment...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle timeout parameter
[36m[2025-11-08T17:32:09.239Z] INFO    [3/5] Analyzing task requirements...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle timeout parameter
[36m[2025-11-08T17:32:09.341Z] INFO    [4/5] Executing task...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle timeout parameter
[36m[2025-11-08T17:32:09.441Z] INFO    [5/5] Validating results...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle timeout parameter
[32m[2025-11-08T17:32:09.543Z] SUCCESS Task completed successfully![0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle memory configuration
[36m[2025-11-08T17:32:09.543Z] INFO    Starting agent execution: backend[0m
[36m[2025-11-08T17:32:09.543Z] INFO    Searching memory for relevant context...[0m
[36m[2025-11-08T17:32:09.543Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-08T17:32:09.543Z] INFO    Executing task...[0m
[36m[2025-11-08T17:32:09.543Z] INFO    [1/5] Loading agent configuration...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle memory configuration
[36m[2025-11-08T17:32:09.645Z] INFO    [2/5] Preparing execution environment...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle memory configuration
[36m[2025-11-08T17:32:09.746Z] INFO    [3/5] Analyzing task requirements...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle memory configuration
[36m[2025-11-08T17:32:09.848Z] INFO    [4/5] Executing task...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle memory configuration
[36m[2025-11-08T17:32:09.949Z] INFO    [5/5] Validating results...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle memory configuration
[32m[2025-11-08T17:32:10.050Z] SUCCESS Task completed successfully![0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle provider override
[36m[2025-11-08T17:32:10.052Z] INFO    Starting agent execution: backend[0m
[36m[2025-11-08T17:32:10.052Z] INFO    Searching memory for relevant context...[0m
[36m[2025-11-08T17:32:10.052Z] INFO    Initializing agent orchestrator...[0m
[36m[2025-11-08T17:32:10.052Z] INFO    Executing task...[0m
[36m[2025-11-08T17:32:10.052Z] INFO    [1/5] Loading agent configuration...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle provider override
[36m[2025-11-08T17:32:10.153Z] INFO    [2/5] Preparing execution environment...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle provider override
[36m[2025-11-08T17:32:10.254Z] INFO    [3/5] Analyzing task requirements...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle provider override
[36m[2025-11-08T17:32:10.355Z] INFO    [4/5] Executing task...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle provider override
[36m[2025-11-08T17:32:10.455Z] INFO    [5/5] Validating results...[0m

stdout | src/cli/__tests__/commands.test.ts > RunCommand > should handle provider override
[32m[2025-11-08T17:32:10.557Z] SUCCESS Task completed successfully![0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should search memory with basic query
[36m[2025-11-08T17:32:11.066Z] INFO    Searching memory: "authentication implementation"[0m
[36m[2025-11-08T17:32:11.066Z] INFO    Executing search query...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should search memory with basic query
[36m[2025-11-08T17:32:11.117Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%


stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should filter by agent
[36m[2025-11-08T17:32:11.118Z] INFO    Searching memory: "test query"[0m
[36m[2025-11-08T17:32:11.118Z] INFO    Executing search query...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should filter by agent
[36m[2025-11-08T17:32:11.169Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%


stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle pagination
[36m[2025-11-08T17:32:11.170Z] INFO    Searching memory: "test query"[0m
[36m[2025-11-08T17:32:11.170Z] INFO    Executing search query...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle pagination
[36m[2025-11-08T17:32:11.221Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%


stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should output JSON format
[36m[2025-11-08T17:32:11.222Z] INFO    Searching memory: "test query"[0m
[36m[2025-11-08T17:32:11.222Z] INFO    Executing search query...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should output JSON format
[36m[2025-11-08T17:32:11.273Z] INFO    Found 2 results[0m
[
  {
    "id": "1",
    "agent": "backend",
    "query": "authentication",
    "timestamp": "2025-01-08T10:00:00Z",
    "relevance": 0.95
  },
  {
    "id": "2",
    "agent": "backend",
    "query": "user login",
    "timestamp": "2025-01-07T14:30:00Z",
    "relevance": 0.87
  }
]

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should output table format
[36m[2025-11-08T17:32:11.273Z] INFO    Searching memory: "test query"[0m
[36m[2025-11-08T17:32:11.273Z] INFO    Executing search query...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should output table format
[36m[2025-11-08T17:32:11.324Z] INFO    Found 2 results[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ID   â”‚ Agent      â”‚ Timestamp           â”‚ Relevance â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1    â”‚ backend    â”‚ 2025-01-08T10:00:00 â”‚ 95%      â”‚
â”‚ 2    â”‚ backend    â”‚ 2025-01-07T14:30:00 â”‚ 87%      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle date filtering
[36m[2025-11-08T17:32:11.325Z] INFO    Searching memory: "test query"[0m
[36m[2025-11-08T17:32:11.325Z] INFO    Executing search query...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle date filtering
[36m[2025-11-08T17:32:11.376Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%


stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle exact match mode
[36m[2025-11-08T17:32:11.376Z] INFO    Searching memory: "exact phrase"[0m
[36m[2025-11-08T17:32:11.376Z] INFO    Executing search query...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle exact match mode
[36m[2025-11-08T17:32:11.427Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%


stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle sort options
[36m[2025-11-08T17:32:11.427Z] INFO    Searching memory: "test query"[0m
[36m[2025-11-08T17:32:11.427Z] INFO    Executing search query...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle sort options
[36m[2025-11-08T17:32:11.477Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%


stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle verbose mode
[36m[2025-11-08T17:32:11.477Z] INFO    Searching memory: "test query"[0m
[90m[2025-11-08T17:32:11.477Z] DEBUG   Search parameters[0m
  {
    "query": "test query",
    "limit": 10,
    "offset": 0,
    "sortBy": "relevance",
    "exactMatch": false
  }
[36m[2025-11-08T17:32:11.477Z] INFO    Executing search query...[0m
[90m[2025-11-08T17:32:11.477Z] DEBUG   Querying SQLite FTS5 index...[0m

stdout | src/cli/__tests__/commands.test.ts > MemorySearchCommand > should handle verbose mode
[36m[2025-11-08T17:32:11.529Z] INFO    Found 2 results[0m

1. [backend] 2025-01-08T10:00:00Z
   Relevance: 95%
   ID: 1

2. [backend] 2025-01-07T14:30:00Z
   Relevance: 87%
   ID: 2


stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should list all agents
[36m[2025-11-08T17:32:11.595Z] INFO    Found 4 agents[0m

1. backend [âœ“] (development)
   Backend development specialist

2. frontend [âœ“] (development)
   Frontend development specialist

3. product [âœ“] (leadership)
   Product management and planning

4. quality [âœ“] (development)
   QA and testing specialist


stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should filter by category
[36m[2025-11-08T17:32:11.647Z] INFO    Found 3 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should output table format
[36m[2025-11-08T17:32:11.698Z] INFO    Found 4 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚ product       â”‚ leadership    â”‚ âœ“       â”‚ 8        â”‚
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should output JSON format
[36m[2025-11-08T17:32:11.749Z] INFO    Found 4 agents[0m
[
  {
    "name": "backend",
    "category": "development",
    "enabled": true,
    "priority": 10,
    "description": "Backend development specialist",
    "capabilities": [
      "Go",
      "Rust",
      "API design",
      "Database design"
    ]
  },
  {
    "name": "frontend",
    "category": "development",
    "enabled": true,
    "priority": 9,
    "description": "Frontend development specialist",
    "capabilities": [
      "React",
      "TypeScript",
      "Next.js",
      "UI/UX"
    ]
  },
  {
    "name": "product",
    "category": "leadership",
    "enabled": true,
    "priority": 8,
    "description": "Product management and planning",
    "capabilities": [
      "PRD writing",
      "Feature planning",
      "Roadmap design"
    ]
  },
  {
    "name": "quality",
    "category": "development",
    "enabled": true,
    "priority": 7,
    "description": "QA and testing specialist",
    "capabilities": [
      "Test automation",
      "Quality assurance",
      "Bug tracking"
    ]
  }
]

stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should sort by name
[36m[2025-11-08T17:32:11.801Z] INFO    Found 4 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚ product       â”‚ leadership    â”‚ âœ“       â”‚ 8        â”‚
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should sort by priority
[36m[2025-11-08T17:32:11.853Z] INFO    Found 4 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚ product       â”‚ leadership    â”‚ âœ“       â”‚ 8        â”‚
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should show capabilities
[36m[2025-11-08T17:32:11.904Z] INFO    Found 4 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚   Capabilities: Go, Rust, API design, Database design
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚   Capabilities: React, TypeScript, Next.js, UI/UX
â”‚ product       â”‚ leadership    â”‚ âœ“       â”‚ 8        â”‚
â”‚   Capabilities: PRD writing, Feature planning, Roadmap design
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â”‚   Capabilities: Test automation, Quality assurance, Bug tracking
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should filter by enabled status
[36m[2025-11-08T17:32:11.956Z] INFO    Found 4 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚ product       â”‚ leadership    â”‚ âœ“       â”‚ 8        â”‚
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should handle verbose mode
[90m[2025-11-08T17:32:11.957Z] DEBUG   Loading agent catalog...[0m
[90m[2025-11-08T17:32:11.957Z] DEBUG   Reading .automatosx/agents/ directory...[0m

stdout | src/cli/__tests__/commands.test.ts > ListAgentsCommand > should handle verbose mode
[90m[2025-11-08T17:32:12.008Z] DEBUG   Sorting by: name[0m
[36m[2025-11-08T17:32:12.008Z] INFO    Found 4 agents[0m

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name          â”‚ Category      â”‚ Enabled â”‚ Priority â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ backend       â”‚ development   â”‚ âœ“       â”‚ 10        â”‚
â”‚ frontend      â”‚ development   â”‚ âœ“       â”‚ 9        â”‚
â”‚ product       â”‚ leadership    â”‚ âœ“       â”‚ 8        â”‚
â”‚ quality       â”‚ development   â”‚ âœ“       â”‚ 7        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should show system status
[36m[2025-11-08T17:32:12.010Z] INFO    Running system health checks...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should show system status

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-08T17:32:12.011Z

[32mâœ“[0m memory: healthy
[32mâœ“[0m providers: healthy
[32mâœ“[0m agents: healthy
[32mâœ“[0m cache: healthy
[32mâœ“[0m filesystem: healthy


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should check memory health
[36m[2025-11-08T17:32:12.268Z] INFO    Running system health checks...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should check memory health

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-08T17:32:12.268Z

[32mâœ“[0m memory: healthy
[32mâœ“[0m providers: healthy
[32mâœ“[0m agents: healthy
[32mâœ“[0m cache: healthy
[32mâœ“[0m filesystem: healthy


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should check providers health
[36m[2025-11-08T17:32:12.521Z] INFO    Running system health checks...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should check providers health

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-08T17:32:12.521Z

[32mâœ“[0m memory: healthy
[32mâœ“[0m providers: healthy
[32mâœ“[0m agents: healthy
[32mâœ“[0m cache: healthy
[32mâœ“[0m filesystem: healthy


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should output JSON format
[36m[2025-11-08T17:32:12.776Z] INFO    Running system health checks...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should output JSON format
{
  "overall": "healthy",
  "timestamp": "2025-11-08T17:32:12.776Z",
  "checks": {
    "memory": {
      "status": "healthy",
      "dbSize": "2.4 MB",
      "records": 1247,
      "lastBackup": "2025-01-08T09:00:00Z"
    },
    "providers": {
      "status": "healthy",
      "providers": {
        "claude": {
          "available": true,
          "latency": 145
        },
        "gemini": {
          "available": true,
          "latency": 189
        },
        "openai": {
          "available": true,
          "latency": 167
        }
      }
    },
    "agents": {
      "status": "healthy",
      "totalAgents": 20,
      "enabledAgents": 18,
      "catalogVersion": "1.0.0"
    },
    "cache": {
      "status": "healthy",
      "hitRate": 0.73,
      "size": 847,
      "maxSize": 1000
    },
    "filesystem": {
      "status": "healthy",
      "readPermissions": true,
      "writePermissions": true,
      "diskSpace": "45.2 GB available"
    }
  }
}

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should show metrics
[36m[2025-11-08T17:32:13.030Z] INFO    Running system health checks...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should show metrics

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-08T17:32:13.030Z

[32mâœ“[0m memory: healthy
  dbSize: "2.4 MB"
  records: 1247
  lastBackup: "2025-01-08T09:00:00Z"
[32mâœ“[0m providers: healthy
  providers: {"claude":{"available":true,"latency":145},"gemini":{"available":true,"latency":189},"openai":{"available":true,"latency":167}}
[32mâœ“[0m agents: healthy
  totalAgents: 20
  enabledAgents: 18
  catalogVersion: "1.0.0"
[32mâœ“[0m cache: healthy
  hitRate: 0.73
  size: 847
  maxSize: 1000
[32mâœ“[0m filesystem: healthy
  readPermissions: true
  writePermissions: true
  diskSpace: "45.2 GB available"


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle verbose mode
[36m[2025-11-08T17:32:13.287Z] INFO    Running system health checks...[0m
[90m[2025-11-08T17:32:13.287Z] DEBUG   Checking memory database...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle verbose mode
[90m[2025-11-08T17:32:13.338Z] DEBUG   Checking AI providers...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle verbose mode
[90m[2025-11-08T17:32:13.389Z] DEBUG   Checking agent catalog...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle verbose mode
[90m[2025-11-08T17:32:13.440Z] DEBUG   Checking cache system...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle verbose mode
[90m[2025-11-08T17:32:13.492Z] DEBUG   Checking filesystem permissions...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle verbose mode

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-08T17:32:13.287Z

[32mâœ“[0m memory: healthy
  dbSize: "2.4 MB"
  records: 1247
  lastBackup: "2025-01-08T09:00:00Z"
[32mâœ“[0m providers: healthy
  providers: {"claude":{"available":true,"latency":145},"gemini":{"available":true,"latency":189},"openai":{"available":true,"latency":167}}
[32mâœ“[0m agents: healthy
  totalAgents: 20
  enabledAgents: 18
  catalogVersion: "1.0.0"
[32mâœ“[0m cache: healthy
  hitRate: 0.73
  size: 847
  maxSize: 1000
[32mâœ“[0m filesystem: healthy
  readPermissions: true
  writePermissions: true
  diskSpace: "45.2 GB available"


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should check all components by default
[36m[2025-11-08T17:32:13.544Z] INFO    Running system health checks...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should check all components by default

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-08T17:32:13.544Z

[32mâœ“[0m memory: healthy
[32mâœ“[0m providers: healthy
[32mâœ“[0m agents: healthy
[32mâœ“[0m cache: healthy
[32mâœ“[0m filesystem: healthy


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle cache check
[36m[2025-11-08T17:32:13.800Z] INFO    Running system health checks...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle cache check

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-08T17:32:13.801Z

[32mâœ“[0m memory: healthy
[32mâœ“[0m providers: healthy
[32mâœ“[0m agents: healthy
[32mâœ“[0m cache: healthy
[32mâœ“[0m filesystem: healthy


stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle filesystem check
[36m[2025-11-08T17:32:14.057Z] INFO    Running system health checks...[0m

stdout | src/cli/__tests__/commands.test.ts > StatusCommand > should handle filesystem check

[32mâœ“ System Status: healthy[0m
Timestamp: 2025-11-08T17:32:14.057Z

[32mâœ“[0m memory: healthy
[32mâœ“[0m providers: healthy
[32mâœ“[0m agents: healthy
[32mâœ“[0m cache: healthy
[32mâœ“[0m filesystem: healthy


stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should show full configuration

=== AutomatosX Configuration ===

providers/
  claude/
    enabled: true
    priority: 1
    apiKey: ***hidden***
  gemini/
    enabled: true
    priority: 2
    apiKey: ***hidden***
  openai/
    enabled: false
    priority: 3
    apiKey: null
execution/
  defaultTimeout: 1500000
  maxRetries: 3
  parallelEnabled: true
memory/
  enabled: true
  maxEntries: 10000
  dbPath: ".automatosx/memory/memories.db"
agents/
  autoReload: true
  catalogPath: ".automatosx/agents/"
performance/
  enableCache: true
  cacheMaxSize: 1000
  cacheTTL: 300000

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should show specific key
providers.claude.enabled = true

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should output JSON format
{
  "providers": {
    "claude": {
      "enabled": true,
      "priority": 1,
      "apiKey": "***hidden***"
    },
    "gemini": {
      "enabled": true,
      "priority": 2,
      "apiKey": "***hidden***"
    },
    "openai": {
      "enabled": false,
      "priority": 3,
      "apiKey": null
    }
  },
  "execution": {
    "defaultTimeout": 1500000,
    "maxRetries": 3,
    "parallelEnabled": true
  },
  "memory": {
    "enabled": true,
    "maxEntries": 10000,
    "dbPath": ".automatosx/memory/memories.db"
  },
  "agents": {
    "autoReload": true,
    "catalogPath": ".automatosx/agents/"
  },
  "performance": {
    "enableCache": true,
    "cacheMaxSize": 1000,
    "cacheTTL": 300000
  }
}

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should output YAML format
providers:
  claude:
    enabled: true
    priority: 1
    apiKey: "***hidden***"
  gemini:
    enabled: true
    priority: 2
    apiKey: "***hidden***"
  openai:
    enabled: false
    priority: 3
    apiKey: null
execution:
  defaultTimeout: 1500000
  maxRetries: 3
  parallelEnabled: true
memory:
  enabled: true
  maxEntries: 10000
  dbPath: ".automatosx/memory/memories.db"
agents:
  autoReload: true
  catalogPath: ".automatosx/agents/"
performance:
  enableCache: true
  cacheMaxSize: 1000
  cacheTTL: 300000

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should show defaults

=== AutomatosX Configuration ===

providers/
  claude/
    enabled: true
    priority: 1
    apiKey: ***hidden***
  gemini/
    enabled: true
    priority: 2
    apiKey: ***hidden***
  openai/
    enabled: false
    priority: 3
    apiKey: null
execution/
  defaultTimeout: 1500000
  maxRetries: 3
  parallelEnabled: true
memory/
  enabled: true
  maxEntries: 10000
  dbPath: ".automatosx/memory/memories.db"
agents/
  autoReload: true
  catalogPath: ".automatosx/agents/"
performance/
  enableCache: true
  cacheMaxSize: 1000
  cacheTTL: 300000

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should show sources

=== AutomatosX Configuration ===

providers/
  claude/
    enabled: true
    priority: 1
    apiKey: ***hidden***
  gemini/
    enabled: true
    priority: 2
    apiKey: ***hidden***
  openai/
    enabled: false
    priority: 3
    apiKey: null
execution/
  defaultTimeout: 1500000
  maxRetries: 3
  parallelEnabled: true
memory/
  enabled: true
  maxEntries: 10000
  dbPath: ".automatosx/memory/memories.db"
agents/
  autoReload: true
  catalogPath: ".automatosx/agents/"
performance/
  enableCache: true
  cacheMaxSize: 1000
  cacheTTL: 300000

Configuration Sources:
  1. automatosx.config.json (project root)
  2. Environment variables (AUTOMATOSX_*)
  3. Default values (built-in)


stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should filter by category

=== AutomatosX Configuration ===

providers/
  claude/
    enabled: true
    priority: 1
    apiKey: ***hidden***
  gemini/
    enabled: true
    priority: 2
    apiKey: ***hidden***
  openai/
    enabled: false
    priority: 3
    apiKey: null

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should handle verbose mode
[90m[2025-11-08T17:32:14.673Z] DEBUG   Loading configuration...[0m
[90m[2025-11-08T17:32:14.673Z] DEBUG   Reading automatosx.config.json...[0m

stdout | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should handle verbose mode

=== AutomatosX Configuration ===

providers/
  claude/
    enabled: true
    priority: 1
    apiKey: ***hidden***
  gemini/
    enabled: true
    priority: 2
    apiKey: ***hidden***
  openai/
    enabled: false
    priority: 3
    apiKey: null
execution/
  defaultTimeout: 1500000
  maxRetries: 3
  parallelEnabled: true
memory/
  enabled: true
  maxEntries: 10000
  dbPath: ".automatosx/memory/memories.db"
agents/
  autoReload: true
  catalogPath: ".automatosx/agents/"
performance/
  enableCache: true
  cacheMaxSize: 1000
  cacheTTL: 300000

stderr | src/cli/__tests__/commands.test.ts > ConfigShowCommand > should error on nonexistent key

[31mâœ— Error:[0m Config key "nonexistent.key" not found
[90mCode: CONFIG_NOT_FOUND[0m

[33mSuggestions:[0m
  1. Run `ax config show` to see all available keys
  2. Check for typos in the key name
  3. Use dot notation for nested keys (e.g., providers.claude.enabled)

[90mTimestamp: 2025-11-08T17:32:14.777Z[0m

 â¯ src/cli/__tests__/commands.test.ts  (47 tests | 1 failed) 7778ms
   â¯ src/cli/__tests__/commands.test.ts > ConfigShowCommand > should error on nonexistent key
     â†’ expected [Function] to throw error including 'not found' but got 'process.exit unexpectedly called withâ€¦'

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯ Failed Tests 50 âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯

 FAIL  src/__tests__/services-and-cache.test.ts > ProviderRouter > should update health metrics on success
Error: Unhandled error. ({
  provider: 'claude',
  attempt: 1,
  error: Error: Request timeout
      at ProviderRouter.callProviderAPI (/Users/akiralam/code/automatosx2/src/services/ProviderRouter.ts:212:13)
      at ProviderRouter.executeRequest (/Users/akiralam/code/automatosx2/src/services/ProviderRouter.ts:183:22)
      at ProviderRouter.request (/Users/akiralam/code/automatosx2/src/services/ProviderRouter.ts:141:28)
      at /Users/akiralam/code/automatosx2/src/__tests__/services-and-cache.test.ts:53:5
      at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)
      at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
      at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)
      at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)
      at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)
      at file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
})
 â¯ ProviderRouter.callProviderAPI src/services/ProviderRouter.ts:212:13
    210|     // Check timeout
    211|     if (Math.random() < 0.05 && !this.chaosMode) {
    212|       throw new Error('Request timeout')
       |             ^
    213|     }
    214| 
 â¯ ProviderRouter.executeRequest src/services/ProviderRouter.ts:183:22
 â¯ ProviderRouter.request src/services/ProviderRouter.ts:141:28
 â¯ src/__tests__/services-and-cache.test.ts:53:5
 â¯ ProviderRouter.emit node:events:497:17
 â¯ ProviderRouter.request src/services/ProviderRouter.ts:151:16
 â¯ src/__tests__/services-and-cache.test.ts:53:5

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'ERR_UNHANDLED_ERROR', context: { provider: 'claude', attempt: 1, error: { stack: 'Error: Request timeout\n    at ProviderRouter.callProviderAPI (/Users/akiralam/code/automatosx2/src/services/ProviderRouter.ts:212:13)\n    at ProviderRouter.executeRequest (/Users/akiralam/code/automatosx2/src/services/ProviderRouter.ts:183:22)\n    at ProviderRouter.request (/Users/akiralam/code/automatosx2/src/services/ProviderRouter.ts:141:28)\n    at /Users/akiralam/code/automatosx2/src/__tests__/services-and-cache.test.ts:53:5\n    at runTest (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:781:11)\n    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)\n    at runSuite (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:909:15)\n    at runFiles (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:958:5)\n    at startTests (file:///Users/akiralam/code/automatosx2/node_modules/@vitest/runner/dist/index.js:967:3)\n    at file:///Users/akiralam/code/automatosx2/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7', message: 'Request timeout', constructor: 'Function<Error>', name: 'Error', toString: 'Function<toString>' } } }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/50]âŽ¯

 FAIL  src/__tests__/services-and-cache.test.ts > MemoryCache > should evict LRU entry when full
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ src/__tests__/services-and-cache.test.ts:314:31
    312|     cache.set('key10', 'value10')
    313| 
    314|     expect(cache.has('key0')).toBe(true) // Recently accessed
       |                               ^
    315|     expect(cache.has('key1')).toBe(false) // Should be evicted
    316|     expect(cache.has('key10')).toBe(true) // Newly added

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/50]âŽ¯

 FAIL  src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Effect Execution > executes plan hydration effect successfully
TypeError: createInitialContext is not a function
 â¯ src/__tests__/runtime/effect-runtime.test.ts:11:38
      9|   it('executes plan hydration effect successfully', async () => {
     10|     const context = EffectRuntime.defaultExecutionContext
     11|     const taskContext = StateMachine.createInitialContext()
       |                                      ^
     12|     const effect = StateMachine.createHydratePlanEffect('task-123')
     13| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/50]âŽ¯

 FAIL  src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Effect Execution > executes guard evaluation effect successfully
TypeError: createInitialContext is not a function
 â¯ src/__tests__/runtime/effect-runtime.test.ts:21:38
     19|   it('executes guard evaluation effect successfully', async () => {
     20|     const context = EffectRuntime.defaultExecutionContext
     21|     const taskContext = StateMachine.createInitialContext()
       |                                      ^
     22|     const effect = StateMachine.createEvaluateGuardsEffect()
     23| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[4/50]âŽ¯

 FAIL  src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Effect Execution > executes task execution effect successfully
TypeError: createInitialContext is not a function
 â¯ src/__tests__/runtime/effect-runtime.test.ts:31:38
     29|   it('executes task execution effect successfully', async () => {
     30|     const context = EffectRuntime.defaultExecutionContext
     31|     const taskContext = StateMachine.createInitialContext()
       |                                      ^
     32|     const effect = StateMachine.createStartExecutionEffect('task-123')
     33| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[5/50]âŽ¯

 FAIL  src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Sequential Effect Execution > executes multiple effects sequentially
TypeError: createInitialContext is not a function
 â¯ src/__tests__/runtime/effect-runtime.test.ts:80:38
     78|   it('executes multiple effects sequentially', async () => {
     79|     const context = EffectRuntime.defaultExecutionContext
     80|     const taskContext = StateMachine.createInitialContext()
       |                                      ^
     81| 
     82|     const effects = [

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[6/50]âŽ¯

 FAIL  src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Sequential Effect Execution > executes multiple effects concurrently
TypeError: createInitialContext is not a function
 â¯ src/__tests__/runtime/effect-runtime.test.ts:98:38
     96|   it('executes multiple effects concurrently', async () => {
     97|     const context = EffectRuntime.defaultExecutionContext
     98|     const taskContext = StateMachine.createInitialContext()
       |                                      ^
     99| 
    100|     const effects = [

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[7/50]âŽ¯

 FAIL  src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Runtime State Management > tracks successful effect executions
TypeError: createInitialContext is not a function
 â¯ src/__tests__/runtime/effect-runtime.test.ts:129:38
    127|   it('tracks successful effect executions', async () => {
    128|     const context = EffectRuntime.defaultExecutionContext
    129|     const taskContext = StateMachine.createInitialContext()
       |                                      ^
    130|     let runtime = EffectRuntime.createEffectRuntime(context)
    131| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[8/50]âŽ¯

 FAIL  src/__tests__/runtime/effect-runtime.test.ts > EffectRuntime - Runtime State Management > reports runtime statistics correctly
TypeError: createInitialContext is not a function
 â¯ src/__tests__/runtime/effect-runtime.test.ts:150:38
    148|   it('reports runtime statistics correctly', async () => {
    149|     const context = EffectRuntime.defaultExecutionContext
    150|     const taskContext = StateMachine.createInitialContext()
       |                                      ^
    151|     let runtime = EffectRuntime.createEffectRuntime(context)
    152| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[9/50]âŽ¯

 FAIL  src/__tests__/runtime/guard-isolation.test.ts > Guard Isolation - Context Freezing > creates frozen context that cannot be modified during guard execution
TypeError: isFrozen is not a function
 â¯ src/__tests__/runtime/guard-isolation.test.ts:18:27
     16|     const ctx = createTestContext('Idle', 'DependenciesReady', undefinâ€¦
     17| 
     18|     expect(GuardIsolation.isFrozen(ctx)).toBe(true)
       |                           ^
     19|   })
     20| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[10/50]âŽ¯

 FAIL  src/__tests__/runtime/guard-isolation.test.ts > Isolated Guard Executor > captures guard execution time
AssertionError: expected 0 to be greater than 0
 â¯ src/__tests__/runtime/guard-isolation.test.ts:135:36
    133|     const result = GuardIsolation.executeGuardIsolated(guard, 'test-guâ€¦
    134| 
    135|     expect(result.executionTimeMs).toBeGreaterThan(0)
       |                                    ^
    136|     expect(result.signedVerdict.verdict).toBe('Pass')
    137|   })

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[11/50]âŽ¯

 FAIL  src/__tests__/runtime/guard-isolation.test.ts > Threat T2 Mitigation - Integration Tests > enforces context immutability during guard execution
AssertionError: expected 'Executing' to be 'Preparing' // Object.is equality

- Expected
+ Received

- Preparing
+ Executing

 â¯ src/__tests__/runtime/guard-isolation.test.ts:349:30
    347| 
    348|     // Context should remain unchanged
    349|     expect(ctx.currentState).toBe('Preparing')
       |                              ^
    350|     expect(result.isolated).toBe(true)
    351|   })

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[12/50]âŽ¯

 FAIL  src/__tests__/runtime/security-integration.test.ts > Security Stack Integration - Threat T2 + T4 + T5 > maintains security boundaries in concurrent task execution scenario
AssertionError: expected 'UGFzczo6YXV0aC1ndWFyZDo6VUZKRlVFRlNTVâ€¦' not to be 'UGFzczo6YXV0aC1ndWFyZDo6VUZKRlVFRlNTVâ€¦' // Object.is equality
 â¯ src/__tests__/runtime/security-integration.test.ts:212:49
    210|     expect(result1.signedVerdict.signature).toBeTruthy()
    211|     expect(result2.signedVerdict.signature).toBeTruthy()
    212|     expect(result1.signedVerdict.signature).not.toBe(result2.signedVerâ€¦
       |                                                 ^
    213| 
    214|     // Verify signatures are valid for their respective contexts

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[13/50]âŽ¯

 FAIL  src/__tests__/runtime/security-integration.test.ts > Security Stack Integration - Threat T2 + T4 + T5 > prevents log injection through metadata sanitization
AssertionError: expected 'task-123\nINFO: ADMIN ACCESS GRANTED\â€¦' not to contain '\n'

- Expected
+ Received

- \n
+ task-123\nINFO: ADMIN ACCESS GRANTED\nINFO: Password reset for admin@example.com

 â¯ src/__tests__/runtime/security-integration.test.ts:515:33
    513|     // Sanitized string should have newlines removed
    514|     const sanitizedTaskId = MetadataValidator.sanitizeString(logInjectâ€¦
    515|     expect(sanitizedTaskId).not.toContain('\\n')
       |                                 ^
    516|     expect(sanitizedTaskId).not.toContain('ADMIN ACCESS GRANTED')
    517|   })

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[14/50]âŽ¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Pre-Condition Validation > validates source state accepts correct events
TypeError: makeTaskSubmissionEvent is not a function
 â¯ src/__tests__/runtime/transition-validator.test.ts:14:41
     12| 
     13|     // Idle can only accept TaskSubmitted
     14|     const taskSubmission = StateMachine.makeTaskSubmissionEvent('task-â€¦
       |                                         ^
     15|     const result = TransitionValidator.validateTransition(
     16|       { TAG: 'Idle' },

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[15/50]âŽ¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Pre-Condition Validation > rejects invalid source state and event combinations
AssertionError: expected 'Invalid transition from undefined to â€¦' to contain 'Idle state only accepts TaskSubmitted'

- Expected
+ Received

- Idle state only accepts TaskSubmitted
+ Invalid transition from undefined to undefined

 â¯ src/__tests__/runtime/transition-validator.test.ts:40:23
     38| 
     39|     expect(result.TAG).toBe('Invalid')
     40|     expect(result._0).toContain('Idle state only accepts TaskSubmittedâ€¦
       |                       ^
     41|   })
     42| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[16/50]âŽ¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Pre-Condition Validation > validates context requirements for DependenciesReady event
AssertionError: expected 'Invalid transition from undefined to â€¦' to contain 'DependenciesReady event requires contâ€¦'

- Expected
+ Received

- DependenciesReady event requires context.dependenciesReady = true
+ Invalid transition from undefined to undefined

 â¯ src/__tests__/runtime/transition-validator.test.ts:57:23
     55| 
     56|     expect(result.TAG).toBe('Invalid')
     57|     expect(result._0).toContain('DependenciesReady event requires contâ€¦
       |                       ^
     58|   })
     59| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[17/50]âŽ¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Pre-Condition Validation > validates context requirements for CancelRequest event
TypeError: makeCancellationEvent is not a function
 â¯ src/__tests__/runtime/transition-validator.test.ts:63:38
     61|     // Context without cancellationRequested flag
     62|     const invalidContext = StateMachine.makeContext(undefined, undefinâ€¦
     63|     const cancelEvent = StateMachine.makeCancellationEvent('user-123')
       |                                      ^
     64| 
     65|     const result = TransitionValidator.validateTransition(

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[18/50]âŽ¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Pre-Condition Validation > validates guard verdict allows transition from Preparing to Executing
AssertionError: expected 'Invalid transition from undefined to â€¦' to contain 'Guard verdict blocked transition'

- Expected
+ Received

- Guard verdict blocked transition
+ Invalid transition from undefined to undefined

 â¯ src/__tests__/runtime/transition-validator.test.ts:96:23
     94| 
     95|     expect(result.TAG).toBe('Invalid')
     96|     expect(result._0).toContain('Guard verdict blocked transition')
       |                       ^
     97|   })
     98| })

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[19/50]âŽ¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Post-Condition Validation > validates correct destination state for transitions
AssertionError: expected { TAG: 'Invalid', â€¦(1) } to be 'Valid' // Object.is equality

- Expected: 
"Valid"

+ Received: 
Object {
  "TAG": "Invalid",
  "_0": "Invalid transition from undefined to undefined",
}

 â¯ src/__tests__/runtime/transition-validator.test.ts:114:20
    112|     )
    113| 
    114|     expect(result).toBe('Valid')
       |                    ^
    115|   })
    116| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[20/50]âŽ¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Post-Condition Validation > rejects invalid destination states for transitions
AssertionError: expected 'Invalid transition from undefined to â€¦' to contain 'Invalid transition from BOOTSTRAPPINGâ€¦'

- Expected
+ Received

- Invalid transition from BOOTSTRAPPING to EXECUTING
+ Invalid transition from undefined to undefined

 â¯ src/__tests__/runtime/transition-validator.test.ts:131:23
    129| 
    130|     expect(result.TAG).toBe('Invalid')
    131|     expect(result._0).toContain('Invalid transition from BOOTSTRAPPINGâ€¦
       |                       ^
    132|   })
    133| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[21/50]âŽ¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Post-Condition Validation > validates rollback effects are only used for Failed/Canceled states
AssertionError: expected 'Invalid transition from undefined to â€¦' to contain 'PerformRollback effect should only beâ€¦'

- Expected
+ Received

- PerformRollback effect should only be used when transitioning to Failed or Canceled
+ Invalid transition from undefined to undefined

 â¯ src/__tests__/runtime/transition-validator.test.ts:148:30
    146| 
    147|     expect(invalidResult.TAG).toBe('Invalid')
    148|     expect(invalidResult._0).toContain('PerformRollback effect should â€¦
       |                              ^
    149| 
    150|     // Rollback effect with Failed state should be valid

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[22/50]âŽ¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Comprehensive Validation > validates complete transition pipeline with all checks
AssertionError: expected { TAG: 'Invalid', â€¦(1) } to be 'Valid' // Object.is equality

- Expected: 
"Valid"

+ Received: 
Object {
  "TAG": "Invalid",
  "_0": "Invalid transition from undefined to undefined",
}

 â¯ src/__tests__/runtime/transition-validator.test.ts:186:20
    184|     )
    185| 
    186|     expect(result).toBe('Valid')
       |                    ^
    187|   })
    188| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[23/50]âŽ¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Error Recovery > determines rollback strategy for timeout errors
AssertionError: expected undefined to be 'FullRollback' // Object.is equality

- Expected: 
"FullRollback"

+ Received: 
undefined

 â¯ src/__tests__/runtime/transition-validator.test.ts:233:26
    231| 
    232|     // Timeout should trigger full rollback
    233|     expect(strategy.TAG).toBe('FullRollback')
       |                          ^
    234|     expect(strategy._0.TAG).toBe('Executing')
    235|     expect(strategy._1.length).toBeGreaterThan(0)

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[24/50]âŽ¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Error Recovery > determines rollback strategy for rule violations
AssertionError: expected undefined to be 'CompensateWithEffects' // Object.is equality

- Expected: 
"CompensateWithEffects"

+ Received: 
undefined

 â¯ src/__tests__/runtime/transition-validator.test.ts:249:26
    247| 
    248|     // Rule violations should trigger compensating effects
    249|     expect(strategy.TAG).toBe('CompensateWithEffects')
       |                          ^
    250|     expect(strategy._0.length).toBe(2)
    251|     expect(strategy._0[0].TAG).toBe('PerformRollback')

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[25/50]âŽ¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Error Recovery > determines rollback strategy for cancellations
TypeError: makeCancellationEvent is not a function
 â¯ src/__tests__/runtime/transition-validator.test.ts:256:38
    254| 
    255|   it('determines rollback strategy for cancellations', () => {
    256|     const cancelEvent = StateMachine.makeCancellationEvent('user-123')
       |                                      ^
    257| 
    258|     const strategy = TransitionValidator.determineRollbackStrategy(

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[26/50]âŽ¯

 FAIL  src/__tests__/runtime/transition-validator.test.ts > TransitionValidator - Error Recovery > aborts transition after too many retry attempts
AssertionError: expected undefined to be 'AbortTransition' // Object.is equality

- Expected: 
"AbortTransition"

+ Received: 
undefined

 â¯ src/__tests__/runtime/transition-validator.test.ts:310:34
    308|     expect(recoveryAction).toBeDefined()
    309|     if (recoveryAction) {
    310|       expect(recoveryAction.TAG).toBe('AbortTransition')
       |                                  ^
    311|     }
    312|   })

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[27/50]âŽ¯

 FAIL  src/cli/__tests__/commands.test.ts > ConfigShowCommand > should error on nonexistent key
AssertionError: expected [Function] to throw error including 'not found' but got 'process.exit unexpectedly called withâ€¦'

- Expected
+ Received

- not found
+ process.exit unexpectedly called with "1"

 â¯ src/cli/__tests__/commands.test.ts:581:5
    579|     }
    580| 
    581|     await expect(configShowCommand(args)).rejects.toThrow('not found')
       |     ^
    582|   })
    583| })

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[28/50]âŽ¯

 FAIL  src/parser/__tests__/PhpParserService.test.ts > PhpParserService > parse > should extract constants
AssertionError: expected 0 to be greater than or equal to 1
 â¯ src/parser/__tests__/PhpParserService.test.ts:166:32
    164| 
    165|       const constants = result.symbols.filter(s => s.kind === 'constanâ€¦
    166|       expect(constants.length).toBeGreaterThanOrEqual(1);
       |                                ^
    167| 
    168|       if (constants.length > 0) {

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[29/50]âŽ¯

 FAIL  src/parser/__tests__/SqlParserService.test.ts > SqlParserService > parse > should extract CREATE PROCEDURE statements
AssertionError: expected 0 to be greater than or equal to 2
 â¯ src/parser/__tests__/SqlParserService.test.ts:179:33
    177| 
    178|       const procedures = result.symbols.filter(s => s.kind === 'functiâ€¦
    179|       expect(procedures.length).toBeGreaterThanOrEqual(2);
       |                                 ^
    180| 
    181|       const procedureNames = procedures.map(p => p.name);

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[30/50]âŽ¯

 FAIL  src/parser/__tests__/SqlParserService.test.ts > SqlParserService > parse > should handle materialized views
AssertionError: expected 0 to be greater than or equal to 1
 â¯ src/parser/__tests__/SqlParserService.test.ts:334:28
    332|       // Materialized views should be extracted as views
    333|       const views = result.symbols.filter(s => s.kind === 'class');
    334|       expect(views.length).toBeGreaterThanOrEqual(1);
       |                            ^
    335|     });
    336|   });

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[31/50]âŽ¯

 FAIL  src/parser/__tests__/SqlParserService.test.ts > SqlParserService > fixtures > should parse sample-sql-basic.sql
AssertionError: expected 3 to be greater than or equal to 5
 â¯ src/parser/__tests__/SqlParserService.test.ts:354:32
    352| 
    353|       expect(tables.length).toBeGreaterThanOrEqual(5);
    354|       expect(functions.length).toBeGreaterThanOrEqual(5);
       |                                ^
    355|       expect(indexes.length).toBeGreaterThanOrEqual(3);
    356|       expect(triggers.length).toBeGreaterThanOrEqual(2);

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[32/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should cache search results
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Cache.test.ts:39:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[33/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should provide significant speedup for cached queries
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Cache.test.ts:78:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[34/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should cache different queries separately
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Cache.test.ts:116:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[35/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should invalidate cache after indexing new file
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Cache.test.ts:143:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[36/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should clear cache manually
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Cache.test.ts:165:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[37/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Cache.test.ts > FileService Cache > should respect different query parameters
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Cache.test.ts:191:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[38/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should index files with different languages
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Filters.simple.test.ts:22:34

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should find TypeScript symbols with lang:typescript filter
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Filters.simple.test.ts:33:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[40/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should find Python symbols with lang:python filter
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Filters.simple.test.ts:54:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[41/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should exclude languages with -lang:python
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Filters.simple.test.ts:72:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[42/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should filter by kind:class
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Filters.simple.test.ts:91:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[43/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should filter by kind:function
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Filters.simple.test.ts:112:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[44/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should filter by file pattern (file:*.ts)
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Filters.simple.test.ts:128:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[45/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should apply combined filters (lang:typescript kind:class)
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Filters.simple.test.ts:150:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[46/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Filters.simple.test.ts > FileService - Query Filters (Simple) > should work without filters
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Filters.simple.test.ts:172:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[47/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Python.simple.test.ts > FileService - Python End-to-End > should index and retrieve Python file with classes and functions
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Python.simple.test.ts:28:32

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[48/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Python.simple.test.ts > FileService - Python End-to-End > should distinguish Python functions from methods
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Python.simple.test.ts:55:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[49/50]âŽ¯

 FAIL  src/services/__tests__/FileService-Python.simple.test.ts > FileService - Python End-to-End > should index both TypeScript and Python files correctly
SqliteError: no such table: files
 â¯ Database.prepare node_modules/better-sqlite3/lib/methods/wrappers.js:5:21
 â¯ FileDAO.insert src/database/dao/FileDAO.ts:63:26
     61|     const size = Buffer.byteLength(file.content, 'utf8');
     62| 
     63|     const stmt = this.db.prepare(`
       |                          ^
     64|       INSERT INTO files (path, content, hash, size, language)
     65|       VALUES (?, ?, ?, ?, ?)
 â¯ src/services/FileService.ts:140:35
 â¯ sqliteTransaction node_modules/better-sqlite3/lib/methods/transaction.js:65:24
 â¯ Module.transaction src/database/connection.ts:112:10
 â¯ FileService.indexFile src/services/FileService.ts:138:20
 â¯ src/services/__tests__/FileService-Python.simple.test.ts:75:17

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Serialized Error: { code: 'SQLITE_ERROR' }
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[50/50]âŽ¯

 Test Files  11 failed | 37 passed (48)
      Tests  50 failed | 966 passed (1016)
   Start at  12:32:06
   Duration  8.31s (transform 667ms, setup 2ms, collect 1.60s, tests 11.02s, environment 4ms, prepare 1.59s)


 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
